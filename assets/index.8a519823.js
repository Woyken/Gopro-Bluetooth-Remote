var Ma=Object.defineProperty;var ze=Object.getOwnPropertySymbols;var Ra=Object.prototype.hasOwnProperty,Va=Object.prototype.propertyIsEnumerable;var Ze=(e,t,s)=>t in e?Ma(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,j=(e,t)=>{for(var s in t||(t={}))Ra.call(t,s)&&Ze(e,s,t[s]);if(ze)for(var s of ze(t))Va.call(t,s)&&Ze(e,s,t[s]);return e};import{c as Ye,t as Xe,u as ka,j as f,B as fe,a as o,T as k,b as D,r as I,d as z,e as u,f as Je,g as Ba,h as Ga,i as Oa,C as H,A as Ea,k as _a,l as w,I as Z,m as Na,n as Fa,o as Wa,p as Ha,q as Ua,s as Ka,v as $a,w as qa,F as ne,P as ye,D as ja,x as za,y as Za,z as Ya,S as Xa,M as Ja,E as Qa,G as ei,H as ti,J as si,K as ai,L as ii,N as ni,O as oi,Q as li,R as ri,U as ci,V as di,W as ui}from"./vendor.95d344ab.js";const pi=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}};pi();const mi={palette:{mode:"light",primary:{main:"#885200",contrastText:"#ffffff",light:"#ffddb8",dark:"#2c1700"},secondary:{main:"#715a41",contrastText:"#ffffff",light:"#fdddbd",dark:"#281805"},error:{main:"#ba1b1b",contrastText:"#ffffff",light:"#ffdad4",dark:"#410001"},divider:"#837568"}},gi={palette:{mode:"dark",primary:{main:"#ffb85f",contrastText:"#482900",light:"#673d00",dark:"#ffddb8"},secondary:{main:"#dfc1a2",contrastText:"#3f2d17",light:"#58432b",dark:"#fdddbd"},error:{main:"#ffb4a9",contrastText:"#680003",light:"#930006",dark:"#ffdad4"},divider:"#9d8e81"}},hi=Ye(mi),bi=Ye(gi),Qe=()=>ka("(prefers-color-scheme: dark)")?bi:hi,{makeStyles:oe,withStyles:Xo}=Xe.createMakeAndWithStyles({useTheme:Qe}),vi=oe()({flexContent:{display:"flex",flexDirection:"row"}}),fi=e=>{const{classes:t}=vi(),s=()=>{e.updateServiceWorker(!0)};return f(fe,{className:t.flexContent,children:[o(k,{variant:"body1",children:"App was updated, reload to see the changes"}),o(D,{style:{display:"inline"},onClick:s,children:"Reload"})]})},yi="modulepreload",et={},Si="/Gopro-Bluetooth-Remote/",wi=function(t,s){return!s||s.length===0?t():Promise.all(s.map(a=>{if(a=`${Si}${a}`,a in et)return;et[a]=!0;const i=a.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${l}`))return;const r=document.createElement("link");if(r.rel=i?"stylesheet":yi,i||(r.as="script",r.crossOrigin=""),r.href=a,document.head.appendChild(r),i)return new Promise((d,h)=>{r.addEventListener("load",d),r.addEventListener("error",h)})})).then(()=>t())};function Ci(){const[e,t]=I.exports.useState();return I.exports.useEffect(()=>{wi(()=>import("./react.bba66d62.js"),["assets/react.bba66d62.js","assets/vendor.95d344ab.js"]).then(t)},[t]),e}const Pi=60*60*1e3,Li=()=>{const e=Ci();return e?o(Ti,{pwaRegisterModule:e}):null},Ti=({pwaRegisterModule:e})=>{const{offlineReady:[t],needRefresh:[s],updateServiceWorker:a}=e.useRegisterSW({immediate:!0,onRegistered(i){console.log("SW registered",i),!!i&&setInterval(()=>{i.update()},Pi)},onRegisterError(i){console.log("SW registration error",i)}});return I.exports.useEffect(()=>{t&&z("App was installed and now will work offline")},[t]),I.exports.useEffect(()=>{s&&z(o(fi,{updateServiceWorker:a}),{autoClose:!1})},[s,a]),o("div",{})},y={},tt=[];async function st(e,t){let s=tt.find(a=>a.context===t);s||(s={context:t,promise:Promise.resolve()},tt.push(s)),s.promise=s.promise.then(()=>e()),await s.promise}const b=[{id:0,label:"False"},{id:1,label:"True"}],at={id:1,label:"Internal camera present",description:"Is the internal camera present?",type:"boolean",values:b},it={id:2,label:"Internal battery level",description:"Rough approximation of internal battery level in bars",type:"integer",values:[{id:0,label:"Zero"},{id:1,label:"One"},{id:2,label:"Two"},{id:3,label:"Three"},{id:4,label:"Charging"}]},nt={id:3,label:"External battery present",description:"Is an external battery connected?",type:"boolean",values:b},ot={id:4,label:"External battery level",description:"External battery power level in percent",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},lt={id:6,label:"System hot",description:"Is the system currently overheating?",type:"boolean",values:b},Se={id:8,label:"System busy",description:"Is the camera busy?",type:"boolean",values:b},rt={id:9,label:"Quick capture active",description:"Is Quick Capture feature enabled?",type:"boolean",values:b},we={id:10,label:"Encoding active",description:"Is the system encoding right now?",type:"boolean",values:b},ct={id:11,label:"Lcd lock active",description:"Is LCD lock active?",type:"boolean",values:b},dt={id:13,label:"Video progress counter",description:"When encoding video, this is the duration (seconds) of the video so far; 0 otherwise",type:"integer",values:[{id:0,label:"0s"},{id:59,label:"59s"}]},ut={id:17,label:"Enable",description:"Are Wireless Connections enabled?",type:"boolean",values:b},pt={id:19,label:"State",description:"The pairing state of the camera",type:"integer",values:[{id:0,label:"Success"},{id:1,label:"In Progress"},{id:2,label:"Failed"},{id:3,label:"Stopped"}]},mt={id:20,label:"Type",description:"The last type of pairing that the camera was engaged in",type:"integer",values:[{id:0,label:"Not Pairing"},{id:1,label:"Pairing App"},{id:2,label:"Pairing Remote Control"},{id:3,label:"Pairing Bluetooth Device"}]},gt={id:21,label:"Pair time",description:"Time (milliseconds) since boot of last successful pairing complete action",type:"integer",values:[]},ht={id:22,label:"State",description:"State of current scan for WiFi Access Points. Appears to only change for CAH-related scans",type:"integer",values:[{id:0,label:"Never started"},{id:1,label:"Started"},{id:2,label:"Aborted"},{id:3,label:"Canceled"},{id:4,label:"Completed"}]},bt={id:23,label:"Scan time msec",description:"The time, in milliseconds since boot that the WiFi Access Point scan completed",type:"integer",values:[]},vt={id:24,label:"Provision status",description:"WiFi AP provisioning state",type:"integer",values:[{id:0,label:"Never started"},{id:1,label:"Started"},{id:2,label:"Aborted"},{id:3,label:"Canceled"},{id:4,label:"Completed"}]},ft={id:26,label:"Remote control version",description:"Wireless remote control version",type:"integer",values:[]},yt={id:27,label:"Remote control connected",description:"Is a wireless remote control connected?",type:"boolean",values:b},St={id:28,label:"Pairing",description:"Wireless Pairing State",type:"integer",values:[]},wt={id:29,label:"Wlan ssid",description:"Provisioned WIFI AP SSID. On BLE connection, value is big-endian byte-encoded int",type:"string",values:[]},Ct={id:30,label:"Ap ssid",description:"Camera's WIFI SSID. On BLE connection, value is big-endian byte-encoded int",type:"string",values:[]},Pt={id:31,label:"App count",description:"The number of wireless devices connected to the camera",type:"integer",values:[]},Lt={id:32,label:"Enable",description:"Is Preview Stream enabled?",type:"boolean",values:b},Tt={id:33,label:"Sd status",description:"Primary Storage Status",type:"integer",values:[{id:-1,label:"Unknown"},{id:0,label:"OK"},{id:1,label:"SD Card Full"},{id:2,label:"SD Card Removed"},{id:3,label:"SD Card Format Error"},{id:4,label:"SD Card Busy"},{id:8,label:"SD Card Swapped"}]},It={id:34,label:"Remaining photos",description:"How many photos can be taken before sdcard is full",type:"integer",values:[]},At={id:35,label:"Remaining video time",description:"How many minutes of video can be captured with current settings before sdcard is full",type:"integer",values:[]},xt={id:36,label:"Num group photos",description:"How many group photos can be taken with current settings before sdcard is full",type:"integer",values:[]},Dt={id:37,label:"Num group videos",description:"Total number of group videos on sdcard",type:"integer",values:[]},Mt={id:38,label:"Num total photos",description:"Total number of photos on sdcard",type:"integer",values:[]},Rt={id:39,label:"Num total videos",description:"Total number of videos on sdcard",type:"integer",values:[]},Vt={id:40,label:"Date time",description:"Current date/time (format: %YY%MM%DD%HH%MM%SS, all values in hex)",type:"string",values:[]},kt={id:41,label:"Ota status",description:"The current status of Over The Air (OTA) update",type:"integer",values:[{id:0,label:"Idle"},{id:1,label:"Downloading"},{id:2,label:"Verifying"},{id:3,label:"Download Failed"},{id:4,label:"Verify Failed"},{id:5,label:"Ready"},{id:6,label:"GoPro App: Downloading"},{id:7,label:"GoPro App: Verifying"},{id:8,label:"GoPro App: Download Failed"},{id:9,label:"GoPro App: Verify Failed"},{id:10,label:"GoPro App: Ready"}]},Bt={id:42,label:"Download cancel request pending",description:"Is there a pending request to cancel a firmware update download?",type:"boolean",values:b},Ii={id:43,label:"Current open preset group",description:"Looks like legacy status, that represented UI group, doesnt match current UI, probably manually mapped to new UI...",type:"integer",values:[{id:0,label:"Legacy Video Group"},{id:1,label:"Legacy Photo Group"},{id:2,label:"Legacy Multishot Group"}]},Ai={id:44,label:"Current open preset group child",description:"Looks like legacy status, that represented UI group child mode, doesnt match current UI, probably manually mapped to new UI...",type:"integer",values:[{id:0,label:"1st child by group (group 0 - video, group 1 - ???, group 2 - burst photo)"},{id:1,label:"2nd child by group (group 0 - timelapse video, group 1 - photo, group 2 - timelapse photo)"},{id:2,label:"3rd child by group (group 0 - ???, group 1 - night photo, group 2 - nightlapse photo)"},{id:3,label:"4th child by group (group 0 - looping video)"},{id:4,label:"5th child by group (group 0 - timewarp)"}]},Gt={id:45,label:"Camera locate active",description:"Is locate camera feature active?",type:"boolean",values:b},Ot={id:49,label:"Multi shot count down",description:"The current timelapse interval countdown value (e.g. 5...4...3...2...1...)",type:"integer",values:[]},Et={id:54,label:"Remaining space",description:"Remaining space on the sdcard in Kilobytes",type:"integer",values:[]},_t={id:55,label:"Supported",description:"Is preview stream supported in current recording/flatmode/secondary-stream?",type:"boolean",values:b},Nt={id:56,label:"Wifi bars",description:"WiFi signal strength in bars",type:"integer",values:[]},Ft={id:57,label:"Current time msec",description:"System time in milliseconds since system was booted",type:"integer",values:[]},Wt={id:58,label:"Num hilights",description:"The number of hilights in encoding video (set to 0 when encoding stops)",type:"integer",values:[]},Ht={id:59,label:"Last hilight time msec",description:"Time since boot (msec) of most recent hilight in encoding video (set to 0 when encoding stops)",type:"integer",values:[]},Ut={id:60,label:"Next poll msec",description:"The min time between camera status updates (msec). Do not poll for status more often than this",type:"integer",values:[]},Kt={id:63,label:"In contextual menu",description:"Is the camera currently in a contextual menu (e.g. Preferences)?",type:"boolean",values:b},$t={id:64,label:"Remaining timelapse time",description:"How many min of Timelapse video can be captured with current settings before sdcard is full",type:"integer",values:[]},qt={id:65,label:"Exposure select type",description:"Liveview Exposure Select Mode",type:"integer",values:[{id:0,label:"Disabled"},{id:1,label:"Auto"},{id:2,label:"ISO Lock"},{id:3,label:"Hemisphere"}]},jt={id:66,label:"Exposure select x",description:"Liveview Exposure Select: x-coordinate (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},zt={id:67,label:"Exposure select y",description:"Liveview Exposure Select: y-coordinate (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},Zt={id:68,label:"Gps status",description:"Does the camera currently have a GPS lock?",type:"boolean",values:b},Ce={id:69,label:"Ap state",description:"Is the WiFi radio enabled?",type:"boolean",values:b},Yt={id:70,label:"Internal battery percentage",description:"Internal battery level (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},xi={id:72,label:"Last photo mode",description:"Last photo mode in UI",type:"integer",values:[{id:17,label:"Photo"},{id:19,label:"Burst"},{id:18,label:"Night"}]},Di={id:71,label:"Last video mode",description:"Last video mode in UI",type:"integer",values:[{id:12,label:"Video"},{id:15,label:"Looping"}]},Mi={id:73,label:"Last timelapse mode",description:"Last timelapse mode in UI",type:"integer",values:[{id:24,label:"Timewarp"},{id:13,label:"Timelapse Video"},{id:20,label:"Timelapse Photo"},{id:21,label:"Nightlapse Photo"}]},Xt={id:74,label:"Acc mic status",description:"Microphone Accesstory status",type:"integer",values:[{id:0,label:"Microphone mod not connected"},{id:1,label:"Microphone mod connected"},{id:2,label:"Microphone mod connected and microphone plugged into Microphone mod"}]},Jt={id:75,label:"Digital zoom",description:"Digital Zoom level (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},Qt={id:76,label:"Wireless band",description:"Wireless Band",type:"integer",values:[{id:0,label:"2.4 GHz"},{id:1,label:"5 GHz"},{id:2,label:"Max"}]},es={id:77,label:"Digital zoom active",description:"Is Digital Zoom feature available?",type:"boolean",values:b},ts={id:78,label:"Mobile friendly video",description:"Are current video settings mobile friendly? (related to video compression and frame rate)",type:"boolean",values:b},ss={id:79,label:"First time use",description:"Is the camera currently in First Time Use (FTU) UI flow?",type:"boolean",values:b},as={id:81,label:"Band 5ghz avail",description:"Is 5GHz wireless band available?",type:"boolean",values:b},le={id:82,label:"System ready",description:"Is the system ready to accept commands?",type:"boolean",values:b},is={id:83,label:"Batt okay for ota",description:"Is the internal battery charged sufficiently to start Over The Air (OTA) update?",type:"boolean",values:b},ns={id:85,label:"Video low temp alert",description:"Is the camera getting too cold to continue recording?",type:"boolean",values:b},os={id:86,label:"Actual orientation",description:"The rotational orientation of the camera",type:"integer",values:[{id:0,label:"0 degrees (upright)"},{id:1,label:"180 degrees (upside down)"},{id:2,label:"90 degrees (laying on right side)"},{id:3,label:"270 degrees (laying on left side)"}]},ls={id:87,label:"Thermal mitigation mode",description:"Can camera use high resolution/fps (based on temperature)? (HERO7 Silver/White only)",type:"boolean",values:b},rs={id:88,label:"Zoom while encoding",description:"Is this camera capable of zooming while encoding (static value based on model, not settings)",type:"boolean",values:b},cs={id:89,label:"Current mode",description:"Current flatmode ID",type:"integer",values:[]},ds={id:91,label:"Logs ready",description:"Are system logs ready to be downloaded?",type:"boolean",values:b},us={id:92,label:"Timewarp 1x active",description:"Is Timewarp 1x active?",type:"boolean",values:b},ps={id:93,label:"Active video presets",description:"Current Video Preset (ID)",type:"integer",values:[]},ms={id:94,label:"Active photo presets",description:"Current Photo Preset (ID)",type:"integer",values:[]},gs={id:95,label:"Active timelapse presets",description:"Current Timelapse Preset (ID)",type:"integer",values:[]},hs={id:96,label:"Active presets group",description:"Current Preset Group (ID)",type:"integer",values:[]},bs={id:97,label:"Active preset",description:"Current Preset (ID)",type:"integer",values:[]},vs={id:98,label:"Preset modified",description:"Preset Modified Status, which contains an event ID and a preset (group) ID",type:"integer",values:[]},fs={id:99,label:"Remaining live bursts",description:"How many Live Bursts can be captured before sdcard is full",type:"integer",values:[]},ys={id:100,label:"Num total live bursts",description:"Total number of Live Bursts on sdcard",type:"integer",values:[]},Ss={id:101,label:"Capture delay active",description:"Is Capture Delay currently active (i.e. counting down)?",type:"boolean",values:b},ws={id:102,label:"Media mod mic status",description:"Media mod State",type:"integer",values:[{id:0,label:"Media mod microphone removed"},{id:2,label:"Media mod microphone only"},{id:3,label:"Media mod microphone with external microphone"}]},Cs={id:103,label:"Timewarp speed ramp active",description:"Time Warp Speed",type:"integer",values:[{id:0,label:"15x"},{id:1,label:"30x"},{id:2,label:"60x"},{id:3,label:"150x"},{id:4,label:"300x"},{id:5,label:"900x"},{id:6,label:"1800x"},{id:7,label:"2x"},{id:8,label:"5x"},{id:9,label:"10x"},{id:10,label:"Auto"},{id:11,label:"1x (realtime)"},{id:12,label:"1/2x (slow-motion)"}]},Ps={id:104,label:"Linux core active",description:"Is the system's Linux core active?",type:"boolean",values:b},Ls={id:105,label:"Camera lens type",description:"Camera lens type (reflects changes to setting 162)",type:"integer",values:[{id:0,label:"Default"},{id:1,label:"Max Lens"}]},Ts={id:106,label:"Video hindsight capture active",description:"Is Video Hindsight Capture Active?",type:"boolean",values:b},Is={id:107,label:"Scheduled preset",description:"Scheduled Capture Preset ID",type:"integer",values:[]},As={id:108,label:"Scheduled enabled",description:"Is Scheduled Capture set?",type:"boolean",values:b},xs={id:109,label:"Creating preset",description:"Is the camera in the process of creating a custom preset?",type:"boolean",values:b},Ds={id:110,label:"Media mod status",description:"Media Mode Status (bitmasked)",type:"integer",values:[{id:0,label:"Display (selfie) mod: 0, HDMI: 0, Media Mod Connected: False"},{id:1,label:"Display (selfie) mod: 0, HDMI: 0, Media Mod Connected: True"},{id:2,label:"Display (selfie) mod: 0, HDMI: 1, Media Mod Connected: False"},{id:3,label:"Display (selfie) mod: 0, HDMI: 1, Media Mod Connected: True"},{id:4,label:"Display (selfie) mod: 1, HDMI: 0, Media Mod Connected: False"},{id:5,label:"Display (selfie) mod: 1, HDMI: 0, Media Mod Connected: True"},{id:6,label:"Display (selfie) mod: 1, HDMI: 1, Media Mod Connected: False"},{id:7,label:"Display (selfie) mod: 1, HDMI: 1, Media Mod Connected: True"}]},Ms={id:113,label:"Turbo transfer",description:"Is Turbo Transfer active?",type:"boolean",values:b},Ri=[at,it,nt,ot,lt,Se,rt,we,ct,dt,ut,pt,mt,gt,ht,bt,vt,ft,yt,St,wt,Ct,Pt,Lt,Tt,It,At,xt,Dt,Mt,Rt,Vt,kt,Bt,Gt,Ot,Et,_t,Nt,Ft,Wt,Ht,Ut,Kt,$t,qt,jt,zt,Zt,Ce,Yt,Xt,Jt,Qt,es,ts,ss,as,le,is,ns,os,ls,rs,cs,ds,us,ps,ms,gs,hs,bs,vs,fs,ys,Ss,ws,Cs,Ps,Ls,Ts,Is,As,xs,Ds,Ms];function Rs(){const{statuses:e}=Ie.getState().goproSettingsReducer;return e[le.id]}async function Vi(){Rs()||await new Promise(e=>{const t=Ie.subscribe(()=>{Rs()&&(t(),e())})})}async function ki(e){const{characteristics:t}=y;if(!t)throw new Error("no characteristics");const{commandCharacteristic:s}=t;await Vi(),await st(async()=>{await X(s,e)},s)}const p=u("commands/sendCommandAction",async e=>{await ki(e)});u("commands/forceShutdownCommand",async(e,{dispatch:t})=>{await t(p([4]))});u("commands/hiLightTagCommand",async(e,{dispatch:t})=>{await t(p([24]))});u("commands/locateOnCommand",async(e,{dispatch:t})=>{await t(p([22,1,1]))});u("commands/locateOffCommand",async(e,{dispatch:t})=>{await t(p([22,1,0]))});const Bi=u("commands/legacyPresetsLoadGroupVideoCommand",async(e,{dispatch:t})=>{await t(p([2,1,0]))}),Gi=u("commands/legacyPresetsLoadGroupPhotoCommand",async(e,{dispatch:t})=>{await t(p([2,1,1]))}),Oi=u("commands/legacyPresetsLoadGroupMultishotCommand",async(e,{dispatch:t})=>{await t(p([2,1,2]))});u("commands/legacyPresetsLoadPresetVideoCommand",async(e,{dispatch:t})=>{await t(p([3,1,0,1,0]))});u("commands/legacyPresetsLoadPresetTimeLapseVideoCommand",async(e,{dispatch:t})=>{await t(p([3,1,0,1,1]))});u("commands/legacyPresetsLoadPresetLoopingVideoCommand",async(e,{dispatch:t})=>{await t(p([3,1,0,1,3]))});u("commands/legacyPresetsLoadPresetTimewarpCommand",async(e,{dispatch:t})=>{await t(p([3,1,0,1,4]))});u("commands/legacyPresetsLoadPresetPhotoCommand",async(e,{dispatch:t})=>{await t(p([3,1,1,1,1]))});u("commands/legacyPresetsLoadPresetNightPhotoCommand",async(e,{dispatch:t})=>{await t(p([3,1,1,1,2]))});u("commands/legacyPresetsLoadPresetBurstPhotoCommand",async(e,{dispatch:t})=>{await t(p([3,1,2,1,0]))});u("commands/legacyPresetsLoadPresetTimeLapsePhotoCommand",async(e,{dispatch:t})=>{await t(p([3,1,2,1,1]))});u("commands/legacyPresetsLoadPresetNightLapsePhotoCommand",async(e,{dispatch:t})=>{await t(p([3,1,2,1,2]))});const Ei=u("commands/sleepCommand",async(e,{dispatch:t})=>{await t(p([5]))}),Vs=u("commands/getHardwareInfoCommand",async(e,{dispatch:t})=>{await t(p([60]))}),_i=u("commands/setShutterOffCommand",async(e,{dispatch:t})=>{await t(p([1,1,0]))}),Ni=u("commands/setShutterOnCommand",async(e,{dispatch:t})=>{await t(p([1,1,1]))}),Fi=u("commands/apControlWiFiApOffCommand",async(e,{dispatch:t})=>{await t(p([23,1,0]))}),Wi=u("commands/apControlWiFiApOnCommand",async(e,{dispatch:t})=>{await t(p([23,1,1]))});u("commands/presetsLoadGroupVideoCommand",async(e,{dispatch:t})=>{await t(p([62,2,3,232]))});u("commands/presetsLoadGroupPhotoCommand",async(e,{dispatch:t})=>{await t(p([62,2,3,233]))});u("commands/presetsLoadGroupTimelapseCommand",async(e,{dispatch:t})=>{await t(p([62,2,3,234]))});u("commands/presetsLoadStandardCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,0,0,0]))});u("commands/presetsLoadActivityCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,0,0,1]))});u("commands/presetsLoadCinematicCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,0,0,2]))});u("commands/presetsLoadUltraSloMoCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,0,0,4]))});u("commands/presetsLoadBasicCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,0,0,5]))});u("commands/presetsLoadPhotoCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,1,0,0]))});u("commands/presetsLoadLiveBurstCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,1,0,1]))});u("commands/presetsLoadBurstPhotoCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,1,0,2]))});u("commands/presetsLoadNightPhotoCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,1,0,3]))});u("commands/presetsLoadTimeWarpCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,2,0,0]))});u("commands/presetsLoadTimeLapseCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,2,0,1]))});u("commands/presetsLoadNightLapseCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,2,0,2]))});u("commands/presetsLoadStandardEBCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,8,0,0]))});u("commands/presetsLoadActivityEBCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,8,0,1]))});u("commands/presetsLoadCinematicEBCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,8,0,2]))});u("commands/presetsLoadSloMoEBCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,8,0,3]))});u("commands/presetsLoad4KTripodCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,9,0,0]))});u("commands/presetsLoad53KTripodCommand",async(e,{dispatch:t})=>{await t(p([64,4,0,9,0,1]))});u("commands/analyticsSetThirdPartyClientCommand",async(e,{dispatch:t})=>{await t(p([80]))});const ks=u("commands/openGoProGetVersionCommand",async(e,{dispatch:t})=>{await t(p([81]))});function Hi(e){return t=>{const s=Ki(t);$i(e,s)}}function Ui(e){switch(e){case 0:return U.success;case 1:return U.error;case 2:return U.invalidParameter;default:return U.unknown}}var U;(function(e){e[e.unknown=0]="unknown",e[e.success=1]="success",e[e.error=2]="error",e[e.invalidParameter=3]="invalidParameter"})(U||(U={}));function Ki(e){if(e.length<2)throw new Error("command response too short");const t=e[0],s=Ui(e[1]),a=e.slice(2);return{commandId:t,errorCode:s,data:a}}var Bs;(function(e){e[e.SetShutter=1]="SetShutter",e[e.Sleep=5]="Sleep",e[e.APControl=23]="APControl",e[e.GetHardwareInfo=60]="GetHardwareInfo",e[e.PresetsLoadGroup=62]="PresetsLoadGroup",e[e.PresetsLoad=64]="PresetsLoad",e[e.Analytics=80]="Analytics",e[e.OpenGoProGetVersion=81]="OpenGoProGetVersion"})(Bs||(Bs={}));function $i(e,t){switch(t.commandId){case 60:{if(t.errorCode===2){e(Vs());break}e(J.actions.getHardwareInfoResponse(qi(t)));break}case 81:{if(t.errorCode===2){e(ks());break}if(t.errorCode===3){e(J.actions.openGoProGetVersionResponse({majorVersion:0,minorVersion:0}));break}e(J.actions.openGoProGetVersionResponse(ji(t)));break}}}function qi(e){var v,W,Ue,Ke,$e,qe,je;const{data:t}=e;let s=0;const a=(v=t[s++])!=null?v:0,i=new Array(a).fill(0).map(()=>{var S;return(S=t[s++])!=null?S:0}),l=(W=t[s++])!=null?W:0,r=new Array(l).fill(0).map(()=>{var S;return String.fromCharCode((S=t[s++])!=null?S:0)}).join(""),d=(Ue=t[s++])!=null?Ue:0,h=new Array(d).fill(0).map(()=>{var S;return String.fromCharCode((S=t[s++])!=null?S:0)}).join(""),m=(Ke=t[s++])!=null?Ke:0,g=new Array(m).fill(0).map(()=>{var S;return String.fromCharCode((S=t[s++])!=null?S:0)}).join(""),P=($e=t[s++])!=null?$e:0,x=new Array(P).fill(0).map(()=>{var S;return String.fromCharCode((S=t[s++])!=null?S:0)}).join(""),R=(qe=t[s++])!=null?qe:0,A=new Array(R).fill(0).map(()=>{var S;return String.fromCharCode((S=t[s++])!=null?S:0)}).join(""),N=(je=t[s++])!=null?je:0,V=new Array(N).fill(0).map(()=>{var S;return String.fromCharCode((S=t[s++])!=null?S:0)}).join("");return{modelNumber:i,modelName:r,boardType:h,firmwareVersion:g,serialNumber:x,apSsid:A,apMacAddress:V}}function ji(e){const{data:t}=e;let s=0;const a=t[s++],i=new Array(a).fill(0).map(()=>{var d;return(d=t[s++])!=null?d:0}).reduce((d,h)=>(d<<8)+h),l=t[s++],r=new Array(l).fill(0).map(()=>{var d;return(d=t[s++])!=null?d:0}).reduce((d,h)=>(d<<8)+h);return{majorVersion:i,minorVersion:r}}const zi={settings:{},statuses:{},isFetching:!1},F=Je({name:"goproSettings",initialState:zi,reducers:{settingsReceived:(e,t)=>{e.settings=j(j({},e.settings),t.payload)},settingsRequested:e=>{e.isFetching=!0},settingsRequestFailed:e=>{e.isFetching=!1},statusesReceived:(e,t)=>{e.statuses=j(j({},e.statuses),t.payload)}}}),Zi=F.reducer;u("goproSettings/fetchSettings",async()=>{const{characteristics:e}=y;if(!e)throw new Error("no characteristics");const{queryCharacteristic:t}=e;await t.writeValue(new Uint8Array([1,18]))});function Yi(e){return t=>{const s=Xi(t);tn(e,s)}}function Xi(e){if(e.length<2)throw new Error("command response too short");const t=e[0],s=en(e[1]),a=Ji(e.slice(2));return{queryId:t,errorCode:s,statusesOrSettings:a}}function Ji(e){const t=[];let s=0;for(;s<e.length;){const a=Qi(e.slice(s));t.push(a),s+=a.value.length+2}return t}function Qi(e){var i,l;const t=(i=e[0])!=null?i:0,s=(l=e[1])!=null?l:0,a=e.slice(2,s+2);return{id:t,length:s,value:a}}function en(e){switch(e){case 0:return K.success;case 1:return K.error;case 2:return K.invalidParameter;default:return K.unknown}}var K;(function(e){e[e.unknown=0]="unknown",e[e.success=1]="success",e[e.error=2]="error",e[e.invalidParameter=3]="invalidParameter"})(K||(K={}));var Gs;(function(e){e[e.getSettingValue=18]="getSettingValue",e[e.getStatusValue=19]="getStatusValue",e[e.registerForSettingUpdates=82]="registerForSettingUpdates",e[e.registerForStatusUpdates=83]="registerForStatusUpdates",e[e.unregisterForSettingUpdates=114]="unregisterForSettingUpdates",e[e.unregisterForStatusUpdates=115]="unregisterForStatusUpdates",e[e.settingUpdate=146]="settingUpdate",e[e.statusUpdate=147]="statusUpdate"})(Gs||(Gs={}));const Pe=e=>e.reduce((t,s)=>{if(s.value.length===0)return t;const a=s.value.reduce((l,r)=>(l<<8)+r),{length:i}=s;return t[s.id]={value:a,length:i},t},{}),Le=e=>e.reduce((t,s)=>{const a=s.value.length,i=Ri.find(r=>r.id===s.id);if((i==null?void 0:i.type)==="string"||a>4){const r=s.value.map(d=>String.fromCharCode(d)).join("");return t[s.id]=r,t}if(s.value.length===0)return t;const l=s.value.reduce((r,d)=>(r<<8)+d);return t[s.id]=l,t},{});function tn(e,t){switch(t.queryId){case 18:e(F.actions.settingsReceived(Pe(t.statusesOrSettings)));break;case 82:e(F.actions.settingsReceived(Pe(t.statusesOrSettings)));break;case 146:e(F.actions.settingsReceived(Pe(t.statusesOrSettings)));break;case 19:e(F.actions.statusesReceived(Le(t.statusesOrSettings)));break;case 83:e(F.actions.statusesReceived(Le(t.statusesOrSettings)));break;case 147:e(F.actions.statusesReceived(Le(t.statusesOrSettings)));break}}function sn(e){return t=>{}}function Te(e){let t=[],s=0;return a=>{const i=a.target;async function l(){const{value:r}=i;if(!r)throw new Error("This should not be possible, empty response value");const d=an(r);if(d.header.isStart?(s=d.header.messageLength,t=d.data):t.push(...d.data),t.length===s)return t;if(t.length>s)throw new Error("Did response messages get out of sync?")}l().then(r=>{!r||(e(r),console.log("packet dump",r))}).catch(r=>{z(`Error while parsing response message ${r}`)})}}function an(e){const t=nn(e),s=Array.from(new Uint8Array(e.buffer)).slice(t.headerSizeBytes);return{header:t,data:s}}function nn(e){const t=e.getUint8(0);let s=1;if(!((t&128)>>7==0)){const r=t&127;return{isStart:!1,headerSizeBytes:1,continuationIndex:r}}const i=(t&96)>>5;let l;if(i===0)l=t&31;else if(i===1){s=2;const r=e.getUint8(1);l=(t&31)<<8|r}else if(i===2){s=3;const r=e.getUint8(1),d=e.getUint8(2);l=r<<8|d}else if(i===3)l=0;else throw new Error("IMPOSSIBLE");return{isStart:!0,headerSizeBytes:s,messageLength:l}}const on=u("queryCommands/subscribeToSettingsChangesCommand",async e=>{const{characteristics:t}=y;if(!t)throw new Error("no characteristics");const{queryCharacteristic:s}=t;await X(s,[82,...e])}),Os=u("queryCommands/subscribeToStatusChangesCommand",async e=>{const{characteristics:t}=y;if(!t)throw new Error("no characteristics");const{queryCharacteristic:s}=t;await X(s,[83,...e])}),ln=u("queryCommands/getSettingsCommand",async()=>{const{characteristics:e}=y;if(!e)throw new Error("no characteristics");const{queryCharacteristic:t}=e;await X(t,[18])}),rn=u("queryCommands/getStatusesCommand",async()=>{const{characteristics:e}=y;if(!e)throw new Error("no characteristics");const{queryCharacteristic:t}=e;await X(t,[19])}),re=u("bluetoothDevice/requestDevice",async(e,{dispatch:t})=>{var a;const s=await navigator.bluetooth.requestDevice({filters:[{services:["0000fea6-0000-1000-8000-00805f9b34fb"]}],optionalServices:["0000fea6-0000-1000-8000-00805f9b34fb","b5f90001-aa8d-11e3-9046-0002a5d5c51b"]});return s.ongattserverdisconnected=()=>{y.characteristics=void 0,y.gattServer=void 0,t(J.actions.gattDisconnected("Connection lost")),z.error("Gopro disconnected, connection lost")},y.device=s,t(Y()),{deviceName:(a=s.name)!=null?a:s.id}}),Y=u("bluetoothDevice/gattConnect",async(e,{dispatch:t})=>{var V;const{device:s}=y;if(!s)throw new Error("device not found to connect to");if(!(s==null?void 0:s.gatt))throw new Error(`gatt missing for this device ${(V=s.name)!=null?V:s.id}`);const a=await s.gatt.connect(),i=a.getPrimaryService("b5f90001-aa8d-11e3-9046-0002a5d5c51b"),l=i.then(v=>v.getCharacteristic("b5f90002-aa8d-11e3-9046-0002a5d5c51b")),r=i.then(v=>v.getCharacteristic("b5f90003-aa8d-11e3-9046-0002a5d5c51b")),d=i.then(v=>v.getCharacteristic("b5f90004-aa8d-11e3-9046-0002a5d5c51b")),h=i.then(v=>v.getCharacteristic("b5f90005-aa8d-11e3-9046-0002a5d5c51b")),m=a.getPrimaryService("0000fea6-0000-1000-8000-00805f9b34fb"),g=m.then(v=>v.getCharacteristic("b5f90072-aa8d-11e3-9046-0002a5d5c51b")),P=m.then(v=>v.getCharacteristic("b5f90073-aa8d-11e3-9046-0002a5d5c51b")),x=m.then(v=>v.getCharacteristic("b5f90074-aa8d-11e3-9046-0002a5d5c51b")),R=m.then(v=>v.getCharacteristic("b5f90075-aa8d-11e3-9046-0002a5d5c51b")),A=m.then(v=>v.getCharacteristic("b5f90076-aa8d-11e3-9046-0002a5d5c51b")),N=m.then(v=>v.getCharacteristic("b5f90077-aa8d-11e3-9046-0002a5d5c51b"));y.gattServer=a,y.characteristics={wifiApSsidCharacteristic:await l,wifiApPasswordCharacteristic:await r,wifiApPowerCharacteristic:await d,wifiApStateCharacteristic:await h,commandCharacteristic:await g,commandResponseCharacteristic:await P,settingsCharacteristic:await x,settingsResponseCharacteristic:await R,queryCharacteristic:await A,queryResponseCharacteristic:await N},y.characteristics.commandResponseCharacteristic.oncharacteristicvaluechanged=Te(Hi(t)),await y.characteristics.commandResponseCharacteristic.startNotifications(),y.characteristics.queryResponseCharacteristic.oncharacteristicvaluechanged=Te(Yi(t)),await y.characteristics.queryResponseCharacteristic.startNotifications(),y.characteristics.settingsResponseCharacteristic.oncharacteristicvaluechanged=Te(sn()),await y.characteristics.settingsResponseCharacteristic.startNotifications(),await t(Os([le.id,we.id,Se.id])),await t(Os([...new Array(88).keys()])),await t(on([...new Array(112).keys()])),await t(ks()),await t(Vs())});async function cn(e,t){return e.writeValue(new Uint8Array(t))}function dn(e,t){if(t>0)return[128+(t&63)];if(e<=31)return[e&31];if(e<=8191)return[32+(e>>8&31),e&255];if(e<=65535)return[64,e>>8&255,e&255];throw z.error("packet too large"),new Error("data length too large")}async function X(e,t){console.log("writing data, before appending headers",t);const s=[...t];let a=0;for(;s.length>0;){s.unshift(...dn(t.length,a));const i=s.splice(0,20);await cn(e,i),a++}}const un={isRequestingDevice:!1,isDeviceSelected:!1,isGattConnected:!1,isGattConnecting:!1,deviceName:"unknown",goproBluetoothDeviceCommandsState:{isCommandInAction:!1}},J=Je({name:"bluetoothDevice",initialState:un,reducers:{gattDisconnected:(e,t)=>{e.isGattConnected=!1,e.error=t.payload},getHardwareInfoResponse:(e,t)=>{e.goproBluetoothDeviceCommandsState.getHardwareInfo=t.payload,e.deviceName=t.payload.apSsid},openGoProGetVersionResponse:(e,t)=>{e.goproBluetoothDeviceCommandsState.openGoProVersion=t.payload}},extraReducers:e=>{e.addCase(re.pending,t=>{y.device=void 0,t.isRequestingDevice=!0,t.isDeviceSelected=!1,t.error=void 0}),e.addCase(re.fulfilled,(t,s)=>{t.isRequestingDevice=!1,t.isDeviceSelected=!0,t.error=void 0,t.deviceName=s.payload.deviceName}),e.addCase(re.rejected,(t,s)=>{var a;y.device=void 0,t.isRequestingDevice=!1,t.isDeviceSelected=!1,t.error=(a=s.error.message)!=null?a:"unknown error"}),e.addCase(Y.pending,t=>{t.isGattConnecting=!0,t.isGattConnected=!1}),e.addCase(Y.fulfilled,t=>{t.isGattConnecting=!1,t.isGattConnected=!0}),e.addCase(Y.rejected,(t,s)=>{var a;t.isGattConnecting=!1,t.isGattConnected=!1,t.error=(a=s.error.message)!=null?a:"unknown error"})}}),pn=J.reducer,Ie=Ba({reducer:{goproBluetoothReducer:pn,goproSettingsReducer:Zi},devTools:!0}),ce=()=>Oa(),L=Ga,mn=()=>{const e=L(i=>i.goproBluetoothReducer.isGattConnecting),t=L(i=>i.goproBluetoothReducer.deviceName),s=L(i=>i.goproBluetoothReducer.error),a=ce();return o(H,{maxWidth:"sm",children:f(fe,{sx:{my:4},children:[o(k,{variant:"h4",component:"h1",gutterBottom:!0,children:e?`Connecting to ${t}...`:`Connect to ${t}`}),e?null:o(D,{onClick:()=>a(Y()),children:"Reconnect"}),s?o("div",{children:s}):null]})})},Es=e=>{const{errorTitle:t,errorDescription:s}=e;return f(H,{maxWidth:"sm",children:[o("h1",{children:t}),o("p",{children:s})]})},gn=()=>{const e=L(a=>a.goproBluetoothReducer.isRequestingDevice),t=L(a=>a.goproBluetoothReducer.error),s=ce();return o(H,{maxWidth:"sm",children:f(fe,{sx:{my:4},children:[o(k,{variant:"h4",component:"h1",gutterBottom:!0,children:e?"Select your GoPro":"Search for GoPro"}),o(D,{onClick:()=>s(re()),children:"Search"}),t?o("div",{children:t}):null]})})};function hn(){const[e,t]=I.exports.useState(),s=!!e,[a,i]=I.exports.useState(!1),[l,r]=I.exports.useState(!1),[d,h]=I.exports.useState(!1),m=()=>e?(r(!1),h(!1),e.prompt().then(({outcome:g})=>{r(g==="accepted"),h(g==="dismissed")})):Promise.reject(new Error('Tried installing before browser sent "beforeinstallprompt" event'));return I.exports.useEffect(()=>{const g=P=>{t(P)};return window.addEventListener("beforeinstallprompt",g),()=>{window.removeEventListener("beforeinstallprompt",g)}},[]),I.exports.useEffect(()=>{const g=()=>{i(!0)};return window.addEventListener("appinstalled",g),()=>{window.removeEventListener("appinstalled",g)}},[]),[s,l,d,a,m]}const bn=()=>{const[e,t,s,a,i]=hn(),[l,r]=I.exports.useState(!1),[d,h]=I.exports.useState(!1);I.exports.useEffect(()=>{let g;return s&&(r(!0),g=window.setTimeout(()=>{h(!0)},3e3)),()=>{window.clearTimeout(g)}},[s]);const m=()=>{i()};return!e||d?null:f(D,{color:"inherit",onClick:m,children:["Install",l?" \u{1F494}":""]})},vn=()=>o(Ea,{position:"sticky",children:f(_a,{children:[o(k,{variant:"h6",sx:{flexGrow:1},children:"GoPro Bluetooth remote"}),o(bn,{})]})}),fn=w(e=>e.goproBluetoothReducer.deviceName,e=>e),Q={id:2,label:"Resolution",length:1,values:[{id:18,label:"4K (4:3)"},{id:6,label:"2.7K (4:3)"},{id:7,label:"1440 (4:3)"},{id:10,label:"960 (4:3)"},{id:1,label:"4K"},{id:4,label:"2.7K"},{id:9,label:"1080"},{id:12,label:"720"}]},Ae={id:3,label:"FPS",length:1,values:[{id:0,label:"240"},{id:1,label:"120"},{id:5,label:"60"},{id:8,label:"30"},{id:10,label:"24"}]},ee={id:4,label:"FOV",length:1,values:[{id:4,label:"Linear"},{id:0,label:"Wide"},{id:3,label:"Super view"}]},_s={id:5,label:"Interval",length:1,values:[{id:0,label:"0.5s"},{id:1,label:"1s"},{id:2,label:"2s"},{id:3,label:"5s"},{id:4,label:"10s"},{id:5,label:"30s"},{id:6,label:"60s"}]},Ns={id:6,label:"Interval",length:1,values:[{id:0,label:"MAX"},{id:1,label:"5m"},{id:2,label:"20m"},{id:3,label:"60m"},{id:4,label:"120m"}]},xe={id:8,label:"Low light",length:1,values:[{id:0,label:"Off"},{id:1,label:"Auto"}]},B={id:10,label:"Protune",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},G={id:11,label:"White Balance",length:1,values:[{id:0,label:"Auto"},{id:8,label:"2300K"},{id:9,label:"2800K"},{id:10,label:"3200K"},{id:5,label:"4000K"},{id:11,label:"4500K"},{id:12,label:"5000K"},{id:2,label:"5500K"},{id:7,label:"6000K"},{id:3,label:"6500K"},{id:4,label:"Native"}]},O={id:12,label:"Color",length:1,values:[{id:0,label:"GoPro"},{id:1,label:"Flat"}]},$={id:13,label:"ISO max",length:1,values:[{id:0,label:"6400"},{id:3,label:"3200"},{id:1,label:"1600"},{id:4,label:"800"},{id:2,label:"400"},{id:7,label:"200"},{id:8,label:"100"}]},E={id:14,label:"Sharpness",length:1,values:[{id:0,label:"High"},{id:1,label:"Medium"},{id:2,label:"Low"}]},_={id:15,label:"EV comp",length:1,values:[{id:0,label:"+2"},{id:1,label:"+1.5"},{id:2,label:"+1"},{id:3,label:"+0.5"},{id:4,label:"0"},{id:5,label:"-0.5"},{id:6,label:"-1"},{id:7,label:"-1.5"},{id:8,label:"-2"}]},q={id:17,label:"FOV",length:1,values:[{id:0,label:"Wide"},{id:10,label:"Linear"}]},te={id:19,label:"Shutter",length:1,values:[{id:0,label:"Auto"},{id:6,label:"30s"},{id:5,label:"20s"},{id:4,label:"15s"},{id:3,label:"10s"},{id:2,label:"5s"},{id:1,label:"2s"}]},De={id:21,label:B.label,length:B.length,values:B.values},Me={id:22,label:G.label,length:G.length,values:G.values},Re={id:23,label:O.label,length:O.length,values:O.values},M={id:24,label:$.label,length:1,values:[{id:0,label:"800"},{id:1,label:"400"},{id:2,label:"200"},{id:3,label:"100"},{id:4,label:"1600"},{id:5,label:"3200"}]},Ve={id:25,label:E.label,length:E.length,values:E.values},ke={id:26,label:_.label,length:_.length,values:_.values},de={id:28,label:q.label,length:q.length,values:q.values},Fs={id:29,label:"Burst Rate",length:1,values:[{id:9,label:"Auto"},{id:8,label:"30/6s"},{id:7,label:"30/3s"},{id:6,label:"30/2s"},{id:5,label:"30/1s"},{id:4,label:"10/3s"},{id:3,label:"10/2s"},{id:2,label:"10/1s"},{id:1,label:"5/1s"},{id:0,label:"3/1s"}]},Ws={id:30,label:"Interval",length:1,values:[{id:0,label:"0.5s"},{id:1,label:"1s"},{id:2,label:"2s"},{id:5,label:"5s"},{id:10,label:"10s"},{id:30,label:"30s"},{id:60,label:"60s"}]},Hs={id:31,label:te.label,length:te.length,values:te.values},Us={id:32,label:"Interval",length:4,values:[{id:(14<<8)+17,label:"Auto"},{id:(0<<8)+4,label:"4s"},{id:(0<<8)+5,label:"5s"},{id:(0<<8)+10,label:"10s"},{id:(0<<8)+20,label:"20s"},{id:(0<<8)+60,label:"1m"},{id:(0<<8)+120,label:"2m"},{id:(1<<8)+44,label:"5m"},{id:(7<<8)+8,label:"30m"},{id:(14<<8)+16,label:"60m"}]},ue={id:34,label:B.label,length:B.length,values:B.values},pe={id:35,label:G.label,length:G.length,values:G.values},Be={id:36,label:O.label,length:O.length,values:O.values},me={id:37,label:$.label,length:M.length,values:M.values},Ge={id:38,label:E.label,length:E.length,values:E.values},Oe={id:39,label:_.label,length:_.length,values:_.values},Ks={id:51,label:"Touch Display Screen Saver",length:1,values:[{id:1,label:"1min"},{id:2,label:"2min"},{id:3,label:"3min"},{id:0,label:"Never"}]},$s={id:54,label:"Quick Capture",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},qs={id:73,label:"Shutter",length:1,values:[{id:0,label:"Auto"},{id:8,label:"1/60"},{id:13,label:"1/120"},{id:18,label:"1/240"},{id:22,label:"1/480"},{id:23,label:"1/960"}]},se={id:75,label:"ISO min",length:M.length,values:M.values},ge={id:76,label:se.label,length:M.length,values:M.values},Ee={id:78,label:"Stabilization",length:1,values:[{id:0,label:"Off"},{id:1,label:"Auto"}]},js={id:80,label:"Microphone",length:1,values:[{id:2,label:"Auto"},{id:1,label:"Wind"},{id:0,label:"Stereo"}]},zs={id:81,label:"Raw audio",length:1,values:[{id:3,label:"Off"},{id:0,label:"Low"},{id:1,label:"Medium"},{id:2,label:"High"}]},Zs={id:83,label:"Regional GPS",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},Ys={id:84,label:"Regional Language",length:1,values:[{id:0,label:"English"},{id:6,label:"French"}]},Xs={id:85,label:"Voice Control Language",length:1,values:[{id:0,label:"English (US)"},{id:1,label:"English (UK)"},{id:13,label:"English (India)"}]},Js={id:86,label:"Voice Control",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},Qs={id:87,label:"Beeps",length:1,values:[{id:0,label:"Mute"},{id:100,label:"High"},{id:70,label:"Medium"},{id:40,label:"Low"}]},ea={id:88,label:"Touch Display Brightness",length:1,values:[{id:100,label:"100%"},{id:80,label:"80%"},{id:10,label:"10%"}]},he={id:89,label:"Default Mode",length:1,values:[{id:12,label:"Video"},{id:15,label:"Looping"},{id:17,label:"Photo"},{id:18,label:"Night"},{id:19,label:"Burst"},{id:24,label:"Timewarp Video"},{id:13,label:"Timelapse Video"},{id:20,label:"Timelapse Photo"},{id:21,label:"Nightlapse Photo"}]},ta={id:91,label:"LEDs",length:1,values:[{id:0,label:"All Off"},{id:1,label:"Front Off Only"},{id:2,label:"All On"}]},yn={id:92,label:"Current Mode",length:he.length,values:he.values},sa={id:97,label:"Shutter",length:1,values:[{id:0,label:"Auto"},{id:1,label:"1/125"},{id:2,label:"1/250"},{id:3,label:"1/500"},{id:4,label:"1/1000"},{id:5,label:"1/2000"}]},ae={id:98,label:"RAW",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},aa={id:99,label:ae.label,length:ae.length,values:ae.values},ia={id:102,label:se.label,length:$.length,values:$.values},na={id:104,label:"Wake On Voice",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},oa={id:106,label:"Video Compression",length:1,values:[{id:0,label:"H264"},{id:1,label:"HEVC"}]},la={id:107,label:"Video Timer",length:1,values:[{id:0,label:"Off"},{id:1,label:"15s"},{id:2,label:"30s"}]},ra={id:108,label:"Resolution format",length:1,values:[{id:0,label:"4:3"},{id:1,label:"16:9"}]},ca={id:109,label:"Super Photo",length:1,values:[{id:0,label:"Off"},{id:1,label:"Auto"},{id:2,label:"HDR On"}]},da={id:111,label:"Speed",length:1,values:[{id:0,label:"15x"},{id:1,label:"30x"},{id:7,label:"2x"},{id:8,label:"5x"},{id:9,label:"10x"}]},ua={id:112,label:"Touch Display Landscape Lock",length:1,values:[{id:0,label:"Off"},{id:1,label:"Up"},{id:2,label:"Down"}]},Sn=[Q,Ae,ee,xe,Ee,B,qs,_,G,ia,$,E,O,zs,js,la,ra],wn=[Q,Ae,ee,Ns,xe,Ee],Cn=[Q,da,ee],Pn=[Q,ee,_s],Ln=[Ws,de,Oe,pe,ge,me,Ge,Be,ue],Tn=[ge,me,Hs,Us,de,ue,pe,aa],In=[te,q,ke,Me,se,M,Ve,Re,De,ae],An=[Fs,de,ue,Oe,pe,ge,me,Ge,Be],xn=[q,ca,De,sa,ke,Me,se,M,Ve,Re],Dn=[$s,Qs,he,ta,oa,Js,na,Xs,ua,Ks,ea,Zs,Ys],Mn=[...Sn,...wn,...Cn,...Pn,...Ln,...Tn,...In,...An,...xn,...Dn],c=e=>w(t=>t.goproSettingsReducer.settings[e.id],t=>{const s=t==null?void 0:t.value;if(s===void 0)return;const a=e.values.find(i=>i.id===s);return{settingId:e.id,settingLabel:e.label,value:s,valueLabel:a==null?void 0:a.label,possibleValues:e.values}}),be=c(Q),pa=c(Ae),ve=c(ee),Rn=c(_s),Vn=c(Ns),ma=c(xe),kn=c(B),Bn=c(G),Gn=c(O),On=c($),En=c(E),_n=c(_),ga=c(q),Nn=c(te),ha=c(De),ba=c(Me),va=c(Re),fa=c(M),ya=c(Ve),Sa=c(ke),_e=c(de),Fn=c(Fs),Wn=c(Ws),Hn=c(Hs),Un=c(Us),Ne=c(ue),Fe=c(pe),wa=c(Be),We=c(me),Ca=c(Ge),Pa=c(Oe),Kn=c(Ks),$n=c($s),qn=c(qs),La=c(se),He=c(ge),Ta=c(Ee),jn=c(js),zn=c(zs),Zn=c(Zs),Yn=c(Ys),Xn=c(Xs),Jn=c(Js),Qn=c(Qs),eo=c(ea),to=c(he),so=c(ta),Ia=c(yn),ao=c(sa),io=c(ae),no=c(aa),oo=c(ia),lo=c(na),ro=c(oa),co=c(la),uo=c(ra),po=c(ca),mo=c(da),go=c(ua),ho=w(be,pa,ve,ma,Ta,kn,qn,_n,Bn,oo,On,En,Gn,zn,jn,co,uo,(e,t,s,a,i,l,r,d,h,m,g,P,x,R,A,N,V)=>{const v=[N,V,e,t,s,a,i,l];return(l==null?void 0:l.value)&&v.push(r,d,h,m,g,P,x,R,A),v.filter(W=>W!==void 0).map(W=>W)}),bo=w(be,pa,ve,Vn,ma,Ta,(e,t,s,a,i,l)=>[e,t,s,a,i,l].filter(d=>d!==void 0).map(d=>d)),vo=w(be,ve,mo,(e,t,s)=>[e,t,s].filter(i=>i!==void 0).map(i=>i)),fo=w(be,ve,Rn,(e,t,s)=>[e,t,s].filter(i=>i!==void 0).map(i=>i)),yo=w(Wn,_e,Pa,Fe,He,We,Ca,wa,Ne,(e,t,s,a,i,l,r,d,h)=>{const m=[e,t,h];return(s==null?void 0:s.value)&&m.push(s,a,i,l,r,d),m.filter(g=>g!==void 0).map(g=>g)}),So=w(_e,Hn,Un,Ne,Fe,We,He,no,(e,t,s,a,i,l,r,d)=>{const h=[t,s,e,d,a];return(a==null?void 0:a.value)&&h.push(i,r,l),h.filter(m=>m!==void 0).map(m=>m)}),wo=w(ga,Nn,ha,ba,va,fa,ya,Sa,La,io,(e,t,s,a,i,l,r,d,h,m)=>{const g=[t,e,m,s];return(s==null?void 0:s.value)&&g.push(d,a,h,l,r,i),g.filter(P=>P!==void 0).map(P=>P)}),Co=w(_e,Fn,Ne,Fe,wa,We,Ca,Pa,He,(e,t,s,a,i,l,r,d,h)=>{const m=[t,e,s];return(s==null?void 0:s.value)&&m.push(d,a,h,l,r,i),m.filter(g=>g!==void 0).map(g=>g)}),Po=w(ga,ha,ba,va,fa,ya,Sa,La,ao,po,(e,t,s,a,i,l,r,d,h,m)=>{const g=[e,m,t];return(t==null?void 0:t.value)&&g.push(h,r,s,d,i,l,a),g.filter(P=>P!==void 0).map(P=>P)}),Lo=w(Ia,ho,bo,Po,Co,wo,vo,fo,yo,So,(e,t,s,a,i,l,r,d,h,m)=>{switch(e==null?void 0:e.value){case C.video:return t;case C.videoLooping:return s;case C.photoSingle:return a;case C.photoNight:return l;case C.photoBurst:return i;case C.timelapseTimewarp:return r;case C.timelapseVideo:return d;case C.timelapsePhoto:return h;case C.nightlapse:return m;default:return[]}});w(Kn,$n,Zn,Yn,Xn,Jn,Qn,eo,to,so,lo,ro,go,(e,t,s,a,i,l,r,d,h,m,g,P,x)=>[e,t,s,a,i,l,r,d,h,m,g,P,x].filter(A=>A!==void 0).map(A=>A));const Aa=w(Ia,e=>{switch(e==null?void 0:e.value){case C.video:return T.video;case C.videoLooping:return T.video;case C.photoSingle:return T.photo;case C.photoNight:return T.photo;case C.photoBurst:return T.photo;case C.timelapseTimewarp:return T.timelapse;case C.timelapseVideo:return T.timelapse;case C.timelapsePhoto:return T.photo;case C.nightlapse:return T.photo;default:return T.video}});var T;(function(e){e[e.video=0]="video",e[e.photo=1]="photo",e[e.timelapse=2]="timelapse"})(T||(T={}));var C;(function(e){e[e.video=12]="video",e[e.videoLooping=15]="videoLooping",e[e.photoSingle=17]="photoSingle",e[e.photoNight=18]="photoNight",e[e.photoBurst=19]="photoBurst",e[e.timelapseTimewarp=24]="timelapseTimewarp",e[e.timelapseVideo=13]="timelapseVideo",e[e.timelapsePhoto=20]="timelapsePhoto",e[e.nightlapse=21]="nightlapse"})(C||(C={}));const n=e=>w(t=>t.goproSettingsReducer.statuses[e.id],t=>{if(t===void 0)return;const s=e.values.find(a=>a.id===t);return{settingId:e.id,settingLabel:e.label,statusValue:t,valueLabel:s==null?void 0:s.label,possibleValues:e.values}});n(at);const To=n(it);n(nt);n(ot);n(lt);n(Se);n(rt);const Io=n(we);n(ct);const Ao=n(dt);n(ut);n(pt);n(mt);n(gt);n(ht);n(bt);n(vt);n(ft);n(yt);n(St);n(wt);n(Ct);n(Pt);n(Lt);n(Tt);const xo=n(It),Do=n(At);n(xt);n(Dt);n(Mt);n(Rt);n(Vt);n(kt);n(Bt);n(Ii);n(Ai);n(Gt);n(Ot);n(Et);n(_t);n(Nt);n(Ft);n(Wt);n(Ht);n(Ut);n(Kt);n($t);n(qt);n(jt);n(zt);n(Zt);n(Ce);const Mo=n(Yt);n(xi);n(Di);n(Mi);n(Xt);n(Jt);n(Qt);n(es);n(ts);n(ss);n(as);n(le);n(is);n(ns);n(os);n(ls);n(rs);n(cs);n(ds);n(us);n(ps);n(ms);n(gs);n(hs);n(bs);n(vs);n(fs);n(ys);n(Ss);n(ws);n(Cs);n(Ps);n(Ls);n(Ts);n(Is);n(As);n(xs);n(Ds);n(Ms);const Ro=w(To,e=>(e==null?void 0:e.statusValue)===4);function ie(e){if(typeof e=="number")return e;throw new Error("Status is not number, did API change?")}const Vo=w(Mo,e=>ie(e==null?void 0:e.statusValue)),ko=w(Do,xo,Aa,(e,t,s)=>{if(s!==T.photo){const r=ie(e==null?void 0:e.statusValue),d=Math.floor(r/60)%60;return`${Math.floor(r/60/60).toLocaleString(void 0,{minimumIntegerDigits:2})}:${d.toLocaleString(void 0,{minimumIntegerDigits:2})}`}const i=ie(t==null?void 0:t.statusValue);return`${i<=999?i.toLocaleString(void 0,{minimumIntegerDigits:3}):"999+"}`}),Bo=w(Ao,e=>{const t=ie(e==null?void 0:e.statusValue),s=Math.floor(t/60),a=t%60;return`${s.toLocaleString(void 0,{minimumIntegerDigits:2})}:${a.toLocaleString(void 0,{minimumIntegerDigits:2})}`}),Go=w(Io,e=>ie(e==null?void 0:e.statusValue)===1);function Oo(e,t){return e>80?t?o(Na,{}):o(Fa,{}):e>50?t?o(Wa,{}):o(Ha,{}):e>20?t?o(Ua,{}):o(Ka,{}):t?o($a,{}):o(qa,{})}const Eo=e=>{const{batteryPercentage:t,isCharging:s}=e,a=Oo(t,s);return f(Z,{children:[f(k,{variant:"body1",children:[t,"%"]}),a]})};async function xa(e){await st(async()=>{const{characteristics:t}=y;if(!t)throw new Error("no characteristics");const{settingsCharacteristic:s}=t;await s.writeValue(new Uint8Array(e))},xa)}function _o(e){let t=0;for(;e>0;)t++,e/=256;return t}const No=u("settingsCommands/setSettingValue",async e=>{var a,i;const t=(i=(a=Mn.find(l=>l.id===e.settingId))==null?void 0:a.length)!=null?i:_o(e.valueId),s=[];s.push(t+2),s.push(e.settingId),s.push(t);for(let l=0;l<t;l++)s.push(e.valueId>>l*8&255);await xa(s)}),Da=oe()({temp:{display:"flex"}}),Fo=()=>{const[e,t]=I.exports.useState(!1),s=()=>t(!1),a=()=>t(!0),[i,l]=I.exports.useState(1);return Da(),f(ne,{children:[o(Wo,{isOpen:e,onClose:s}),o(H,{maxWidth:"sm",sx:{width:"fit-content",minWidth:"40vw"},children:o(ye,{elevation:i,onMouseOver:()=>l(3),onMouseOut:()=>l(1),onClick:a,children:f("p",{style:{textAlign:"center"},children:["2.7K|60|W",o("br",{}),"PT, ICON, ICON"]})})})]})},Wo=e=>{const{isOpen:t,onClose:s}=e,a=L(Lo);return o(ne,{children:f(ja,{open:t,onClose:s,children:[o(za,{children:"Change current mode settings"}),a.map(i=>o(Ho,{setting:i},i.settingId)),o("div",{children:"actual view todo"})]})})},Ho=e=>{const t=ce(),{setting:s}=e,a=L(l=>l.goproSettingsReducer.settings[s.settingId]),i=l=>{const r=parseInt(l.target.value,10);t(No({settingId:s.settingId,valueId:r}))};return Da(),a?o(ne,{children:f(Za,{variant:"standard",sx:{m:1,minWidth:120},children:[o(Ya,{id:"demo-simple-select-standard-label",children:s.settingLabel}),o(Xa,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",value:a.value.toString(),onChange:i,label:s.settingLabel,children:s.possibleValues.map(l=>o(Ja,{value:l.id,children:l.label},l.id))})]})}):o("div",{children:"something went wrong... known setting missing"})},Uo=oe()({pageWrapper:{display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"space-between",alignItems:"center",marginTop:"1rem",marginBottom:"1rem"},topControls:{width:"100%"},bottomControls:{width:"100%"},bottomCenteredButtons:{width:"100%",alignSelf:"flex-end",display:"flex",justifyContent:"space-evenly",alignItems:"center",flexDirection:"row"},alignLeftToRight:{display:"flex"},button:{margin:"0.5rem"},recordButton:{margin:"0.5rem","& svg":{fontSize:"5rem"}},floatLeft:{flex:1},floatRight:{flex:1,display:"flex",alignItems:"center"}}),Ko=()=>{const{classes:e}=Uo(),t=L(Aa),s=L(fn),a=L(V=>V.goproSettingsReducer.statuses[Ce.id])===1,i=L(Vo),l=L(Ro),r=L(ko),d=L(Go),h=L(Bo),m=ce(),g=()=>{m(Ei())},P=()=>{m(a?Fi():Wi())},x=()=>{m(Gi())},R=()=>{m(Bi())},A=()=>{m(Oi())},N=()=>{m(d?_i():Ni())};return o(ne,{children:o(H,{maxWidth:"sm",sx:{display:"flex",flexGrow:1},children:f(ye,{className:e.pageWrapper,children:[f("div",{className:e.topControls,children:[o("br",{}),f(H,{sx:{width:"fit-content"},children:[o(ye,{sx:{padding:"0.4em"},elevation:2,children:o(k,{variant:"h4",children:s})}),o(Z,{onClick:g,children:o(Qa,{})}),o(Z,{onClick:P,children:a?o(ei,{}):o(ti,{})}),f(Z,{children:[o(si,{}),o(k,{variant:"body1",children:r})]}),o(Eo,{batteryPercentage:i,isCharging:l}),o(D,{onClick:()=>m(ln()),children:"settings dump"}),o(D,{onClick:()=>m(rn()),children:"statuses dump"}),f("p",{children:["Mode: ",t]})]})]}),f("div",{className:e.bottomControls,children:[o(Fo,{}),f("div",{className:e.bottomCenteredButtons,children:[o(D,{onClick:A,className:e.button,"aria-label":"Timelapse mode",color:"primary",variant:t===T.timelapse?"text":"outlined",children:o(ai,{})}),o(D,{onClick:R,className:e.button,"aria-label":"Video mode",color:"primary",variant:t===T.video?"text":"outlined",children:o(ii,{})}),o(D,{onClick:x,className:e.button,"aria-label":"Photo mode",color:"primary",variant:t===T.photo?"text":"outlined",children:o(ni,{})})]}),f("div",{className:e.alignLeftToRight,children:[o("div",{className:e.floatLeft}),o("div",{className:e.recordButton,children:o(Z,{onClick:N,"aria-label":"Record button",color:"error",children:d?o(oi,{}):o(li,{})})}),o("div",{className:e.floatRight,children:d&&o(k,{variant:"h6",children:h})})]})]})]})})})},$o=oe()({flexContent:{position:"absolute",height:"100%",width:"100%",maxHeight:"-webkit-fill-available",display:"flex",flexDirection:"column"}}),qo=()=>{const e=L(s=>s.goproBluetoothReducer.isDeviceSelected),t=L(s=>s.goproBluetoothReducer.isGattConnected);return window.location.protocol!=="https:"?o(Es,{errorTitle:"Bluetooth requires https",errorDescription:"Web Bluetooth will only work on https pages"}):"bluetooth"in navigator?e?t?o(Ko,{}):o(mn,{}):o(gn,{}):o(Es,{errorTitle:"Bluetooth not supported",errorDescription:"Your browser does not support bluetooth. https://caniuse.com/web-bluetooth"})},jo=()=>{const{classes:e}=$o();return f("div",{className:e.flexContent,children:[o(vn,{}),o(qo,{})]})};const zo=()=>{const e=Qe();return f(ri,{store:Ie,children:[o(Xe.GlobalStyles,{styles:{body:{margin:0,padding:0}}}),f(ci,{theme:e,children:[o(Li,{}),o(di,{}),o(jo,{})]})]})};ui.render(o(zo,{}),document.getElementById("root"));
//# sourceMappingURL=index.8a519823.js.map
