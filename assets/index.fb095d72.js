var lt=Object.defineProperty;var fe=Object.getOwnPropertySymbols;var rt=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable;var ye=(t,e,a)=>e in t?lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,W=(t,e)=>{for(var a in e||(e={}))rt.call(e,a)&&ye(t,a,e[a]);if(fe)for(var a of fe(e))ct.call(e,a)&&ye(t,a,e[a]);return t};import{t as we,u as Ce,j as m,B as se,a as i,T as w,b as C,r as O,c as H,d as o,e as Se,f as dt,g as ut,h as mt,C as B,A as pt,i as gt,I as K,k as Pe,l as bt,m as ht,n as vt,F as Z,P as ne,D as ft,o as yt,p as wt,q as Ct,S as St,M as Pt,s as Mt,v as At,w as Rt,x as Tt,y as Lt,z as Dt,E as xt,G as It,H as Ot,J as Bt,K as kt,L as Vt,R as Et}from"./vendor.e945af34.js";const Gt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerpolicy&&(l.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?l.credentials="include":n.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}};Gt();const{makeStyles:Y,withStyles:Qs}=we.createMakeAndWithStyles({useTheme:Ce}),_t=Y()({flexContent:{display:"flex",flexDirection:"row"}}),Nt=t=>{const{classes:e}=_t(),a=()=>{t.updateServiceWorker(!0)};return m(se,{className:e.flexContent,children:[i(w,{variant:"body1",children:"App was updated, reload to see the changes"}),i(C,{style:{display:"inline"},onClick:a,children:"Reload"})]})},Ft="modulepreload",Me={},Wt="/Gopro-Bluetooth-Remote/",Ht=function(e,a){return!a||a.length===0?e():Promise.all(a.map(s=>{if(s=`${Wt}${s}`,s in Me)return;Me[s]=!0;const n=s.endsWith(".css"),l=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${l}`))return;const c=document.createElement("link");if(c.rel=n?"stylesheet":Ft,n||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),n)return new Promise((u,b)=>{c.addEventListener("load",u),c.addEventListener("error",b)})})).then(()=>e())};function Kt(){const[t,e]=O.exports.useState();return O.exports.useEffect(()=>{Ht(()=>import("./react.b00e5675.js"),["assets/react.b00e5675.js","assets/vendor.e945af34.js"]).then(e)},[e]),t}const qt=60*60*1e3,Ut=()=>{const t=Kt();return t?i($t,{pwaRegisterModule:t}):null},$t=({pwaRegisterModule:t})=>{const{offlineReady:[e],needRefresh:[a],updateServiceWorker:s}=t.useRegisterSW({immediate:!0,onRegistered(n){console.log("SW registered",n),!!n&&setInterval(()=>{n.update()},qt)},onRegisterError(n){console.log("SW registration error",n)}});return O.exports.useEffect(()=>{e&&H("App was installed and now will work offline")},[e]),O.exports.useEffect(()=>{a&&H(i(Nt,{updateServiceWorker:s}),{autoClose:!1})},[a,s]),i("div",{})},g={},Ae=[];async function Re(t,e){let a=Ae.find(s=>s.context===e);a||(a={context:e,promise:Promise.resolve()},Ae.push(a)),a.promise=a.promise.then(()=>t()),await a.promise}const d=[{id:0,label:"False"},{id:1,label:"True"}],jt={id:1,label:"Internal camera present",description:"Is the internal camera present?",type:"boolean",values:d},Te={id:2,label:"Internal battery level",description:"Rough approximation of internal battery level in bars",type:"integer",values:[{id:0,label:"Zero"},{id:1,label:"One"},{id:2,label:"Two"},{id:3,label:"Three"}]},zt={id:3,label:"External battery present",description:"Is an external battery connected?",type:"boolean",values:d},Zt={id:4,label:"External battery level",description:"External battery power level in percent",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},Yt={id:6,label:"System hot",description:"Is the system currently overheating?",type:"boolean",values:d},Le={id:8,label:"System busy",description:"Is the camera busy?",type:"boolean",values:d},Xt={id:9,label:"Quick capture active",description:"Is Quick Capture feature enabled?",type:"boolean",values:d},oe={id:10,label:"Encoding active",description:"Is the system encoding right now?",type:"boolean",values:d},Jt={id:11,label:"Lcd lock active",description:"Is LCD lock active?",type:"boolean",values:d},De={id:13,label:"Video progress counter",description:"When encoding video, this is the duration (seconds) of the video so far; 0 otherwise",type:"integer",values:[{id:0,label:"0s"},{id:59,label:"59s"}]},Qt={id:17,label:"Enable",description:"Are Wireless Connections enabled?",type:"boolean",values:d},ea={id:19,label:"State",description:"The pairing state of the camera",type:"integer",values:[{id:0,label:"Success"},{id:1,label:"In Progress"},{id:2,label:"Failed"},{id:3,label:"Stopped"}]},ta={id:20,label:"Type",description:"The last type of pairing that the camera was engaged in",type:"integer",values:[{id:0,label:"Not Pairing"},{id:1,label:"Pairing App"},{id:2,label:"Pairing Remote Control"},{id:3,label:"Pairing Bluetooth Device"}]},aa={id:21,label:"Pair time",description:"Time (milliseconds) since boot of last successful pairing complete action",type:"integer",values:[]},ia={id:22,label:"State",description:"State of current scan for WiFi Access Points. Appears to only change for CAH-related scans",type:"integer",values:[{id:0,label:"Never started"},{id:1,label:"Started"},{id:2,label:"Aborted"},{id:3,label:"Canceled"},{id:4,label:"Completed"}]},sa={id:23,label:"Scan time msec",description:"The time, in milliseconds since boot that the WiFi Access Point scan completed",type:"integer",values:[]},na={id:24,label:"Provision status",description:"WiFi AP provisioning state",type:"integer",values:[{id:0,label:"Never started"},{id:1,label:"Started"},{id:2,label:"Aborted"},{id:3,label:"Canceled"},{id:4,label:"Completed"}]},oa={id:26,label:"Remote control version",description:"Wireless remote control version",type:"integer",values:[]},la={id:27,label:"Remote control connected",description:"Is a wireless remote control connected?",type:"boolean",values:d},ra={id:28,label:"Pairing",description:"Wireless Pairing State",type:"integer",values:[]},ca={id:29,label:"Wlan ssid",description:"Provisioned WIFI AP SSID. On BLE connection, value is big-endian byte-encoded int",type:"string",values:[]},da={id:30,label:"Ap ssid",description:"Camera's WIFI SSID. On BLE connection, value is big-endian byte-encoded int",type:"string",values:[]},ua={id:31,label:"App count",description:"The number of wireless devices connected to the camera",type:"integer",values:[]},ma={id:32,label:"Enable",description:"Is Preview Stream enabled?",type:"boolean",values:d},pa={id:33,label:"Sd status",description:"Primary Storage Status",type:"integer",values:[{id:-1,label:"Unknown"},{id:0,label:"OK"},{id:1,label:"SD Card Full"},{id:2,label:"SD Card Removed"},{id:3,label:"SD Card Format Error"},{id:4,label:"SD Card Busy"},{id:8,label:"SD Card Swapped"}]},xe={id:34,label:"Remaining photos",description:"How many photos can be taken before sdcard is full",type:"integer",values:[]},Ie={id:35,label:"Remaining video time",description:"How many minutes of video can be captured with current settings before sdcard is full",type:"integer",values:[]},ga={id:36,label:"Num group photos",description:"How many group photos can be taken with current settings before sdcard is full",type:"integer",values:[]},ba={id:37,label:"Num group videos",description:"Total number of group videos on sdcard",type:"integer",values:[]},ha={id:38,label:"Num total photos",description:"Total number of photos on sdcard",type:"integer",values:[]},va={id:39,label:"Num total videos",description:"Total number of videos on sdcard",type:"integer",values:[]},fa={id:40,label:"Date time",description:"Current date/time (format: %YY%MM%DD%HH%MM%SS, all values in hex)",type:"string",values:[]},ya={id:41,label:"Ota status",description:"The current status of Over The Air (OTA) update",type:"integer",values:[{id:0,label:"Idle"},{id:1,label:"Downloading"},{id:2,label:"Verifying"},{id:3,label:"Download Failed"},{id:4,label:"Verify Failed"},{id:5,label:"Ready"},{id:6,label:"GoPro App: Downloading"},{id:7,label:"GoPro App: Verifying"},{id:8,label:"GoPro App: Download Failed"},{id:9,label:"GoPro App: Verify Failed"},{id:10,label:"GoPro App: Ready"}]},wa={id:42,label:"Download cancel request pending",description:"Is there a pending request to cancel a firmware update download?",type:"boolean",values:d},Ca={id:45,label:"Camera locate active",description:"Is locate camera feature active?",type:"boolean",values:d},Sa={id:49,label:"Multi shot count down",description:"The current timelapse interval countdown value (e.g. 5...4...3...2...1...)",type:"integer",values:[]},Pa={id:54,label:"Remaining space",description:"Remaining space on the sdcard in Kilobytes",type:"integer",values:[]},Ma={id:55,label:"Supported",description:"Is preview stream supported in current recording/flatmode/secondary-stream?",type:"boolean",values:d},Aa={id:56,label:"Wifi bars",description:"WiFi signal strength in bars",type:"integer",values:[]},Ra={id:57,label:"Current time msec",description:"System time in milliseconds since system was booted",type:"integer",values:[]},Ta={id:58,label:"Num hilights",description:"The number of hilights in encoding video (set to 0 when encoding stops)",type:"integer",values:[]},La={id:59,label:"Last hilight time msec",description:"Time since boot (msec) of most recent hilight in encoding video (set to 0 when encoding stops)",type:"integer",values:[]},Da={id:60,label:"Next poll msec",description:"The min time between camera status updates (msec). Do not poll for status more often than this",type:"integer",values:[]},xa={id:63,label:"In contextual menu",description:"Is the camera currently in a contextual menu (e.g. Preferences)?",type:"boolean",values:d},Ia={id:64,label:"Remaining timelapse time",description:"How many min of Timelapse video can be captured with current settings before sdcard is full",type:"integer",values:[]},Oa={id:65,label:"Exposure select type",description:"Liveview Exposure Select Mode",type:"integer",values:[{id:0,label:"Disabled"},{id:1,label:"Auto"},{id:2,label:"ISO Lock"},{id:3,label:"Hemisphere"}]},Ba={id:66,label:"Exposure select x",description:"Liveview Exposure Select: x-coordinate (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},ka={id:67,label:"Exposure select y",description:"Liveview Exposure Select: y-coordinate (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},Va={id:68,label:"Gps status",description:"Does the camera currently have a GPS lock?",type:"boolean",values:d},Oe={id:69,label:"Ap state",description:"Is the WiFi radio enabled?",type:"boolean",values:d},Be={id:70,label:"Internal battery percentage",description:"Internal battery level (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},Ea={id:74,label:"Acc mic status",description:"Microphone Accesstory status",type:"integer",values:[{id:0,label:"Microphone mod not connected"},{id:1,label:"Microphone mod connected"},{id:2,label:"Microphone mod connected and microphone plugged into Microphone mod"}]},Ga={id:75,label:"Digital zoom",description:"Digital Zoom level (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},_a={id:76,label:"Wireless band",description:"Wireless Band",type:"integer",values:[{id:0,label:"2.4 GHz"},{id:1,label:"5 GHz"},{id:2,label:"Max"}]},Na={id:77,label:"Digital zoom active",description:"Is Digital Zoom feature available?",type:"boolean",values:d},Fa={id:78,label:"Mobile friendly video",description:"Are current video settings mobile friendly? (related to video compression and frame rate)",type:"boolean",values:d},Wa={id:79,label:"First time use",description:"Is the camera currently in First Time Use (FTU) UI flow?",type:"boolean",values:d},Ha={id:81,label:"Band 5ghz avail",description:"Is 5GHz wireless band available?",type:"boolean",values:d},le={id:82,label:"System ready",description:"Is the system ready to accept commands?",type:"boolean",values:d},Ka={id:83,label:"Batt okay for ota",description:"Is the internal battery charged sufficiently to start Over The Air (OTA) update?",type:"boolean",values:d},qa={id:85,label:"Video low temp alert",description:"Is the camera getting too cold to continue recording?",type:"boolean",values:d},Ua={id:86,label:"Actual orientation",description:"The rotational orientation of the camera",type:"integer",values:[{id:0,label:"0 degrees (upright)"},{id:1,label:"180 degrees (upside down)"},{id:2,label:"90 degrees (laying on right side)"},{id:3,label:"270 degrees (laying on left side)"}]},$a={id:87,label:"Thermal mitigation mode",description:"Can camera use high resolution/fps (based on temperature)? (HERO7 Silver/White only)",type:"boolean",values:d},ja={id:88,label:"Zoom while encoding",description:"Is this camera capable of zooming while encoding (static value based on model, not settings)",type:"boolean",values:d},za={id:89,label:"Current mode",description:"Current flatmode ID",type:"integer",values:[]},Za={id:91,label:"Logs ready",description:"Are system logs ready to be downloaded?",type:"boolean",values:d},Ya={id:92,label:"Timewarp 1x active",description:"Is Timewarp 1x active?",type:"boolean",values:d},Xa={id:93,label:"Active video presets",description:"Current Video Preset (ID)",type:"integer",values:[]},Ja={id:94,label:"Active photo presets",description:"Current Photo Preset (ID)",type:"integer",values:[]},Qa={id:95,label:"Active timelapse presets",description:"Current Timelapse Preset (ID)",type:"integer",values:[]},ei={id:96,label:"Active presets group",description:"Current Preset Group (ID)",type:"integer",values:[]},ti={id:97,label:"Active preset",description:"Current Preset (ID)",type:"integer",values:[]},ai={id:98,label:"Preset modified",description:"Preset Modified Status, which contains an event ID and a preset (group) ID",type:"integer",values:[]},ii={id:99,label:"Remaining live bursts",description:"How many Live Bursts can be captured before sdcard is full",type:"integer",values:[]},si={id:100,label:"Num total live bursts",description:"Total number of Live Bursts on sdcard",type:"integer",values:[]},ni={id:101,label:"Capture delay active",description:"Is Capture Delay currently active (i.e. counting down)?",type:"boolean",values:d},oi={id:102,label:"Media mod mic status",description:"Media mod State",type:"integer",values:[{id:0,label:"Media mod microphone removed"},{id:2,label:"Media mod microphone only"},{id:3,label:"Media mod microphone with external microphone"}]},li={id:103,label:"Timewarp speed ramp active",description:"Time Warp Speed",type:"integer",values:[{id:0,label:"15x"},{id:1,label:"30x"},{id:2,label:"60x"},{id:3,label:"150x"},{id:4,label:"300x"},{id:5,label:"900x"},{id:6,label:"1800x"},{id:7,label:"2x"},{id:8,label:"5x"},{id:9,label:"10x"},{id:10,label:"Auto"},{id:11,label:"1x (realtime)"},{id:12,label:"1/2x (slow-motion)"}]},ri={id:104,label:"Linux core active",description:"Is the system's Linux core active?",type:"boolean",values:d},ci={id:105,label:"Camera lens type",description:"Camera lens type (reflects changes to setting 162)",type:"integer",values:[{id:0,label:"Default"},{id:1,label:"Max Lens"}]},di={id:106,label:"Video hindsight capture active",description:"Is Video Hindsight Capture Active?",type:"boolean",values:d},ui={id:107,label:"Scheduled preset",description:"Scheduled Capture Preset ID",type:"integer",values:[]},mi={id:108,label:"Scheduled enabled",description:"Is Scheduled Capture set?",type:"boolean",values:d},pi={id:109,label:"Creating preset",description:"Is the camera in the process of creating a custom preset?",type:"boolean",values:d},gi={id:110,label:"Media mod status",description:"Media Mode Status (bitmasked)",type:"integer",values:[{id:0,label:"Display (selfie) mod: 0, HDMI: 0, Media Mod Connected: False"},{id:1,label:"Display (selfie) mod: 0, HDMI: 0, Media Mod Connected: True"},{id:2,label:"Display (selfie) mod: 0, HDMI: 1, Media Mod Connected: False"},{id:3,label:"Display (selfie) mod: 0, HDMI: 1, Media Mod Connected: True"},{id:4,label:"Display (selfie) mod: 1, HDMI: 0, Media Mod Connected: False"},{id:5,label:"Display (selfie) mod: 1, HDMI: 0, Media Mod Connected: True"},{id:6,label:"Display (selfie) mod: 1, HDMI: 1, Media Mod Connected: False"},{id:7,label:"Display (selfie) mod: 1, HDMI: 1, Media Mod Connected: True"}]},bi={id:113,label:"Turbo transfer",description:"Is Turbo Transfer active?",type:"boolean",values:d},hi=[jt,Te,zt,Zt,Yt,Le,Xt,oe,Jt,De,Qt,ea,ta,aa,ia,sa,na,oa,la,ra,ca,da,ua,ma,pa,xe,Ie,ga,ba,ha,va,fa,ya,wa,Ca,Sa,Pa,Ma,Aa,Ra,Ta,La,Da,xa,Ia,Oa,Ba,ka,Va,Oe,Be,Ea,Ga,_a,Na,Fa,Wa,Ha,le,Ka,qa,Ua,$a,ja,za,Za,Ya,Xa,Ja,Qa,ei,ti,ai,ii,si,ni,oi,li,ri,ci,di,ui,mi,pi,gi,bi];function ke(){const{statuses:t}=ue.getState().goproSettingsReducer;return t[le.id]}async function vi(){ke()||await new Promise(t=>{const e=ue.subscribe(()=>{ke()&&(e(),t())})})}async function fi(t){const{characteristics:e}=g;if(!e)throw new Error("no characteristics");const{commandCharacteristic:a}=e;await vi(),await Re(async()=>{await U(a,t)},a)}const r=o("commands/sendCommandAction",async t=>{await fi(t)});o("commands/forceShutdownCommand",async(t,{dispatch:e})=>{await e(r([4]))});o("commands/hiLightTagCommand",async(t,{dispatch:e})=>{await e(r([24]))});o("commands/locateOnCommand",async(t,{dispatch:e})=>{await e(r([22,1,1]))});o("commands/locateOffCommand",async(t,{dispatch:e})=>{await e(r([22,1,0]))});const yi=o("commands/legacyPresetsLoadGroupVideoCommand",async(t,{dispatch:e})=>{await e(r([2,1,0]))}),wi=o("commands/legacyPresetsLoadGroupPhotoCommand",async(t,{dispatch:e})=>{await e(r([2,1,1]))}),Ci=o("commands/legacyPresetsLoadGroupMultishotCommand",async(t,{dispatch:e})=>{await e(r([2,1,2]))});o("commands/legacyPresetsLoadPresetVideoCommand",async(t,{dispatch:e})=>{await e(r([3,1,0,1,0]))});o("commands/legacyPresetsLoadPresetTimeLapseVideoCommand",async(t,{dispatch:e})=>{await e(r([3,1,0,1,1]))});o("commands/legacyPresetsLoadPresetLoopingVideoCommand",async(t,{dispatch:e})=>{await e(r([3,1,0,1,3]))});o("commands/legacyPresetsLoadPresetTimewarpCommand",async(t,{dispatch:e})=>{await e(r([3,1,0,1,4]))});o("commands/legacyPresetsLoadPresetPhotoCommand",async(t,{dispatch:e})=>{await e(r([3,1,1,1,1]))});o("commands/legacyPresetsLoadPresetNightPhotoCommand",async(t,{dispatch:e})=>{await e(r([3,1,1,1,2]))});o("commands/legacyPresetsLoadPresetBurstPhotoCommand",async(t,{dispatch:e})=>{await e(r([3,1,2,1,0]))});o("commands/legacyPresetsLoadPresetTimeLapsePhotoCommand",async(t,{dispatch:e})=>{await e(r([3,1,2,1,1]))});o("commands/legacyPresetsLoadPresetNightLapsePhotoCommand",async(t,{dispatch:e})=>{await e(r([3,1,2,1,2]))});const Si=o("commands/sleepCommand",async(t,{dispatch:e})=>{await e(r([5]))}),Ve=o("commands/getHardwareInfoCommand",async(t,{dispatch:e})=>{await e(r([60]))}),Pi=o("commands/setShutterOffCommand",async(t,{dispatch:e})=>{await e(r([1,1,0]))}),Mi=o("commands/setShutterOnCommand",async(t,{dispatch:e})=>{await e(r([1,1,1]))}),Ai=o("commands/apControlWiFiApOffCommand",async(t,{dispatch:e})=>{await e(r([23,1,0]))}),Ri=o("commands/apControlWiFiApOnCommand",async(t,{dispatch:e})=>{await e(r([23,1,1]))});o("commands/presetsLoadGroupVideoCommand",async(t,{dispatch:e})=>{await e(r([62,2,3,232]))});o("commands/presetsLoadGroupPhotoCommand",async(t,{dispatch:e})=>{await e(r([62,2,3,233]))});o("commands/presetsLoadGroupTimelapseCommand",async(t,{dispatch:e})=>{await e(r([62,2,3,234]))});o("commands/presetsLoadStandardCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,0,0,0]))});o("commands/presetsLoadActivityCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,0,0,1]))});o("commands/presetsLoadCinematicCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,0,0,2]))});o("commands/presetsLoadUltraSloMoCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,0,0,4]))});o("commands/presetsLoadBasicCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,0,0,5]))});o("commands/presetsLoadPhotoCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,1,0,0]))});o("commands/presetsLoadLiveBurstCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,1,0,1]))});o("commands/presetsLoadBurstPhotoCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,1,0,2]))});o("commands/presetsLoadNightPhotoCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,1,0,3]))});o("commands/presetsLoadTimeWarpCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,2,0,0]))});o("commands/presetsLoadTimeLapseCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,2,0,1]))});o("commands/presetsLoadNightLapseCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,2,0,2]))});o("commands/presetsLoadStandardEBCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,8,0,0]))});o("commands/presetsLoadActivityEBCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,8,0,1]))});o("commands/presetsLoadCinematicEBCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,8,0,2]))});o("commands/presetsLoadSloMoEBCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,8,0,3]))});o("commands/presetsLoad4KTripodCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,9,0,0]))});o("commands/presetsLoad53KTripodCommand",async(t,{dispatch:e})=>{await e(r([64,4,0,9,0,1]))});o("commands/analyticsSetThirdPartyClientCommand",async(t,{dispatch:e})=>{await e(r([80]))});const Ee=o("commands/openGoProGetVersionCommand",async(t,{dispatch:e})=>{await e(r([81]))});function Ti(t){return e=>{const a=Di(e);xi(t,a)}}function Li(t){switch(t){case 0:return k.success;case 1:return k.error;case 2:return k.invalidParameter;default:return k.unknown}}var k;(function(t){t[t.unknown=0]="unknown",t[t.success=1]="success",t[t.error=2]="error",t[t.invalidParameter=3]="invalidParameter"})(k||(k={}));function Di(t){if(t.length<2)throw new Error("command response too short");const e=t[0],a=Li(t[1]),s=t.slice(2);return{commandId:e,errorCode:a,data:s}}var Ge;(function(t){t[t.SetShutter=1]="SetShutter",t[t.Sleep=5]="Sleep",t[t.APControl=23]="APControl",t[t.GetHardwareInfo=60]="GetHardwareInfo",t[t.PresetsLoadGroup=62]="PresetsLoadGroup",t[t.PresetsLoad=64]="PresetsLoad",t[t.Analytics=80]="Analytics",t[t.OpenGoProGetVersion=81]="OpenGoProGetVersion"})(Ge||(Ge={}));function xi(t,e){switch(e.commandId){case 60:{if(e.errorCode===2){t(Ve());break}t($.actions.getHardwareInfoResponse(Ii(e)));break}case 81:{if(e.errorCode===2){t(Ee());break}if(e.errorCode===3){t($.actions.openGoProGetVersionResponse({majorVersion:0,minorVersion:0}));break}t($.actions.openGoProGetVersionResponse(Oi(e)));break}}}function Ii(t){const{data:e}=t;let a=0;const s=e[a++],n=new Array(s).fill(0).map(()=>e[a++]),l=e[a++],c=new Array(l).fill(0).map(()=>String.fromCharCode(e[a++])).join(""),u=e[a++],b=new Array(u).fill(0).map(()=>String.fromCharCode(e[a++])).join(""),h=e[a++],E=new Array(h).fill(0).map(()=>String.fromCharCode(e[a++])).join(""),G=e[a++],_=new Array(G).fill(0).map(()=>String.fromCharCode(e[a++])).join(""),N=e[a++],P=new Array(N).fill(0).map(()=>String.fromCharCode(e[a++])).join(""),x=e[a++],I=new Array(x).fill(0).map(()=>String.fromCharCode(e[a++])).join("");return{modelNumber:n,modelName:c,boardType:b,firmwareVersion:E,serialNumber:_,apSsid:P,apMacAddress:I}}function Oi(t){const{data:e}=t;let a=0;const s=e[a++],n=new Array(s).fill(0).map(()=>e[a++]).reduce((u,b)=>(u<<8)+b),l=e[a++],c=new Array(l).fill(0).map(()=>e[a++]).reduce((u,b)=>(u<<8)+b);return{majorVersion:n,minorVersion:c}}const Bi={settings:{},statuses:{},isFetching:!1},M=Se({name:"goproSettings",initialState:Bi,reducers:{settingsReceived:(t,e)=>{t.settings=W(W({},t.settings),e.payload)},settingsRequested:t=>{t.isFetching=!0},settingsRequestFailed:t=>{t.isFetching=!1},statusesReceived:(t,e)=>{t.statuses=W(W({},t.statuses),e.payload)}}}),ki=M.reducer;o("goproSettings/fetchSettings",async()=>{const{characteristics:t}=g;if(!t)throw new Error("no characteristics");const{queryCharacteristic:e}=t;await e.writeValue(new Uint8Array([1,18]))});function Vi(t){return e=>{const a=Ei(e);Fi(t,a)}}function Ei(t){if(t.length<2)throw new Error("command response too short");const e=t[0],a=Ni(t[1]),s=Gi(t.slice(2));return{queryId:e,errorCode:a,statusesOrSettings:s}}function Gi(t){const e=[];let a=0;for(;a<t.length;){const s=_i(t.slice(a));e.push(s),a+=s.value.length+2}return e}function _i(t){const e=t[0],a=t[1],s=t.slice(2,a+2);return{id:e,length:a,value:s}}function Ni(t){switch(t){case 0:return V.success;case 1:return V.error;case 2:return V.invalidParameter;default:return V.unknown}}var V;(function(t){t[t.unknown=0]="unknown",t[t.success=1]="success",t[t.error=2]="error",t[t.invalidParameter=3]="invalidParameter"})(V||(V={}));var _e;(function(t){t[t.getSettingValue=18]="getSettingValue",t[t.getStatusValue=19]="getStatusValue",t[t.registerForSettingUpdates=82]="registerForSettingUpdates",t[t.registerForStatusUpdates=83]="registerForStatusUpdates",t[t.unregisterForSettingUpdates=114]="unregisterForSettingUpdates",t[t.unregisterForStatusUpdates=115]="unregisterForStatusUpdates",t[t.settingUpdate=146]="settingUpdate",t[t.statusUpdate=147]="statusUpdate"})(_e||(_e={}));const re=t=>t.reduce((e,a)=>{if(a.value.length===0)return e;const s=a.value.reduce((l,c)=>(l<<8)+c),{length:n}=a;return e[a.id]={value:s,length:n},e},{}),ce=t=>t.reduce((e,a)=>{const s=a.value.length,n=hi.find(c=>c.id===a.id);if((n==null?void 0:n.type)==="string"||s>4){const c=a.value.map(u=>String.fromCharCode(u)).join("");return e[a.id]=c,e}if(a.value.length===0)return e;const l=a.value.reduce((c,u)=>(c<<8)+u);return e[a.id]=l,e},{});function Fi(t,e){switch(e.queryId){case 18:t(M.actions.settingsReceived(re(e.statusesOrSettings)));break;case 82:t(M.actions.settingsReceived(re(e.statusesOrSettings)));break;case 146:t(M.actions.settingsReceived(re(e.statusesOrSettings)));break;case 19:t(M.actions.statusesReceived(ce(e.statusesOrSettings)));break;case 83:t(M.actions.statusesReceived(ce(e.statusesOrSettings)));break;case 147:t(M.actions.statusesReceived(ce(e.statusesOrSettings)));break}}function Wi(t){return e=>{}}function de(t){let e=[],a=0;return s=>{const n=s.target;async function l(){const{value:c}=n;if(!c)throw new Error("This should not be possible, empty response value");const u=Hi(c);if(u.header.isStart?(a=u.header.messageLength,e=u.data):e.push(...u.data),e.length===a)return e;if(e.length>a)throw new Error("Did response messages get out of sync?")}l().then(c=>{!c||(t(c),console.log("packet dump",c))}).catch(c=>{H(`Error while parsing response message ${c}`)})}}function Hi(t){const e=Ki(t),a=Array.from(new Uint8Array(t.buffer)).slice(e.headerSizeBytes);return{header:e,data:a}}function Ki(t){const e=t.getUint8(0);let a=1;if(!((e&128)>>7==0)){const c=e&127;return{isStart:!1,headerSizeBytes:1,continuationIndex:c}}const n=(e&96)>>5;let l;if(n===0)l=e&31;else if(n===1){a=2;const c=t.getUint8(1);l=(e&31)<<8|c}else if(n===2){a=3;const c=t.getUint8(1),u=t.getUint8(2);l=c<<8|u}else if(n===3)l=0;else throw new Error("IMPOSSIBLE");return{isStart:!0,headerSizeBytes:a,messageLength:l}}const qi=o("queryCommands/subscribeToSettingsChangesCommand",async t=>{const{characteristics:e}=g;if(!e)throw new Error("no characteristics");const{queryCharacteristic:a}=e;await U(a,[82,...t])}),Ne=o("queryCommands/subscribeToStatusChangesCommand",async t=>{const{characteristics:e}=g;if(!e)throw new Error("no characteristics");const{queryCharacteristic:a}=e;await U(a,[83,...t])}),Ui=o("queryCommands/getSettingsCommand",async()=>{const{characteristics:t}=g;if(!t)throw new Error("no characteristics");const{queryCharacteristic:e}=t;await U(e,[18])}),$i=o("queryCommands/getStatusesCommand",async()=>{const{characteristics:t}=g;if(!t)throw new Error("no characteristics");const{queryCharacteristic:e}=t;await U(e,[19])}),X=o("bluetoothDevice/requestDevice",async(t,{dispatch:e})=>{var s;const a=await navigator.bluetooth.requestDevice({filters:[{services:["0000fea6-0000-1000-8000-00805f9b34fb"]}],optionalServices:["0000fea6-0000-1000-8000-00805f9b34fb","b5f90001-aa8d-11e3-9046-0002a5d5c51b"]});return a.ongattserverdisconnected=()=>{g.characteristics=void 0,g.gattServer=void 0,e($.actions.gattDisconnected("Connection lost")),H.error("Gopro disconnected, connection lost")},g.device=a,e(q()),{deviceName:(s=a.name)!=null?s:a.id}}),q=o("bluetoothDevice/gattConnect",async(t,{dispatch:e})=>{var I;const{device:a}=g;if(!a)throw new Error("device not found to connect to");if(!(a==null?void 0:a.gatt))throw new Error(`gatt missing for this device ${(I=a.name)!=null?I:a.id}`);const s=await a.gatt.connect(),n=s.getPrimaryService("b5f90001-aa8d-11e3-9046-0002a5d5c51b"),l=n.then(p=>p.getCharacteristic("b5f90002-aa8d-11e3-9046-0002a5d5c51b")),c=n.then(p=>p.getCharacteristic("b5f90003-aa8d-11e3-9046-0002a5d5c51b")),u=n.then(p=>p.getCharacteristic("b5f90004-aa8d-11e3-9046-0002a5d5c51b")),b=n.then(p=>p.getCharacteristic("b5f90005-aa8d-11e3-9046-0002a5d5c51b")),h=s.getPrimaryService("0000fea6-0000-1000-8000-00805f9b34fb"),E=h.then(p=>p.getCharacteristic("b5f90072-aa8d-11e3-9046-0002a5d5c51b")),G=h.then(p=>p.getCharacteristic("b5f90073-aa8d-11e3-9046-0002a5d5c51b")),_=h.then(p=>p.getCharacteristic("b5f90074-aa8d-11e3-9046-0002a5d5c51b")),N=h.then(p=>p.getCharacteristic("b5f90075-aa8d-11e3-9046-0002a5d5c51b")),P=h.then(p=>p.getCharacteristic("b5f90076-aa8d-11e3-9046-0002a5d5c51b")),x=h.then(p=>p.getCharacteristic("b5f90077-aa8d-11e3-9046-0002a5d5c51b"));g.gattServer=s,g.characteristics={wifiApSsidCharacteristic:await l,wifiApPasswordCharacteristic:await c,wifiApPowerCharacteristic:await u,wifiApStateCharacteristic:await b,commandCharacteristic:await E,commandResponseCharacteristic:await G,settingsCharacteristic:await _,settingsResponseCharacteristic:await N,queryCharacteristic:await P,queryResponseCharacteristic:await x},g.characteristics.commandResponseCharacteristic.oncharacteristicvaluechanged=de(Ti(e)),await g.characteristics.commandResponseCharacteristic.startNotifications(),g.characteristics.queryResponseCharacteristic.oncharacteristicvaluechanged=de(Vi(e)),await g.characteristics.queryResponseCharacteristic.startNotifications(),g.characteristics.settingsResponseCharacteristic.oncharacteristicvaluechanged=de(Wi()),await g.characteristics.settingsResponseCharacteristic.startNotifications(),await e(Ne([le.id,oe.id,Le.id])),await e(Ne([...new Array(88).keys()])),await e(qi([...new Array(112).keys()])),await e(Ee()),await e(Ve())});async function ji(t,e){return t.writeValue(new Uint8Array(e))}function zi(t,e){if(e>0)return[128+(e&63)];if(t<=31)return[t&31];if(t<=8191)return[32+(t>>8&31),t&255];if(t<=65535)return[64,t>>8&255,t&255];throw H.error("packet too large"),new Error("data length too large")}async function U(t,e){console.log("writing data, before appending headers",e);const a=[...e];let s=0;for(;a.length>0;){a.unshift(...zi(e.length,s));const n=a.splice(0,20);await ji(t,n),s++}}const Zi={isRequestingDevice:!1,isDeviceSelected:!1,isGattConnected:!1,isGattConnecting:!1,deviceName:"unknown",goproBluetoothDeviceCommandsState:{isCommandInAction:!1}},$=Se({name:"bluetoothDevice",initialState:Zi,reducers:{gattDisconnected:(t,e)=>{t.isGattConnected=!1,t.error=e.payload},getHardwareInfoResponse:(t,e)=>{t.goproBluetoothDeviceCommandsState.getHardwareInfo=e.payload,t.deviceName=e.payload.apSsid},openGoProGetVersionResponse:(t,e)=>{t.goproBluetoothDeviceCommandsState.openGoProVersion=e.payload}},extraReducers:t=>{t.addCase(X.pending,e=>{g.device=void 0,e.isRequestingDevice=!0,e.isDeviceSelected=!1,e.error=void 0}),t.addCase(X.fulfilled,(e,a)=>{e.isRequestingDevice=!1,e.isDeviceSelected=!0,e.error=void 0,e.deviceName=a.payload.deviceName}),t.addCase(X.rejected,(e,a)=>{var s;g.device=void 0,e.isRequestingDevice=!1,e.isDeviceSelected=!1,e.error=(s=a.error.message)!=null?s:"unknown error"}),t.addCase(q.pending,e=>{e.isGattConnecting=!0,e.isGattConnected=!1}),t.addCase(q.fulfilled,e=>{e.isGattConnecting=!1,e.isGattConnected=!0}),t.addCase(q.rejected,(e,a)=>{var s;e.isGattConnecting=!1,e.isGattConnected=!1,e.error=(s=a.error.message)!=null?s:"unknown error"})}}),Yi=$.reducer,ue=dt({reducer:{goproBluetoothReducer:Yi,goproSettingsReducer:ki},devTools:!0}),J=()=>mt(),v=ut,Xi=()=>{const t=v(n=>n.goproBluetoothReducer.isGattConnecting),e=v(n=>n.goproBluetoothReducer.deviceName),a=v(n=>n.goproBluetoothReducer.error),s=J();return i(B,{maxWidth:"sm",children:m(se,{sx:{my:4},children:[i(w,{variant:"h4",component:"h1",gutterBottom:!0,children:t?`Connecting to ${e}...`:`Connect to ${e}`}),t?null:i(C,{onClick:()=>s(q()),children:"Reconnect"}),a?i("div",{children:a}):null]})})},Fe=t=>{const{errorTitle:e,errorDescription:a}=t;return m(B,{maxWidth:"sm",children:[i("h1",{children:e}),i("p",{children:a})]})},Ji=()=>{const t=v(s=>s.goproBluetoothReducer.isRequestingDevice),e=v(s=>s.goproBluetoothReducer.error),a=J();return i(B,{maxWidth:"sm",children:m(se,{sx:{my:4},children:[i(w,{variant:"h4",component:"h1",gutterBottom:!0,children:t?"Select your GoPro":"Search for GoPro"}),i(C,{onClick:()=>a(X()),children:"Search"}),e?i("div",{children:e}):null]})})},Qi=()=>i(pt,{position:"sticky",children:i(gt,{children:i(w,{variant:"h6",children:"GoPro Bluetooth remote"})})}),Q={id:2,label:"Resolution",length:1,values:[{id:18,label:"4K (4:3)"},{id:6,label:"2.7K (4:3)"},{id:7,label:"1440 (4:3)"},{id:10,label:"960 (4:3)"},{id:1,label:"4K"},{id:4,label:"2.7K"},{id:9,label:"1080"},{id:12,label:"720"}]},We={id:3,label:"FPS",length:1,values:[{id:0,label:"240"},{id:1,label:"120"},{id:5,label:"60"},{id:8,label:"30"},{id:10,label:"24"}]},ee={id:4,label:"FOV",length:1,values:[{id:4,label:"Linear"},{id:0,label:"Wide"},{id:3,label:"Super view"}]},es={id:5,label:"Interval",length:1,values:[{id:0,label:"0.5s"},{id:1,label:"1s"},{id:2,label:"2s"},{id:3,label:"5s"},{id:4,label:"10s"},{id:5,label:"30s"},{id:6,label:"60s"}]},ts={id:6,label:"Interval",length:1,values:[{id:0,label:"MAX"},{id:1,label:"5m"},{id:2,label:"20m"},{id:3,label:"60m"},{id:4,label:"120m"}]},He={id:8,label:"Low light",length:1,values:[{id:0,label:"Off"},{id:1,label:"Auto"}]},A={id:10,label:"Protune",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},R={id:11,label:"White Balance",length:1,values:[{id:0,label:"Auto"},{id:8,label:"2300K"},{id:9,label:"2800K"},{id:10,label:"3200K"},{id:5,label:"4000K"},{id:11,label:"4500K"},{id:12,label:"5000K"},{id:2,label:"5500K"},{id:7,label:"6000K"},{id:3,label:"6500K"},{id:4,label:"Native"}]},T={id:12,label:"Color",length:1,values:[{id:0,label:"GoPro"},{id:1,label:"Flat"}]},j={id:13,label:"ISO max",length:1,values:[{id:0,label:"6400"},{id:3,label:"3200"},{id:1,label:"1600"},{id:4,label:"800"},{id:2,label:"400"},{id:7,label:"200"},{id:8,label:"100"}]},L={id:14,label:"Sharpness",length:1,values:[{id:0,label:"High"},{id:1,label:"Medium"},{id:2,label:"Low"}]},D={id:15,label:"EV comp",length:1,values:[{id:0,label:"+2"},{id:1,label:"+1.5"},{id:2,label:"+1"},{id:3,label:"+0.5"},{id:4,label:"0"},{id:5,label:"-0.5"},{id:6,label:"-1"},{id:7,label:"-1.5"},{id:8,label:"-2"}]},z={id:17,label:"FOV",length:1,values:[{id:0,label:"Wide"},{id:10,label:"Linear"}]},te={id:19,label:"Shutter",length:1,values:[{id:0,label:"Auto"},{id:6,label:"30s"},{id:5,label:"20s"},{id:4,label:"15s"},{id:3,label:"10s"},{id:2,label:"5s"},{id:1,label:"2s"}]},Ke={id:21,label:A.label,length:A.length,values:A.values},qe={id:22,label:R.label,length:R.length,values:R.values},Ue={id:23,label:T.label,length:T.length,values:T.values},S={id:24,label:j.label,length:1,values:[{id:0,label:"800"},{id:1,label:"400"},{id:2,label:"200"},{id:3,label:"100"},{id:4,label:"1600"},{id:5,label:"3200"}]},$e={id:25,label:L.label,length:L.length,values:L.values},je={id:26,label:D.label,length:D.length,values:D.values},me={id:28,label:z.label,length:z.length,values:z.values},as={id:29,label:"Burst Rate",length:1,values:[{id:9,label:"Auto"},{id:8,label:"30/6s"},{id:7,label:"30/3s"},{id:6,label:"30/2s"},{id:5,label:"30/1s"},{id:4,label:"10/3s"},{id:3,label:"10/2s"},{id:2,label:"10/1s"},{id:1,label:"5/1s"},{id:0,label:"3/1s"}]},is={id:30,label:"Interval",length:1,values:[{id:0,label:"0.5s"},{id:1,label:"1s"},{id:2,label:"2s"},{id:5,label:"5s"},{id:10,label:"10s"},{id:30,label:"30s"},{id:60,label:"60s"}]},ss={id:31,label:te.label,length:te.length,values:te.values},ns={id:32,label:"Interval",length:4,values:[{id:(14<<8)+17,label:"Auto"},{id:(0<<8)+4,label:"4s"},{id:(0<<8)+5,label:"5s"},{id:(0<<8)+10,label:"10s"},{id:(0<<8)+20,label:"20s"},{id:(0<<8)+60,label:"1m"},{id:(0<<8)+120,label:"2m"},{id:(1<<8)+44,label:"5m"},{id:(7<<8)+8,label:"30m"},{id:(14<<8)+16,label:"60m"}]},pe={id:34,label:A.label,length:A.length,values:A.values},ge={id:35,label:R.label,length:R.length,values:R.values},ze={id:36,label:T.label,length:T.length,values:T.values},be={id:37,label:j.label,length:S.length,values:S.values},Ze={id:38,label:L.label,length:L.length,values:L.values},Ye={id:39,label:D.label,length:D.length,values:D.values},os={id:51,label:"Touch Display Screen Saver",length:1,values:[{id:1,label:"1min"},{id:2,label:"2min"},{id:3,label:"3min"},{id:0,label:"Never"}]},ls={id:54,label:"Quick Capture",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},rs={id:73,label:"Shutter",length:1,values:[{id:0,label:"Auto"},{id:8,label:"1/60"},{id:13,label:"1/120"},{id:18,label:"1/240"},{id:22,label:"1/480"},{id:23,label:"1/960"}]},ae={id:75,label:"ISO min",length:S.length,values:S.values},he={id:76,label:ae.label,length:S.length,values:S.values},Xe={id:78,label:"Stabilization",length:1,values:[{id:0,label:"Off"},{id:1,label:"Auto"}]},cs={id:80,label:"Microphone",length:1,values:[{id:2,label:"Auto"},{id:1,label:"Wind"},{id:0,label:"Stereo"}]},ds={id:81,label:"Raw audio",length:1,values:[{id:3,label:"Off"},{id:0,label:"Low"},{id:1,label:"Medium"},{id:2,label:"High"}]},us={id:83,label:"Regional GPS",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},ms={id:84,label:"Regional Language",length:1,values:[{id:0,label:"English"},{id:6,label:"French"}]},ps={id:85,label:"Voice Control Language",length:1,values:[{id:0,label:"English (US)"},{id:1,label:"English (UK)"},{id:13,label:"English (India)"}]},gs={id:86,label:"Voice Control",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},bs={id:87,label:"Beeps",length:1,values:[{id:0,label:"Mute"},{id:100,label:"High"},{id:70,label:"Medium"},{id:40,label:"Low"}]},hs={id:88,label:"Touch Display Brightness",length:1,values:[{id:100,label:"100%"},{id:80,label:"80%"},{id:10,label:"10%"}]},ve={id:89,label:"Default Mode",length:1,values:[{id:12,label:"Video"},{id:15,label:"Looping"},{id:17,label:"Photo"},{id:18,label:"Night"},{id:19,label:"Burst"},{id:24,label:"Timewarp Video"},{id:13,label:"Timelapse Video"},{id:20,label:"Timelapse Photo"},{id:21,label:"Nightlapse Photo"}]},vs={id:91,label:"LEDs",length:1,values:[{id:0,label:"All Off"},{id:1,label:"Front Off Only"},{id:2,label:"All On"}]},fs={id:92,label:"Current Mode",length:ve.length,values:ve.values},ys={id:97,label:"Shutter",length:1,values:[{id:0,label:"Auto"},{id:1,label:"1/125"},{id:2,label:"1/250"},{id:3,label:"1/500"},{id:4,label:"1/1000"},{id:5,label:"1/2000"}]},ie={id:98,label:"RAW",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},ws={id:99,label:ie.label,length:ie.length,values:ie.values},Cs={id:102,label:ae.label,length:j.length,values:j.values},Ss={id:104,label:"Wake On Voice",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},Ps={id:106,label:"Video Compression",length:1,values:[{id:0,label:"H264"},{id:1,label:"HEVC"}]},Ms={id:107,label:"Video Timer",length:1,values:[{id:0,label:"Off"},{id:1,label:"15s"},{id:2,label:"30s"}]},As={id:108,label:"Resolution format",length:1,values:[{id:0,label:"4:3"},{id:1,label:"16:9"}]},Rs={id:109,label:"Super Photo",length:1,values:[{id:0,label:"Off"},{id:1,label:"Auto"},{id:2,label:"HDR On"}]},Ts={id:111,label:"Speed",length:1,values:[{id:0,label:"15x"},{id:1,label:"30x"},{id:7,label:"2x"},{id:8,label:"5x"},{id:9,label:"10x"}]},Ls={id:112,label:"Touch Display Landscape Lock",length:1,values:[{id:0,label:"Off"},{id:1,label:"Up"},{id:2,label:"Down"}]},Je=[Q,We,ee,He,Xe,A,rs,D,R,Cs,j,L,T,ds,cs,Ms,As],Ds=[Q,We,ee,ts,He,Xe],xs=[Q,Ts,ee],Is=[Q,ee,es],Os=[is,me,Ye,ge,he,be,Ze,ze,pe],Bs=[he,be,ss,ns,me,pe,ge,ws],ks=[te,z,je,qe,ae,S,$e,Ue,Ke,ie],Vs=[as,me,pe,Ye,ge,he,be,Ze,ze],Es=[z,Rs,Ke,ys,je,qe,ae,S,$e,Ue],Gs=[ls,bs,ve,vs,Ps,gs,Ss,ps,Ls,os,hs,us,ms];[...Je,...Ds,...xs,...Is,...Os,...Bs,...ks,...Vs,...Es,...Gs];function _s(t){switch(t){case 0:return i(Pe,{});case 1:return i(vt,{});case 2:return i(ht,{});case 3:return i(bt,{});default:return i(Pe,{})}}const Ns=t=>{const{batteryPercentage:e,batteryLevelBars:a}=t,s=_s(a);return m(K,{children:[m(w,{variant:"body1",children:[e,"%"]}),s]})};async function Qe(t){await Re(async()=>{const{characteristics:e}=g;if(!e)throw new Error("no characteristics");const{settingsCharacteristic:a}=e;await a.writeValue(new Uint8Array(t))},Qe)}const Fs=o("settingsCommands/setSettingValue",async t=>{const e=[];e.push(t.setting.length+2),e.push(t.setting.id),e.push(t.setting.length);for(let a=0;a<t.setting.length;a++)e.push(t.valueId>>a*8&255);await Qe(e)}),et=Y()({temp:{display:"flex"}}),Ws=()=>{const[t,e]=O.exports.useState(!1),a=()=>e(!1),s=()=>e(!0),[n,l]=O.exports.useState(1);return et(),m(Z,{children:[i(Hs,{isOpen:t,onClose:a,settings:Je}),i(B,{maxWidth:"sm",sx:{width:"fit-content",minWidth:"40vw"},children:i(ne,{elevation:n,onMouseOver:()=>l(3),onMouseOut:()=>l(1),onClick:s,children:m("p",{style:{textAlign:"center"},children:["2.7K|60|W",i("br",{}),"PT, ICON, ICON"]})})})]})},Hs=t=>{const{isOpen:e,onClose:a,settings:s}=t;return i(Z,{children:m(ft,{open:e,onClose:a,children:[i(yt,{children:"Change current mode settings"}),s.map(n=>i(Ks,{setting:n},n.id)),i("div",{children:"actual view todo"})]})})},Ks=t=>{const e=J(),{setting:a}=t,s=v(l=>l.goproSettingsReducer.settings[a.id]),n=l=>{const c=parseInt(l.target.value,10);e(Fs({setting:a,valueId:c}))};return et(),s?i(Z,{children:m(wt,{variant:"standard",sx:{m:1,minWidth:120},children:[i(Ct,{id:"demo-simple-select-standard-label",children:a.label}),i(St,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",value:s.value.toString(),onChange:n,label:a.label,children:a.values.map(l=>i(Pt,{value:l.id,children:l.label},l.id))})]})}):i("div",{children:"something went wrong... known setting missing"})},qs=Y()({pageWrapper:{display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"space-between",alignItems:"center",marginTop:"1rem",marginBottom:"1rem"},topControls:{width:"100%"},bottomControls:{width:"100%"},bottomCenteredButtons:{width:"100%",alignSelf:"flex-end",display:"flex",justifyContent:"space-evenly",alignItems:"center",flexDirection:"row"},alignLeftToRight:{display:"flex"},button:{margin:"0.5rem"},recordButton:{margin:"0.5rem","& svg":{fontSize:"5rem"}},floatLeft:{flex:1},floatRight:{flex:1,display:"flex",alignItems:"center"}});var f;(function(t){t.video="Video",t.photo="Photo",t.timeLapse="Time Lapse"})(f||(f={}));function Us(t){if(!t)return f.video;switch(t.value){case 12:case 15:return f.video;case 17:case 18:case 19:return f.photo;case 24:case 13:case 20:case 21:return f.timeLapse;default:return f.video}}const $s=()=>{const{classes:t}=qs(),e=v(F=>F.goproSettingsReducer.statuses),a=v(F=>F.goproSettingsReducer.settings[fs.id]),s=Us(a),n=v(F=>F.goproBluetoothReducer.deviceName),l=e[Oe.id]===1,c=e[Be.id],u=e[Te.id],b=e[Ie.id],h=e[xe.id],E=s!==f.photo,G=Math.floor(b/60)%60,_=Math.floor(b/60/60),N=E?`${_}:${G}`:`${h<=999?h:"999+"}`,P=e[oe.id]===1,x=e[De.id],I=Math.floor(x/60),p=x%60,y=J(),tt=()=>{y(Si())},at=()=>{y(l?Ai():Ri())},it=()=>{y(wi())},st=()=>{y(yi())},nt=()=>{y(Ci())},ot=()=>{y(P?Pi():Mi())};return i(Z,{children:i(B,{maxWidth:"sm",sx:{display:"flex",flexGrow:1},children:m(ne,{className:t.pageWrapper,children:[m("div",{className:t.topControls,children:[i("br",{}),m(B,{sx:{width:"fit-content"},children:[i(ne,{sx:{padding:"0.4em"},elevation:2,children:i(w,{variant:"h4",children:n})}),i(K,{onClick:tt,children:i(Mt,{})}),i(K,{onClick:at,children:l?i(At,{}):i(Rt,{})}),m(K,{children:[i(Tt,{}),i(w,{variant:"body1",children:N})]}),i(Ns,{batteryPercentage:c,batteryLevelBars:u}),i(C,{onClick:()=>y(Ui()),children:"settings dump"}),i(C,{onClick:()=>y($i()),children:"statuses dump"}),m("p",{children:["Mode: ",s]})]})]}),m("div",{className:t.bottomControls,children:[i(Ws,{}),m("div",{className:t.bottomCenteredButtons,children:[i(C,{onClick:nt,className:t.button,"aria-label":"Timelapse mode",color:"primary",variant:s===f.timeLapse?"text":"outlined",children:i(Lt,{})}),i(C,{onClick:st,className:t.button,"aria-label":"Video mode",color:"primary",variant:s===f.video?"text":"outlined",children:i(Dt,{})}),i(C,{onClick:it,className:t.button,"aria-label":"Photo mode",color:"primary",variant:s===f.photo?"text":"outlined",children:i(xt,{})})]}),m("div",{className:t.alignLeftToRight,children:[i("div",{className:t.floatLeft}),i("div",{className:t.recordButton,children:i(K,{onClick:ot,"aria-label":"Record button",color:"error",children:P?i(It,{}):i(Ot,{})})}),i("div",{className:t.floatRight,children:P&&m(w,{variant:"h6",children:[I.toLocaleString(void 0,{minimumIntegerDigits:2}),":",p.toLocaleString(void 0,{minimumIntegerDigits:2})]})})]})]})]})})})},js=Y()({flexContent:{position:"absolute",height:"100%",width:"100%",maxHeight:"-webkit-fill-available",display:"flex",flexDirection:"column"}}),zs=()=>{const t=v(a=>a.goproBluetoothReducer.isDeviceSelected),e=v(a=>a.goproBluetoothReducer.isGattConnected);return window.location.protocol!=="https:"?i(Fe,{errorTitle:"Bluetooth requires https",errorDescription:"Web Bluetooth will only work on https pages"}):"bluetooth"in navigator?t?e?i($s,{}):i(Xi,{}):i(Ji,{}):i(Fe,{errorTitle:"Bluetooth not supported",errorDescription:"Your browser does not support bluetooth. https://caniuse.com/web-bluetooth"})},Zs=()=>{const{classes:t}=js();return m("div",{className:t.flexContent,children:[i(Qi,{}),i(zs,{})]})};const Ys=()=>{const t=Ce();return m(Bt,{store:ue,children:[i(we.GlobalStyles,{styles:{body:{margin:0,padding:0}}}),m(kt,{theme:t,children:[i(Ut,{}),i(Vt,{}),i(Zs,{})]})]})};Et.render(i(Ys,{}),document.getElementById("root"));
//# sourceMappingURL=index.fb095d72.js.map
