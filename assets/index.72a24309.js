var da=Object.defineProperty,ua=Object.defineProperties;var pa=Object.getOwnPropertyDescriptors;var pt=Object.getOwnPropertySymbols;var ga=Object.prototype.hasOwnProperty,ma=Object.prototype.propertyIsEnumerable;var gt=(e,t,s)=>t in e?da(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,D=(e,t)=>{for(var s in t||(t={}))ga.call(t,s)&&gt(e,s,t[s]);if(pt)for(var s of pt(t))ma.call(t,s)&&gt(e,s,t[s]);return e},mt=(e,t)=>ua(e,pa(t));import{r as S,u as ha,j as n,F as I,c as ht,t as bt,a as ba,b as v,B as Re,T as E,d as Z,e as ne,f as vt,g as p,h as va,i as fa,k as ya,C as Y,A as Sa,l as wa,m as y,n as Ca,o as Pa,P as La,G as Ta,p as he,q as Ia,M as Ma,s as De,v as ke,w as be,x as ft,I as J,y as Aa,z as xa,D as Ra,E as Da,H as ka,J as Ba,K as Va,L as Ga,N as Oa,O as Ea,Q as Na,R as yt,S as St,U as wt,V as Ct,W as Pt,X as Lt,Y as Fa,Z as _a,_ as Wa,$ as Ha,a0 as Ua,a1 as $a,a2 as Ka,a3 as qa,a4 as ja,a5 as za,a6 as Za}from"./vendor.e9ca8edb.js";const Ya=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}};Ya();const Ja=()=>{const[e,t]=S.exports.useState();return S.exports.useEffect(()=>{fetch("manifest.webmanifest").then(s=>s.json()).then(t)},[]),e},Be=window.location.href,Xa=()=>{const e=Ja(),t=ha(),[s,a]=S.exports.useState();S.exports.useEffect(()=>{const i=Array.from(document.getElementsByTagName("link")).filter(o=>o.rel==="manifest")[0];a(i),i&&(i.href="")},[]),S.exports.useEffect(()=>{if(!e)return;e.theme_color=t.palette.primary.main,e.background_color=t.palette.background.default,e.start_url=Be,e.scope=Be,e.icons.forEach(c=>{c.src=`${Be}${c.src}`});const i=JSON.stringify(e),o=new Blob([i],{type:"application/json"}),l=new FileReader;l.readAsDataURL(o),l.onload=()=>{s&&(s.href=l.result)}},[s,e,t])},Qa=e=>{const{children:t}=e;return Xa(),n(I,{children:t})},en={palette:{mode:"light",primary:{main:"#885200",contrastText:"#ffffff",light:"#ffddb8",dark:"#2c1700"},secondary:{main:"#715a41",contrastText:"#ffffff",light:"#fdddbd",dark:"#281805"},error:{main:"#ba1b1b",contrastText:"#ffffff",light:"#ffdad4",dark:"#410001"},divider:"#837568"}},tn={palette:{mode:"dark",primary:{main:"#ffb85f",contrastText:"#482900",light:"#673d00",dark:"#ffddb8"},secondary:{main:"#dfc1a2",contrastText:"#3f2d17",light:"#58432b",dark:"#fdddbd"},error:{main:"#ffb4a9",contrastText:"#680003",light:"#930006",dark:"#ffdad4"},divider:"#9d8e81"}},sn=ht(en),an=ht(tn),Tt=()=>ba("(prefers-color-scheme: dark)")?an:sn,{makeStyles:ve,withStyles:mr}=bt.createMakeAndWithStyles({useTheme:Tt}),nn=ve()({flexContent:{display:"flex",flexDirection:"row"}}),on=e=>{const{classes:t}=nn(),s=()=>{e.updateServiceWorker(!0)};return v(Re,{className:t.flexContent,children:[n(E,{variant:"body1",children:"App was updated, reload to see the changes"}),n(Z,{style:{display:"inline"},onClick:s,children:"Reload"})]})},ln="modulepreload",It={},rn="/Gopro-Bluetooth-Remote/",cn=function(t,s){return!s||s.length===0?t():Promise.all(s.map(a=>{if(a=`${rn}${a}`,a in It)return;It[a]=!0;const i=a.endsWith(".css"),o=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${o}`))return;const l=document.createElement("link");if(l.rel=i?"stylesheet":ln,i||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),i)return new Promise((c,g)=>{l.addEventListener("load",c),l.addEventListener("error",g)})})).then(()=>t())};function dn(){const[e,t]=S.exports.useState();return S.exports.useEffect(()=>{cn(()=>import("./react.ba27320d.js"),["assets/react.ba27320d.js","assets/vendor.e9ca8edb.js"]).then(t)},[t]),e}const un=60*60*1e3,pn=()=>{const e=dn();return e?n(gn,{pwaRegisterModule:e}):null},gn=({pwaRegisterModule:e})=>{const{offlineReady:[t],needRefresh:[s],updateServiceWorker:a}=e.useRegisterSW({immediate:!0,onRegistered(i){console.log("SW registered",i),!!i&&setInterval(()=>{i.update()},un)},onRegisterError(i){console.log("SW registration error",i)}});return S.exports.useEffect(()=>{t&&ne("App was installed and now will work offline")},[t]),S.exports.useEffect(()=>{s&&ne(n(on,{updateServiceWorker:a}),{autoClose:!1})},[s,a]),n("div",{})},P={},mn={settings:{},statuses:{},isFetching:!1},N=vt({name:"goproSettings",initialState:mn,reducers:{settingsReceived:(e,t)=>{e.settings=D(D({},e.settings),t.payload)},settingsRequested:e=>{e.isFetching=!0,e.settings={},e.statuses={}},settingsRequestFailed:e=>{e.isFetching=!1},statusesReceived:(e,t)=>{e.statuses=D(D({},e.statuses),t.payload)}}}),hn=N.reducer;p("goproSettings/fetchSettings",async()=>{const{characteristics:e}=P;if(!e)throw new Error("no characteristics");const{queryCharacteristic:t}=e;await t.writeValue(new Uint8Array([1,18]))});const Mt=[];async function At(e,t){let s=Mt.find(a=>a.context===t);s||(s={context:t,promise:Promise.resolve()},Mt.push(s)),s.promise=s.promise.then(()=>e()),await s.promise}const f=[{id:0,label:"False"},{id:1,label:"True"}],xt={id:1,label:"Internal camera present",description:"Is the internal camera present?",type:"boolean",values:f},Rt={id:2,label:"Internal battery level",description:"Rough approximation of internal battery level in bars",type:"integer",values:[{id:0,label:"Zero"},{id:1,label:"One"},{id:2,label:"Two"},{id:3,label:"Three"},{id:4,label:"Charging"}]},Dt={id:3,label:"External battery present",description:"Is an external battery connected?",type:"boolean",values:f},kt={id:4,label:"External battery level",description:"External battery power level in percent",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},Bt={id:6,label:"System hot",description:"Is the system currently overheating?",type:"boolean",values:f},Ve={id:8,label:"System busy",description:"Is the camera busy?",type:"boolean",values:f},Vt={id:9,label:"Quick capture active",description:"Is Quick Capture feature enabled?",type:"boolean",values:f},Ge={id:10,label:"Encoding active",description:"Is the system encoding right now?",type:"boolean",values:f},Gt={id:11,label:"Lcd lock active",description:"Is LCD lock active?",type:"boolean",values:f},Ot={id:13,label:"Video progress counter",description:"When encoding video, this is the duration (seconds) of the video so far; 0 otherwise",type:"integer",values:[{id:0,label:"0s"},{id:59,label:"59s"}]},Et={id:17,label:"Enable",description:"Are Wireless Connections enabled?",type:"boolean",values:f},Nt={id:19,label:"State",description:"The pairing state of the camera",type:"integer",values:[{id:0,label:"Success"},{id:1,label:"In Progress"},{id:2,label:"Failed"},{id:3,label:"Stopped"}]},Ft={id:20,label:"Type",description:"The last type of pairing that the camera was engaged in",type:"integer",values:[{id:0,label:"Not Pairing"},{id:1,label:"Pairing App"},{id:2,label:"Pairing Remote Control"},{id:3,label:"Pairing Bluetooth Device"}]},_t={id:21,label:"Pair time",description:"Time (milliseconds) since boot of last successful pairing complete action",type:"integer",values:[]},Wt={id:22,label:"State",description:"State of current scan for WiFi Access Points. Appears to only change for CAH-related scans",type:"integer",values:[{id:0,label:"Never started"},{id:1,label:"Started"},{id:2,label:"Aborted"},{id:3,label:"Canceled"},{id:4,label:"Completed"}]},Ht={id:23,label:"Scan time msec",description:"The time, in milliseconds since boot that the WiFi Access Point scan completed",type:"integer",values:[]},Ut={id:24,label:"Provision status",description:"WiFi AP provisioning state",type:"integer",values:[{id:0,label:"Never started"},{id:1,label:"Started"},{id:2,label:"Aborted"},{id:3,label:"Canceled"},{id:4,label:"Completed"}]},$t={id:26,label:"Remote control version",description:"Wireless remote control version",type:"integer",values:[]},Kt={id:27,label:"Remote control connected",description:"Is a wireless remote control connected?",type:"boolean",values:f},qt={id:28,label:"Pairing",description:"Wireless Pairing State",type:"integer",values:[]},jt={id:29,label:"Wlan ssid",description:"Provisioned WIFI AP SSID. On BLE connection, value is big-endian byte-encoded int",type:"string",values:[]},zt={id:30,label:"Ap ssid",description:"Camera's WIFI SSID. On BLE connection, value is big-endian byte-encoded int",type:"string",values:[]},Zt={id:31,label:"App count",description:"The number of wireless devices connected to the camera",type:"integer",values:[]},Yt={id:32,label:"Enable",description:"Is Preview Stream enabled?",type:"boolean",values:f},Jt={id:33,label:"Sd status",description:"Primary Storage Status",type:"integer",values:[{id:-1,label:"Unknown"},{id:0,label:"OK"},{id:1,label:"SD Card Full"},{id:2,label:"SD Card Removed"},{id:3,label:"SD Card Format Error"},{id:4,label:"SD Card Busy"},{id:8,label:"SD Card Swapped"}]},Xt={id:34,label:"Remaining photos",description:"How many photos can be taken before sdcard is full",type:"integer",values:[]},Qt={id:35,label:"Remaining video time",description:"How many minutes of video can be captured with current settings before sdcard is full",type:"integer",values:[]},es={id:36,label:"Num group photos",description:"How many group photos can be taken with current settings before sdcard is full",type:"integer",values:[]},ts={id:37,label:"Num group videos",description:"Total number of group videos on sdcard",type:"integer",values:[]},ss={id:38,label:"Num total photos",description:"Total number of photos on sdcard",type:"integer",values:[]},is={id:39,label:"Num total videos",description:"Total number of videos on sdcard",type:"integer",values:[]},as={id:40,label:"Date time",description:"Current date/time (format: %YY%MM%DD%HH%MM%SS, all values in hex)",type:"string",values:[]},ns={id:41,label:"Ota status",description:"The current status of Over The Air (OTA) update",type:"integer",values:[{id:0,label:"Idle"},{id:1,label:"Downloading"},{id:2,label:"Verifying"},{id:3,label:"Download Failed"},{id:4,label:"Verify Failed"},{id:5,label:"Ready"},{id:6,label:"GoPro App: Downloading"},{id:7,label:"GoPro App: Verifying"},{id:8,label:"GoPro App: Download Failed"},{id:9,label:"GoPro App: Verify Failed"},{id:10,label:"GoPro App: Ready"}]},os={id:42,label:"Download cancel request pending",description:"Is there a pending request to cancel a firmware update download?",type:"boolean",values:f},bn={id:43,label:"Current open preset group",description:"Looks like legacy status, that represented UI group, doesnt match current UI, probably manually mapped to new UI...",type:"integer",values:[{id:0,label:"Legacy Video Group"},{id:1,label:"Legacy Photo Group"},{id:2,label:"Legacy Multishot Group"}]},vn={id:44,label:"Current open preset group child",description:"Looks like legacy status, that represented UI group child mode, doesnt match current UI, probably manually mapped to new UI...",type:"integer",values:[{id:0,label:"1st child by group (group 0 - video, group 1 - ???, group 2 - burst photo)"},{id:1,label:"2nd child by group (group 0 - timelapse video, group 1 - photo, group 2 - timelapse photo)"},{id:2,label:"3rd child by group (group 0 - ???, group 1 - night photo, group 2 - nightlapse photo)"},{id:3,label:"4th child by group (group 0 - looping video)"},{id:4,label:"5th child by group (group 0 - timewarp)"}]},ls={id:45,label:"Camera locate active",description:"Is locate camera feature active?",type:"boolean",values:f},rs={id:49,label:"Multi shot count down",description:"The current timelapse interval countdown value (e.g. 5...4...3...2...1...)",type:"integer",values:[]},cs={id:54,label:"Remaining space",description:"Remaining space on the sdcard in Kilobytes",type:"integer",values:[]},ds={id:55,label:"Supported",description:"Is preview stream supported in current recording/flatmode/secondary-stream?",type:"boolean",values:f},us={id:56,label:"Wifi bars",description:"WiFi signal strength in bars",type:"integer",values:[]},ps={id:57,label:"Current time msec",description:"System time in milliseconds since system was booted",type:"integer",values:[]},gs={id:58,label:"Num hilights",description:"The number of hilights in encoding video (set to 0 when encoding stops)",type:"integer",values:[]},ms={id:59,label:"Last hilight time msec",description:"Time since boot (msec) of most recent hilight in encoding video (set to 0 when encoding stops)",type:"integer",values:[]},hs={id:60,label:"Next poll msec",description:"The min time between camera status updates (msec). Do not poll for status more often than this",type:"integer",values:[]},bs={id:63,label:"In contextual menu",description:"Is the camera currently in a contextual menu (e.g. Preferences)?",type:"boolean",values:f},vs={id:64,label:"Remaining timelapse time",description:"How many min of Timelapse video can be captured with current settings before sdcard is full",type:"integer",values:[]},fs={id:65,label:"Exposure select type",description:"Liveview Exposure Select Mode",type:"integer",values:[{id:0,label:"Disabled"},{id:1,label:"Auto"},{id:2,label:"ISO Lock"},{id:3,label:"Hemisphere"}]},ys={id:66,label:"Exposure select x",description:"Liveview Exposure Select: x-coordinate (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},Ss={id:67,label:"Exposure select y",description:"Liveview Exposure Select: y-coordinate (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},ws={id:68,label:"Gps status",description:"Does the camera currently have a GPS lock?",type:"boolean",values:f},Cs={id:69,label:"Ap state",description:"Is the WiFi radio enabled?",type:"boolean",values:f},Ps={id:70,label:"Internal battery percentage",description:"Internal battery level (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},fn={id:72,label:"Last photo mode",description:"Last photo mode in UI",type:"integer",values:[{id:17,label:"Photo"},{id:19,label:"Burst"},{id:18,label:"Night"}]},yn={id:71,label:"Last video mode",description:"Last video mode in UI",type:"integer",values:[{id:12,label:"Video"},{id:15,label:"Looping"}]},Sn={id:73,label:"Last timelapse mode",description:"Last timelapse mode in UI",type:"integer",values:[{id:24,label:"Timewarp"},{id:13,label:"Timelapse Video"},{id:20,label:"Timelapse Photo"},{id:21,label:"Nightlapse Photo"}]},Ls={id:74,label:"Acc mic status",description:"Microphone Accesstory status",type:"integer",values:[{id:0,label:"Microphone mod not connected"},{id:1,label:"Microphone mod connected"},{id:2,label:"Microphone mod connected and microphone plugged into Microphone mod"}]},Ts={id:75,label:"Digital zoom",description:"Digital Zoom level (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},Is={id:76,label:"Wireless band",description:"Wireless Band",type:"integer",values:[{id:0,label:"2.4 GHz"},{id:1,label:"5 GHz"},{id:2,label:"Max"}]},Ms={id:77,label:"Digital zoom active",description:"Is Digital Zoom feature available?",type:"boolean",values:f},As={id:78,label:"Mobile friendly video",description:"Are current video settings mobile friendly? (related to video compression and frame rate)",type:"boolean",values:f},xs={id:79,label:"First time use",description:"Is the camera currently in First Time Use (FTU) UI flow?",type:"boolean",values:f},Rs={id:81,label:"Band 5ghz avail",description:"Is 5GHz wireless band available?",type:"boolean",values:f},fe={id:82,label:"System ready",description:"Is the system ready to accept commands?",type:"boolean",values:f},Ds={id:83,label:"Batt okay for ota",description:"Is the internal battery charged sufficiently to start Over The Air (OTA) update?",type:"boolean",values:f},ks={id:85,label:"Video low temp alert",description:"Is the camera getting too cold to continue recording?",type:"boolean",values:f},Bs={id:86,label:"Actual orientation",description:"The rotational orientation of the camera",type:"integer",values:[{id:0,label:"0 degrees (upright)"},{id:1,label:"180 degrees (upside down)"},{id:2,label:"90 degrees (laying on right side)"},{id:3,label:"270 degrees (laying on left side)"}]},Vs={id:87,label:"Thermal mitigation mode",description:"Can camera use high resolution/fps (based on temperature)? (HERO7 Silver/White only)",type:"boolean",values:f},Gs={id:88,label:"Zoom while encoding",description:"Is this camera capable of zooming while encoding (static value based on model, not settings)",type:"boolean",values:f},Os={id:89,label:"Current mode",description:"Current flatmode ID",type:"integer",values:[]},Es={id:91,label:"Logs ready",description:"Are system logs ready to be downloaded?",type:"boolean",values:f},Ns={id:92,label:"Timewarp 1x active",description:"Is Timewarp 1x active?",type:"boolean",values:f},Fs={id:93,label:"Active video presets",description:"Current Video Preset (ID)",type:"integer",values:[]},_s={id:94,label:"Active photo presets",description:"Current Photo Preset (ID)",type:"integer",values:[]},Ws={id:95,label:"Active timelapse presets",description:"Current Timelapse Preset (ID)",type:"integer",values:[]},Hs={id:96,label:"Active presets group",description:"Current Preset Group (ID)",type:"integer",values:[]},Us={id:97,label:"Active preset",description:"Current Preset (ID)",type:"integer",values:[]},$s={id:98,label:"Preset modified",description:"Preset Modified Status, which contains an event ID and a preset (group) ID",type:"integer",values:[]},Ks={id:99,label:"Remaining live bursts",description:"How many Live Bursts can be captured before sdcard is full",type:"integer",values:[]},qs={id:100,label:"Num total live bursts",description:"Total number of Live Bursts on sdcard",type:"integer",values:[]},js={id:101,label:"Capture delay active",description:"Is Capture Delay currently active (i.e. counting down)?",type:"boolean",values:f},zs={id:102,label:"Media mod mic status",description:"Media mod State",type:"integer",values:[{id:0,label:"Media mod microphone removed"},{id:2,label:"Media mod microphone only"},{id:3,label:"Media mod microphone with external microphone"}]},Zs={id:103,label:"Timewarp speed ramp active",description:"Time Warp Speed",type:"integer",values:[{id:0,label:"15x"},{id:1,label:"30x"},{id:2,label:"60x"},{id:3,label:"150x"},{id:4,label:"300x"},{id:5,label:"900x"},{id:6,label:"1800x"},{id:7,label:"2x"},{id:8,label:"5x"},{id:9,label:"10x"},{id:10,label:"Auto"},{id:11,label:"1x (realtime)"},{id:12,label:"1/2x (slow-motion)"}]},Ys={id:104,label:"Linux core active",description:"Is the system's Linux core active?",type:"boolean",values:f},Js={id:105,label:"Camera lens type",description:"Camera lens type (reflects changes to setting 162)",type:"integer",values:[{id:0,label:"Default"},{id:1,label:"Max Lens"}]},Xs={id:106,label:"Video hindsight capture active",description:"Is Video Hindsight Capture Active?",type:"boolean",values:f},Qs={id:107,label:"Scheduled preset",description:"Scheduled Capture Preset ID",type:"integer",values:[]},ei={id:108,label:"Scheduled enabled",description:"Is Scheduled Capture set?",type:"boolean",values:f},ti={id:109,label:"Creating preset",description:"Is the camera in the process of creating a custom preset?",type:"boolean",values:f},si={id:110,label:"Media mod status",description:"Media Mode Status (bitmasked)",type:"integer",values:[{id:0,label:"Display (selfie) mod: 0, HDMI: 0, Media Mod Connected: False"},{id:1,label:"Display (selfie) mod: 0, HDMI: 0, Media Mod Connected: True"},{id:2,label:"Display (selfie) mod: 0, HDMI: 1, Media Mod Connected: False"},{id:3,label:"Display (selfie) mod: 0, HDMI: 1, Media Mod Connected: True"},{id:4,label:"Display (selfie) mod: 1, HDMI: 0, Media Mod Connected: False"},{id:5,label:"Display (selfie) mod: 1, HDMI: 0, Media Mod Connected: True"},{id:6,label:"Display (selfie) mod: 1, HDMI: 1, Media Mod Connected: False"},{id:7,label:"Display (selfie) mod: 1, HDMI: 1, Media Mod Connected: True"}]},ii={id:113,label:"Turbo transfer",description:"Is Turbo Transfer active?",type:"boolean",values:f},wn=[xt,Rt,Dt,kt,Bt,Ve,Vt,Ge,Gt,Ot,Et,Nt,Ft,_t,Wt,Ht,Ut,$t,Kt,qt,jt,zt,Zt,Yt,Jt,Xt,Qt,es,ts,ss,is,as,ns,os,ls,rs,cs,ds,us,ps,gs,ms,hs,bs,vs,fs,ys,Ss,ws,Cs,Ps,Ls,Ts,Is,Ms,As,xs,Rs,fe,Ds,ks,Bs,Vs,Gs,Os,Es,Ns,Fs,_s,Ws,Hs,Us,$s,Ks,qs,js,zs,Zs,Ys,Js,Xs,Qs,ei,ti,si,ii];function ai(){const{statuses:e}=Fe.getState().goproSettingsReducer;return e[fe.id]}async function Cn(){ai()||await new Promise(e=>{const t=Fe.subscribe(()=>{ai()&&(t(),e())})})}async function Pn(e){const{characteristics:t}=P;if(!t)throw new Error("no characteristics");const{commandCharacteristic:s}=t;await Cn(),await At(async()=>{await le(s,e)},s)}const m=p("commands/sendCommandAction",async e=>{await Pn(e)});p("commands/forceShutdownCommand",async(e,{dispatch:t})=>{await t(m([4]))});p("commands/hiLightTagCommand",async(e,{dispatch:t})=>{await t(m([24]))});p("commands/locateOnCommand",async(e,{dispatch:t})=>{await t(m([22,1,1]))});p("commands/locateOffCommand",async(e,{dispatch:t})=>{await t(m([22,1,0]))});p("commands/legacyPresetsLoadGroupVideoCommand",async(e,{dispatch:t})=>{await t(m([2,1,0]))});p("commands/legacyPresetsLoadGroupPhotoCommand",async(e,{dispatch:t})=>{await t(m([2,1,1]))});p("commands/legacyPresetsLoadGroupMultishotCommand",async(e,{dispatch:t})=>{await t(m([2,1,2]))});const ni=p("commands/legacyPresetsLoadPresetVideoCommand",async(e,{dispatch:t})=>{await t(m([3,1,0,1,0]))}),Ln=p("commands/legacyPresetsLoadPresetTimeLapseVideoCommand",async(e,{dispatch:t})=>{await t(m([3,1,0,1,1]))}),Tn=p("commands/legacyPresetsLoadPresetLoopingVideoCommand",async(e,{dispatch:t})=>{await t(m([3,1,0,1,3]))}),In=p("commands/legacyPresetsLoadPresetTimewarpCommand",async(e,{dispatch:t})=>{await t(m([3,1,0,1,4]))}),Mn=p("commands/legacyPresetsLoadPresetPhotoCommand",async(e,{dispatch:t})=>{await t(m([3,1,1,1,1]))}),An=p("commands/legacyPresetsLoadPresetNightPhotoCommand",async(e,{dispatch:t})=>{await t(m([3,1,1,1,2]))}),xn=p("commands/legacyPresetsLoadPresetBurstPhotoCommand",async(e,{dispatch:t})=>{await t(m([3,1,2,1,0]))}),Rn=p("commands/legacyPresetsLoadPresetTimeLapsePhotoCommand",async(e,{dispatch:t})=>{await t(m([3,1,2,1,1]))}),Dn=p("commands/legacyPresetsLoadPresetNightLapsePhotoCommand",async(e,{dispatch:t})=>{await t(m([3,1,2,1,2]))}),kn=p("commands/sleepCommand",async(e,{dispatch:t})=>{await t(m([5]))}),oi=p("commands/getHardwareInfoCommand",async(e,{dispatch:t})=>{await t(m([60]))}),Bn=p("commands/setShutterOffCommand",async(e,{dispatch:t})=>{await t(m([1,1,0]))}),Vn=p("commands/setShutterOnCommand",async(e,{dispatch:t})=>{await t(m([1,1,1]))}),li=p("commands/apControlWiFiApOffCommand",async(e,{dispatch:t})=>{await t(m([23,1,0]))}),Gn=p("commands/apControlWiFiApOnCommand",async(e,{dispatch:t})=>{await t(m([23,1,1]))});p("commands/presetsLoadGroupVideoCommand",async(e,{dispatch:t})=>{await t(m([62,2,3,232]))});p("commands/presetsLoadGroupPhotoCommand",async(e,{dispatch:t})=>{await t(m([62,2,3,233]))});p("commands/presetsLoadGroupTimelapseCommand",async(e,{dispatch:t})=>{await t(m([62,2,3,234]))});p("commands/presetsLoadStandardCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,0,0,0]))});p("commands/presetsLoadActivityCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,0,0,1]))});p("commands/presetsLoadCinematicCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,0,0,2]))});p("commands/presetsLoadUltraSloMoCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,0,0,4]))});p("commands/presetsLoadBasicCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,0,0,5]))});p("commands/presetsLoadPhotoCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,1,0,0]))});p("commands/presetsLoadLiveBurstCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,1,0,1]))});p("commands/presetsLoadBurstPhotoCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,1,0,2]))});p("commands/presetsLoadNightPhotoCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,1,0,3]))});p("commands/presetsLoadTimeWarpCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,2,0,0]))});p("commands/presetsLoadTimeLapseCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,2,0,1]))});p("commands/presetsLoadNightLapseCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,2,0,2]))});p("commands/presetsLoadStandardEBCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,8,0,0]))});p("commands/presetsLoadActivityEBCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,8,0,1]))});p("commands/presetsLoadCinematicEBCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,8,0,2]))});p("commands/presetsLoadSloMoEBCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,8,0,3]))});p("commands/presetsLoad4KTripodCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,9,0,0]))});p("commands/presetsLoad53KTripodCommand",async(e,{dispatch:t})=>{await t(m([64,4,0,9,0,1]))});p("commands/analyticsSetThirdPartyClientCommand",async(e,{dispatch:t})=>{await t(m([80]))});const ri=p("commands/openGoProGetVersionCommand",async(e,{dispatch:t})=>{await t(m([81]))});function On(e){return t=>{const s=Nn(t);Fn(e,s)}}function En(e){switch(e){case 0:return X.success;case 1:return X.error;case 2:return X.invalidParameter;default:return X.unknown}}var X;(function(e){e[e.unknown=0]="unknown",e[e.success=1]="success",e[e.error=2]="error",e[e.invalidParameter=3]="invalidParameter"})(X||(X={}));function Nn(e){if(e.length<2)throw new Error("command response too short");const t=e[0],s=En(e[1]),a=e.slice(2);return{commandId:t,errorCode:s,data:a}}var ci;(function(e){e[e.SetShutter=1]="SetShutter",e[e.Sleep=5]="Sleep",e[e.APControl=23]="APControl",e[e.GetHardwareInfo=60]="GetHardwareInfo",e[e.PresetsLoadGroup=62]="PresetsLoadGroup",e[e.PresetsLoad=64]="PresetsLoad",e[e.Analytics=80]="Analytics",e[e.OpenGoProGetVersion=81]="OpenGoProGetVersion"})(ci||(ci={}));function Fn(e,t){switch(t.commandId){case 60:{if(t.errorCode===2){e(oi());break}e(ee.actions.getHardwareInfoResponse(_n(t)));break}case 81:{if(t.errorCode===2){e(ri());break}if(t.errorCode===3){e(ee.actions.openGoProGetVersionResponse({majorVersion:0,minorVersion:0}));break}e(ee.actions.openGoProGetVersionResponse(Wn(t)));break}}}function _n(e){var C,z,lt,rt,ct,dt,ut;const{data:t}=e;let s=0;const a=(C=t[s++])!=null?C:0,i=new Array(a).fill(0).map(()=>{var T;return(T=t[s++])!=null?T:0}),o=(z=t[s++])!=null?z:0,l=new Array(o).fill(0).map(()=>{var T;return String.fromCharCode((T=t[s++])!=null?T:0)}).join(""),c=(lt=t[s++])!=null?lt:0,g=new Array(c).fill(0).map(()=>{var T;return String.fromCharCode((T=t[s++])!=null?T:0)}).join(""),h=(rt=t[s++])!=null?rt:0,b=new Array(h).fill(0).map(()=>{var T;return String.fromCharCode((T=t[s++])!=null?T:0)}).join(""),L=(ct=t[s++])!=null?ct:0,A=new Array(L).fill(0).map(()=>{var T;return String.fromCharCode((T=t[s++])!=null?T:0)}).join(""),R=(dt=t[s++])!=null?dt:0,x=new Array(R).fill(0).map(()=>{var T;return String.fromCharCode((T=t[s++])!=null?T:0)}).join(""),ae=(ut=t[s++])!=null?ut:0,j=new Array(ae).fill(0).map(()=>{var T;return String.fromCharCode((T=t[s++])!=null?T:0)}).join("");return{modelNumber:i,modelName:l,boardType:g,firmwareVersion:b,serialNumber:A,apSsid:x,apMacAddress:j}}function Wn(e){const{data:t}=e;let s=0;const a=t[s++],i=new Array(a).fill(0).map(()=>{var c;return(c=t[s++])!=null?c:0}).reduce((c,g)=>(c<<8)+g),o=t[s++],l=new Array(o).fill(0).map(()=>{var c;return(c=t[s++])!=null?c:0}).reduce((c,g)=>(c<<8)+g);return{majorVersion:i,minorVersion:l}}function Hn(e){return t=>{const s=Un(t);jn(e,s)}}function Un(e){if(e.length<2)throw new Error("command response too short");const t=e[0],s=qn(e[1]),a=$n(e.slice(2));return{queryId:t,errorCode:s,statusesOrSettings:a}}function $n(e){const t=[];let s=0;for(;s<e.length;){const a=Kn(e.slice(s));t.push(a),s+=a.value.length+2}return t}function Kn(e){var i,o;const t=(i=e[0])!=null?i:0,s=(o=e[1])!=null?o:0,a=e.slice(2,s+2);return{id:t,length:s,value:a}}function qn(e){switch(e){case 0:return Q.success;case 1:return Q.error;case 2:return Q.invalidParameter;default:return Q.unknown}}var Q;(function(e){e[e.unknown=0]="unknown",e[e.success=1]="success",e[e.error=2]="error",e[e.invalidParameter=3]="invalidParameter"})(Q||(Q={}));var di;(function(e){e[e.getSettingValue=18]="getSettingValue",e[e.getStatusValue=19]="getStatusValue",e[e.registerForSettingUpdates=82]="registerForSettingUpdates",e[e.registerForStatusUpdates=83]="registerForStatusUpdates",e[e.unregisterForSettingUpdates=114]="unregisterForSettingUpdates",e[e.unregisterForStatusUpdates=115]="unregisterForStatusUpdates",e[e.settingUpdate=146]="settingUpdate",e[e.statusUpdate=147]="statusUpdate"})(di||(di={}));const Oe=e=>e.reduce((t,s)=>{if(s.value.length===0)return t;const a=s.value.reduce((o,l)=>(o<<8)+l),{length:i}=s;return t[s.id]={value:a,length:i},t},{}),Ee=e=>e.reduce((t,s)=>{const a=s.value.length,i=wn.find(l=>l.id===s.id);if((i==null?void 0:i.type)==="string"||a>4){const l=s.value.map(c=>String.fromCharCode(c)).join("");return t[s.id]=l,t}if(s.value.length===0)return t;const o=s.value.reduce((l,c)=>(l<<8)+c);return t[s.id]=o,t},{});function jn(e,t){switch(t.queryId){case 18:e(N.actions.settingsReceived(Oe(t.statusesOrSettings)));break;case 82:e(N.actions.settingsReceived(Oe(t.statusesOrSettings)));break;case 146:e(N.actions.settingsReceived(Oe(t.statusesOrSettings)));break;case 19:e(N.actions.statusesReceived(Ee(t.statusesOrSettings)));break;case 83:e(N.actions.statusesReceived(Ee(t.statusesOrSettings)));break;case 147:e(N.actions.statusesReceived(Ee(t.statusesOrSettings)));break}}function zn(e){return t=>{}}function Ne(e){let t=[],s=0;return a=>{const i=a.target;async function o(){const{value:l}=i;if(!l)throw new Error("This should not be possible, empty response value");const c=Zn(l);if(c.header.isStart?(s=c.header.messageLength,t=c.data):t.push(...c.data),t.length===s)return t;if(t.length>s)throw new Error("Did response messages get out of sync?")}o().then(l=>{!l||(e(l),console.log("packet dump",l))}).catch(l=>{ne(`Error while parsing response message ${l}`)})}}function Zn(e){const t=Yn(e),s=Array.from(new Uint8Array(e.buffer)).slice(t.headerSizeBytes);return{header:t,data:s}}function Yn(e){const t=e.getUint8(0);let s=1;if(!((t&128)>>7==0)){const l=t&127;return{isStart:!1,headerSizeBytes:1,continuationIndex:l}}const i=(t&96)>>5;let o;if(i===0)o=t&31;else if(i===1){s=2;const l=e.getUint8(1);o=(t&31)<<8|l}else if(i===2){s=3;const l=e.getUint8(1),c=e.getUint8(2);o=l<<8|c}else if(i===3)o=0;else throw new Error("IMPOSSIBLE");return{isStart:!0,headerSizeBytes:s,messageLength:o}}const Jn=p("queryCommands/subscribeToSettingsChangesCommand",async e=>{const{characteristics:t}=P;if(!t)throw new Error("no characteristics");const{queryCharacteristic:s}=t;await le(s,[82,...e])}),ui=p("queryCommands/subscribeToStatusChangesCommand",async e=>{const{characteristics:t}=P;if(!t)throw new Error("no characteristics");const{queryCharacteristic:s}=t;await le(s,[83,...e])});p("queryCommands/getSettingsCommand",async()=>{const{characteristics:e}=P;if(!e)throw new Error("no characteristics");const{queryCharacteristic:t}=e;await le(t,[18])});p("queryCommands/getStatusesCommand",async()=>{const{characteristics:e}=P;if(!e)throw new Error("no characteristics");const{queryCharacteristic:t}=e;await le(t,[19])});function pi(e,t){e.ongattserverdisconnected=()=>{P.characteristics=void 0,P.gattServer=void 0,t(ee.actions.gattDisconnected("Connection lost")),ne.error("Gopro disconnected, connection lost")}}const ye=p("bluetoothDevice/getKnownDevice",async(e,{dispatch:t})=>{var o;if(!("bluetooth"in navigator)||!("getDevices"in navigator.bluetooth))throw new Error("Browser does not support getDevices");const a=(await navigator.bluetooth.getDevices())[0];if(!a)throw new Error("Couldn't find any known devices");const i=l=>{var g;const c=l;t(ee.actions.savedDeviceAvailable((g=a.name)!=null?g:a.id)),pi(c.device,t),P.device=c.device,a.removeEventListener("advertisementreceived",i)};return a.addEventListener("advertisementreceived",i),a.watchAdvertisements(),{deviceName:(o=a.name)!=null?o:a.id}}),Se=p("bluetoothDevice/requestDevice",async(e,{dispatch:t})=>{var a;const s=await navigator.bluetooth.requestDevice({filters:[{services:["0000fea6-0000-1000-8000-00805f9b34fb"]}],optionalServices:["0000fea6-0000-1000-8000-00805f9b34fb","b5f90001-aa8d-11e3-9046-0002a5d5c51b"]});return pi(s,t),P.device=s,t(oe()),{deviceName:(a=s.name)!=null?a:s.id}}),oe=p("bluetoothDevice/gattConnect",async(e,{dispatch:t})=>{var j;const{device:s}=P;if(!s)throw new Error("device not found to connect to");if(!(s==null?void 0:s.gatt))throw new Error(`gatt missing for this device ${(j=s.name)!=null?j:s.id}`);const a=await s.gatt.connect(),i=a.getPrimaryService("b5f90001-aa8d-11e3-9046-0002a5d5c51b"),o=i.then(C=>C.getCharacteristic("b5f90002-aa8d-11e3-9046-0002a5d5c51b")),l=i.then(C=>C.getCharacteristic("b5f90003-aa8d-11e3-9046-0002a5d5c51b")),c=i.then(C=>C.getCharacteristic("b5f90004-aa8d-11e3-9046-0002a5d5c51b")),g=i.then(C=>C.getCharacteristic("b5f90005-aa8d-11e3-9046-0002a5d5c51b")),h=a.getPrimaryService("0000fea6-0000-1000-8000-00805f9b34fb"),b=h.then(C=>C.getCharacteristic("b5f90072-aa8d-11e3-9046-0002a5d5c51b")),L=h.then(C=>C.getCharacteristic("b5f90073-aa8d-11e3-9046-0002a5d5c51b")),A=h.then(C=>C.getCharacteristic("b5f90074-aa8d-11e3-9046-0002a5d5c51b")),R=h.then(C=>C.getCharacteristic("b5f90075-aa8d-11e3-9046-0002a5d5c51b")),x=h.then(C=>C.getCharacteristic("b5f90076-aa8d-11e3-9046-0002a5d5c51b")),ae=h.then(C=>C.getCharacteristic("b5f90077-aa8d-11e3-9046-0002a5d5c51b"));P.gattServer=a,P.characteristics={wifiApSsidCharacteristic:await o,wifiApPasswordCharacteristic:await l,wifiApPowerCharacteristic:await c,wifiApStateCharacteristic:await g,commandCharacteristic:await b,commandResponseCharacteristic:await L,settingsCharacteristic:await A,settingsResponseCharacteristic:await R,queryCharacteristic:await x,queryResponseCharacteristic:await ae},P.characteristics.commandResponseCharacteristic.oncharacteristicvaluechanged=Ne(On(t)),await P.characteristics.commandResponseCharacteristic.startNotifications(),P.characteristics.queryResponseCharacteristic.oncharacteristicvaluechanged=Ne(Hn(t)),await P.characteristics.queryResponseCharacteristic.startNotifications(),P.characteristics.settingsResponseCharacteristic.oncharacteristicvaluechanged=Ne(zn()),await P.characteristics.settingsResponseCharacteristic.startNotifications(),t(N.actions.settingsRequested()),await t(ui([fe.id,Ge.id,Ve.id])),await t(ui([...new Array(88).keys()])),await t(Jn([...new Array(112).keys()])),await t(ri()),await t(oi())});async function Xn(e,t){return e.writeValue(new Uint8Array(t))}function Qn(e,t){if(t>0)return[128+(t&63)];if(e<=31)return[e&31];if(e<=8191)return[32+(e>>8&31),e&255];if(e<=65535)return[64,e>>8&255,e&255];throw ne.error("packet too large"),new Error("data length too large")}async function le(e,t){console.log("writing data, before appending headers",t);const s=[...t];let a=0;for(;s.length>0;){s.unshift(...Qn(t.length,a));const i=s.splice(0,20);await Xn(e,i),a++}}var k;(function(e){e[e.None=0]="None",e[e.BeingRequested=1]="BeingRequested",e[e.SavedAndWaitingForAdvertisement=2]="SavedAndWaitingForAdvertisement",e[e.Ready=3]="Ready"})(k||(k={}));const eo={deviceAvailability:0,isGattConnected:!1,isGattConnecting:!1,deviceName:"unknown",goproBluetoothDeviceCommandsState:{isCommandInAction:!1}},ee=vt({name:"bluetoothDevice",initialState:eo,reducers:{gattDisconnected:(e,t)=>{e.isGattConnected=!1,e.error=t.payload},getHardwareInfoResponse:(e,t)=>{e.goproBluetoothDeviceCommandsState.getHardwareInfo=t.payload,e.deviceName=t.payload.apSsid},openGoProGetVersionResponse:(e,t)=>{e.goproBluetoothDeviceCommandsState.openGoProVersion=t.payload},savedDeviceAvailable:(e,t)=>{e.deviceAvailability=3,e.error=void 0,e.deviceName=t.payload}},extraReducers:e=>{e.addCase(Se.pending,t=>{P.device=void 0,t.deviceAvailability=1,t.error=void 0}),e.addCase(Se.fulfilled,(t,s)=>{t.deviceAvailability=3,t.error=void 0,t.deviceName=s.payload.deviceName}),e.addCase(Se.rejected,(t,s)=>{var a;P.device=void 0,t.deviceAvailability=0,t.error=(a=s.error.message)!=null?a:"unknown error"}),e.addCase(ye.pending,t=>{t.error=void 0}),e.addCase(ye.rejected,t=>{t.deviceName="unknown",t.deviceAvailability=0}),e.addCase(ye.fulfilled,(t,s)=>{t.deviceName=s.payload.deviceName,t.deviceAvailability=2}),e.addCase(oe.pending,t=>{t.isGattConnecting=!0,t.isGattConnected=!1}),e.addCase(oe.fulfilled,t=>{t.isGattConnecting=!1,t.isGattConnected=!0}),e.addCase(oe.rejected,(t,s)=>{var a;t.isGattConnecting=!1,t.isGattConnected=!1,t.error=(a=s.error.message)!=null?a:"unknown error"})}}),to=ee.reducer,Fe=va({reducer:{goproBluetoothReducer:to,goproSettingsReducer:hn},devTools:!0}),B=()=>ya(),w=fa,so=()=>{const e=w(i=>i.goproBluetoothReducer.isGattConnecting),t=w(i=>i.goproBluetoothReducer.deviceName),s=w(i=>i.goproBluetoothReducer.error),a=B();return n(Y,{maxWidth:"sm",children:v(Re,{sx:{my:4},children:[n(E,{variant:"h4",component:"h1",gutterBottom:!0,children:e?`Connecting to ${t}...`:`Connect to ${t}`}),e?null:n(Z,{onClick:()=>a(oe()),children:"Reconnect"}),s?n("div",{children:s}):null]})})},gi=e=>{const{errorTitle:t,errorDescription:s}=e;return v(Y,{maxWidth:"sm",children:[n("h1",{children:t}),n("p",{children:s})]})},io=()=>{const e=w(o=>o.goproBluetoothReducer.deviceAvailability),t=w(o=>o.goproBluetoothReducer.error),s=w(o=>o.goproBluetoothReducer.deviceName),a=B();S.exports.useEffect(()=>{a(ye())},[a]);const i=ao(e,s);return n(Y,{maxWidth:"sm",children:v(Re,{sx:{my:4},children:[n(E,{variant:"h4",component:"h1",gutterBottom:!0,children:i}),n(Z,{onClick:()=>a(Se()),children:e===k.SavedAndWaitingForAdvertisement?"Manual search":"Search"}),t?n("div",{children:t}):null]})})};function ao(e,t){switch(e){case k.None:return"Search for GoPro";case k.BeingRequested:return"Select your GoPro";case k.SavedAndWaitingForAdvertisement:return`Trying to find saved GoPro (${t})...`;default:return"Search for GoPro"}}function no(){const[e,t]=S.exports.useState(),s=!!e,[a,i]=S.exports.useState(!1),[o,l]=S.exports.useState(!1),[c,g]=S.exports.useState(!1),h=()=>e?(l(!1),g(!1),e.prompt().then(({outcome:b})=>{l(b==="accepted"),g(b==="dismissed")})):Promise.reject(new Error('Tried installing before browser sent "beforeinstallprompt" event'));return S.exports.useEffect(()=>{const b=L=>{t(L)};return window.addEventListener("beforeinstallprompt",b),()=>{window.removeEventListener("beforeinstallprompt",b)}},[]),S.exports.useEffect(()=>{const b=()=>{i(!0)};return window.addEventListener("appinstalled",b),()=>{window.removeEventListener("appinstalled",b)}},[]),[s,o,c,a,h]}const oo=()=>{const[e,t,s,a,i]=no(),[o,l]=S.exports.useState(!1),[c,g]=S.exports.useState(!1);S.exports.useEffect(()=>{let b;return s&&(l(!0),b=window.setTimeout(()=>{g(!0)},3e3)),()=>{window.clearTimeout(b)}},[s]);const h=()=>{i()};return!e||c||a?null:v(Z,{color:"inherit",onClick:h,children:["Install",o?" \u{1F494}":""]})},lo=()=>n(Sa,{position:"sticky",children:v(wa,{children:[n(E,{variant:"h6",sx:{flexGrow:1},children:"GoPro Bluetooth remote"}),n(oo,{})]})}),re={id:2,label:"Resolution",length:1,values:[{id:18,label:"4K (4:3)"},{id:6,label:"2.7K (4:3)"},{id:7,label:"1440 (4:3)"},{id:10,label:"960 (4:3)"},{id:1,label:"4K"},{id:4,label:"2.7K"},{id:9,label:"1080"},{id:12,label:"720"}]},_e={id:3,label:"FPS",length:1,values:[{id:0,label:"240"},{id:1,label:"120"},{id:5,label:"60"},{id:8,label:"30"},{id:10,label:"24"}]},ce={id:4,label:"FOV",length:1,values:[{id:4,label:"Linear"},{id:0,label:"Wide"},{id:3,label:"Super view"}]},mi={id:5,label:"Interval",length:1,values:[{id:0,label:"0.5s"},{id:1,label:"1s"},{id:2,label:"2s"},{id:3,label:"5s"},{id:4,label:"10s"},{id:5,label:"30s"},{id:6,label:"60s"}]},hi={id:6,label:"Interval",length:1,values:[{id:0,label:"MAX"},{id:1,label:"5m"},{id:2,label:"20m"},{id:3,label:"60m"},{id:4,label:"120m"}]},We={id:8,label:"Low light",length:1,values:[{id:0,label:"Off"},{id:1,label:"Auto"}]},F={id:10,label:"Protune",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},_={id:11,label:"White Balance",length:1,values:[{id:0,label:"Auto"},{id:8,label:"2300K"},{id:9,label:"2800K"},{id:10,label:"3200K"},{id:5,label:"4000K"},{id:11,label:"4500K"},{id:12,label:"5000K"},{id:2,label:"5500K"},{id:7,label:"6000K"},{id:3,label:"6500K"},{id:4,label:"Native"}]},W={id:12,label:"Color",length:1,values:[{id:0,label:"GoPro"},{id:1,label:"Flat"}]},te={id:13,label:"ISO max",length:1,values:[{id:0,label:"6400"},{id:3,label:"3200"},{id:1,label:"1600"},{id:4,label:"800"},{id:2,label:"400"},{id:7,label:"200"},{id:8,label:"100"}]},H={id:14,label:"Sharpness",length:1,values:[{id:0,label:"High"},{id:1,label:"Medium"},{id:2,label:"Low"}]},U={id:15,label:"EV comp",length:1,values:[{id:0,label:"+2"},{id:1,label:"+1.5"},{id:2,label:"+1"},{id:3,label:"+0.5"},{id:4,label:"0"},{id:5,label:"-0.5"},{id:6,label:"-1"},{id:7,label:"-1.5"},{id:8,label:"-2"}]},se={id:17,label:"FOV",length:1,values:[{id:0,label:"Wide"},{id:10,label:"Linear"}]},de={id:19,label:"Shutter",length:1,values:[{id:0,label:"Auto"},{id:6,label:"30s"},{id:5,label:"20s"},{id:4,label:"15s"},{id:3,label:"10s"},{id:2,label:"5s"},{id:1,label:"2s"}]},He={id:21,label:F.label,length:F.length,values:F.values},Ue={id:22,label:_.label,length:_.length,values:_.values},$e={id:23,label:W.label,length:W.length,values:W.values},V={id:24,label:te.label,length:1,values:[{id:0,label:"800"},{id:1,label:"400"},{id:2,label:"200"},{id:3,label:"100"},{id:4,label:"1600"},{id:5,label:"3200"}]},Ke={id:25,label:H.label,length:H.length,values:H.values},qe={id:26,label:U.label,length:U.length,values:U.values},we={id:28,label:se.label,length:se.length,values:se.values},bi={id:29,label:"Burst Rate",length:1,values:[{id:9,label:"Auto"},{id:8,label:"30/6s"},{id:7,label:"30/3s"},{id:6,label:"30/2s"},{id:5,label:"30/1s"},{id:4,label:"10/3s"},{id:3,label:"10/2s"},{id:2,label:"10/1s"},{id:1,label:"5/1s"},{id:0,label:"3/1s"}]},vi={id:30,label:"Interval",length:1,values:[{id:0,label:"0.5s"},{id:1,label:"1s"},{id:2,label:"2s"},{id:5,label:"5s"},{id:10,label:"10s"},{id:30,label:"30s"},{id:60,label:"60s"}]},fi={id:31,label:de.label,length:de.length,values:de.values},yi={id:32,label:"Interval",length:4,values:[{id:(14<<8)+17,label:"Auto"},{id:(0<<8)+4,label:"4s"},{id:(0<<8)+5,label:"5s"},{id:(0<<8)+10,label:"10s"},{id:(0<<8)+20,label:"20s"},{id:(0<<8)+60,label:"1m"},{id:(0<<8)+120,label:"2m"},{id:(1<<8)+44,label:"5m"},{id:(7<<8)+8,label:"30m"},{id:(14<<8)+16,label:"60m"}]},Ce={id:34,label:F.label,length:F.length,values:F.values},Pe={id:35,label:_.label,length:_.length,values:_.values},je={id:36,label:W.label,length:W.length,values:W.values},Le={id:37,label:te.label,length:V.length,values:V.values},ze={id:38,label:H.label,length:H.length,values:H.values},Ze={id:39,label:U.label,length:U.length,values:U.values},Si={id:51,label:"Touch Display Screen Saver",length:1,values:[{id:1,label:"1min"},{id:2,label:"2min"},{id:3,label:"3min"},{id:0,label:"Never"}]},wi={id:54,label:"Quick Capture",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},Ci={id:73,label:"Shutter",length:1,values:[{id:0,label:"Auto"},{id:8,label:"1/60"},{id:13,label:"1/120"},{id:18,label:"1/240"},{id:22,label:"1/480"},{id:23,label:"1/960"}]},ue={id:75,label:"ISO min",length:V.length,values:V.values},Te={id:76,label:ue.label,length:V.length,values:V.values},Ye={id:78,label:"Stabilization",length:1,values:[{id:0,label:"Off"},{id:1,label:"Auto"}]},Pi={id:80,label:"Microphone",length:1,values:[{id:2,label:"Auto"},{id:1,label:"Wind"},{id:0,label:"Stereo"}]},Li={id:81,label:"Raw audio",length:1,values:[{id:3,label:"Off"},{id:0,label:"Low"},{id:1,label:"Medium"},{id:2,label:"High"}]},Ti={id:83,label:"Regional GPS",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},Ii={id:84,label:"Regional Language",length:1,values:[{id:0,label:"English"},{id:6,label:"French"}]},Mi={id:85,label:"Voice Control Language",length:1,values:[{id:0,label:"English (US)"},{id:1,label:"English (UK)"},{id:13,label:"English (India)"}]},Ai={id:86,label:"Voice Control",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},xi={id:87,label:"Beeps",length:1,values:[{id:0,label:"Mute"},{id:100,label:"High"},{id:70,label:"Medium"},{id:40,label:"Low"}]},Ri={id:88,label:"Touch Display Brightness",length:1,values:[{id:100,label:"100%"},{id:80,label:"80%"},{id:10,label:"10%"}]},Ie={id:89,label:"Default Mode",length:1,values:[{id:12,label:"Video"},{id:15,label:"Looping"},{id:17,label:"Photo"},{id:18,label:"Night"},{id:19,label:"Burst"},{id:24,label:"Timewarp Video"},{id:13,label:"Timelapse Video"},{id:20,label:"Timelapse Photo"},{id:21,label:"Nightlapse Photo"}]},Di={id:91,label:"LEDs",length:1,values:[{id:0,label:"All Off"},{id:1,label:"Front Off Only"},{id:2,label:"All On"}]},ro={id:92,label:"Current Mode",length:Ie.length,values:[...Ie.values,{id:4,label:"Gallery view"}]},ki={id:97,label:"Shutter",length:1,values:[{id:0,label:"Auto"},{id:1,label:"1/125"},{id:2,label:"1/250"},{id:3,label:"1/500"},{id:4,label:"1/1000"},{id:5,label:"1/2000"}]},pe={id:98,label:"RAW",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},Bi={id:99,label:pe.label,length:pe.length,values:pe.values},Vi={id:102,label:ue.label,length:te.length,values:te.values},Gi={id:104,label:"Wake On Voice",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},Oi={id:106,label:"Video Compression",length:1,values:[{id:0,label:"H264"},{id:1,label:"HEVC"}]},Ei={id:107,label:"Video Timer",length:1,values:[{id:0,label:"Off"},{id:1,label:"15s"},{id:2,label:"30s"}]},Ni={id:108,label:"Resolution format",length:1,values:[{id:0,label:"4:3"},{id:1,label:"16:9"}]},Fi={id:109,label:"Super Photo",length:1,values:[{id:0,label:"Off"},{id:1,label:"Auto"},{id:2,label:"HDR On"}]},_i={id:111,label:"Speed",length:1,values:[{id:0,label:"15x"},{id:1,label:"30x"},{id:7,label:"2x"},{id:8,label:"5x"},{id:9,label:"10x"}]},Wi={id:112,label:"Touch Display Landscape Lock",length:1,values:[{id:0,label:"Off"},{id:1,label:"Up"},{id:2,label:"Down"}]},co=[re,_e,ce,We,Ye,F,Ci,U,_,Vi,te,H,W,Li,Pi,Ei,Ni],uo=[re,_e,ce,hi,We,Ye],po=[re,_i,ce],go=[re,ce,mi],mo=[vi,we,Ze,Pe,Te,Le,ze,je,Ce],ho=[Te,Le,fi,yi,we,Ce,Pe,Bi],bo=[de,se,qe,Ue,ue,V,Ke,$e,He,pe],vo=[bi,we,Ce,Ze,Pe,Te,Le,ze,je],fo=[se,Fi,He,ki,qe,Ue,ue,V,Ke,$e],yo=[wi,xi,Ie,Di,Oi,Ai,Gi,Mi,Wi,Si,Ri,Ti,Ii],So=[...co,...uo,...po,...go,...mo,...ho,...bo,...vo,...fo,...yo];var M;(function(e){e[e.video=0]="video",e[e.photo=1]="photo",e[e.timelapse=2]="timelapse"})(M||(M={}));var Je;(function(e){e[e.video=12]="video",e[e.videoLooping=15]="videoLooping"})(Je||(Je={}));var ie;(function(e){e[e.photoSingle=17]="photoSingle",e[e.photoNight=18]="photoNight",e[e.photoBurst=19]="photoBurst"})(ie||(ie={}));var q;(function(e){e[e.timelapseTimewarp=24]="timelapseTimewarp",e[e.timelapseVideo=13]="timelapseVideo",e[e.timelapsePhoto=20]="timelapsePhoto",e[e.nightlapse=21]="nightlapse"})(q||(q={}));var Xe;(function(e){e[e.galleryView=4]="galleryView"})(Xe||(Xe={}));const u=D(D(D(D({},Je),ie),q),Xe);function Qe(e){switch(e){case 0:return[u.video,u.videoLooping];case 1:return[u.photoSingle,u.photoBurst,u.photoNight];case 2:return[u.timelapseTimewarp,u.timelapseVideo,u.timelapsePhoto,u.nightlapse];default:return[]}}function et(e){switch(e){case u.video:return"Video";case u.videoLooping:return"Looping Video";case u.photoSingle:return"Single";case u.photoBurst:return"Burst";case u.photoNight:return"Night";case u.timelapseTimewarp:return"Timewarp";case u.timelapseVideo:return"Video";case u.timelapsePhoto:return"Photo";case u.nightlapse:return"Nightlapse";default:return"unknown"}}function tt(e){switch(e){case u.video:return ni;case u.videoLooping:return Tn;case u.photoSingle:return Mn;case u.photoBurst:return xn;case u.photoNight:return An;case u.timelapseTimewarp:return In;case u.timelapseVideo:return Ln;case u.timelapsePhoto:return Rn;case u.nightlapse:return Dn;default:return ni}}const d=e=>y(t=>t.goproSettingsReducer.settings[e.id],t=>{const s=t==null?void 0:t.value;if(s===void 0)return;const a=e.values.find(i=>i.id===s);return{settingId:e.id,settingLabel:e.label,value:s,valueLabel:a==null?void 0:a.label,possibleValues:e.values}}),G=d(re),Me=d(_e),$=d(ce),Hi=d(mi),wo=d(hi),Ui=d(We),Co=d(F),Po=d(_),Lo=d(W),To=d(te),Io=d(H),Mo=d(U),ge=d(se),Ao=d(de),$i=d(He),Ki=d(Ue),qi=d($e),ji=d(V),zi=d(Ke),Zi=d(qe),me=d(we),xo=d(bi),Yi=d(vi),Ji=d(fi),Xi=d(yi),st=d(Ce),it=d(Pe),Qi=d(je),at=d(Le),ea=d(ze),ta=d(Ze),Ro=d(Si),Do=d(wi),ko=d(Ci),sa=d(ue),nt=d(Te),ia=d(Ye),Bo=d(Pi),Vo=d(Li),Go=d(Ti),Oo=d(Ii),Eo=d(Mi),No=d(Ai),Fo=d(xi),_o=d(Ri),Wo=d(Ie),Ho=d(Di),Ae=d(ro),Uo=d(ki),$o=d(pe),Ko=d(Bi),qo=d(Vi),jo=d(Gi),zo=d(Oi),Zo=d(Ei),Yo=d(Ni),Jo=d(Fi),aa=d(_i),Xo=d(Wi),Qo=y(G,Me,$,Ui,ia,Co,ko,Mo,Po,qo,To,Io,Lo,Vo,Bo,Zo,Yo,(e,t,s,a,i,o,l,c,g,h,b,L,A,R,x,ae,j)=>{const C=[ae,j,e,t,s,a,i,o];return(o==null?void 0:o.value)&&C.push(l,c,g,h,b,L,A,R,x),C.filter(z=>z!==void 0).map(z=>z)}),el=y(G,Me,$,wo,Ui,ia,(e,t,s,a,i,o)=>[e,t,s,a,i,o].filter(c=>c!==void 0).map(c=>c)),tl=y(G,$,aa,(e,t,s)=>[e,t,s].filter(i=>i!==void 0).map(i=>i)),sl=y(G,$,Hi,(e,t,s)=>[e,t,s].filter(i=>i!==void 0).map(i=>i)),il=y(Yi,me,ta,it,nt,at,ea,Qi,st,(e,t,s,a,i,o,l,c,g)=>{const h=[e,t,g];return(s==null?void 0:s.value)&&h.push(s,a,i,o,l,c),h.filter(b=>b!==void 0).map(b=>b)}),al=y(me,Ji,Xi,st,it,at,nt,Ko,(e,t,s,a,i,o,l,c)=>{const g=[t,s,e,c,a];return(a==null?void 0:a.value)&&g.push(i,l,o),g.filter(h=>h!==void 0).map(h=>h)}),nl=y(ge,Ao,$i,Ki,qi,ji,zi,Zi,sa,$o,(e,t,s,a,i,o,l,c,g,h)=>{const b=[t,e,h,s];return(s==null?void 0:s.value)&&b.push(c,a,g,o,l,i),b.filter(L=>L!==void 0).map(L=>L)}),ol=y(me,xo,st,it,Qi,at,ea,ta,nt,(e,t,s,a,i,o,l,c,g)=>{const h=[t,e,s];return(s==null?void 0:s.value)&&h.push(c,a,g,o,l,i),h.filter(b=>b!==void 0).map(b=>b)}),ll=y(ge,$i,Ki,qi,ji,zi,Zi,sa,Uo,Jo,(e,t,s,a,i,o,l,c,g,h)=>{const b=[e,h,t];return(t==null?void 0:t.value)&&b.push(g,l,s,c,i,o,a),b.filter(L=>L!==void 0).map(L=>L)}),rl=y(Ae,Qo,el,ll,ol,nl,tl,sl,il,al,(e,t,s,a,i,o,l,c,g,h)=>{switch(e==null?void 0:e.value){case u.video:return t;case u.videoLooping:return s;case u.photoSingle:return a;case u.photoNight:return o;case u.photoBurst:return i;case u.timelapseTimewarp:return l;case u.timelapseVideo:return c;case u.timelapsePhoto:return g;case u.nightlapse:return h;default:return[]}}),cl=y(Ro,Do,Go,Oo,Eo,No,Fo,_o,Wo,Ho,jo,zo,Xo,(e,t,s,a,i,o,l,c,g,h,b,L,A)=>[e,t,s,a,i,o,l,c,g,h,b,L,A].filter(x=>x!==void 0).map(x=>x));y(Ae,e=>{if(e!==void 0)return{id:e.value,label:e.valueLabel}});const xe=y(Ae,e=>{switch(e==null?void 0:e.value){case u.video:return M.video;case u.videoLooping:return M.video;case u.photoSingle:return M.photo;case u.photoNight:return M.photo;case u.photoBurst:return M.photo;case u.timelapseTimewarp:return M.timelapse;case u.timelapseVideo:return M.timelapse;case u.timelapsePhoto:return M.timelapse;case u.nightlapse:return M.timelapse;default:return M.video}}),O=e=>y(...e,(...t)=>t.map(s=>s==null?void 0:s.valueLabel).filter(s=>s!==void 0).map(s=>s)),dl=O([G,Me,$]),ul=O([G,Me,$]),pl=O([ge]),gl=O([ge]),ml=O([ge]),hl=O([G,$,aa]),bl=O([G,$,Hi]),vl=O([Yi,me]),fl=O([me,Ji,Xi]),yl=y(Ae,dl,ul,pl,gl,ml,hl,bl,vl,fl,(e,t,s,a,i,o,l,c,g,h)=>{switch(e==null?void 0:e.value){case u.video:return t;case u.videoLooping:return s;case u.photoSingle:return a;case u.photoNight:return i;case u.photoBurst:return o;case u.timelapseTimewarp:return l;case u.timelapseVideo:return c;case u.timelapsePhoto:return g;case u.nightlapse:return h;default:return[]}}),Sl=y(G,e=>e!==void 0),r=e=>y(t=>t.goproSettingsReducer.statuses[e.id],t=>{if(t===void 0)return;const s=e.values.find(a=>a.id===t);return{settingId:e.id,settingLabel:e.label,statusValue:t,valueLabel:s==null?void 0:s.label,possibleValues:e.values}});r(xt);const wl=r(Rt);r(Dt);r(kt);r(Bt);r(Ve);r(Vt);const Cl=r(Ge);r(Gt);const Pl=r(Ot);r(Et);r(Nt);r(Ft);r(_t);r(Wt);r(Ht);r(Ut);r($t);r(Kt);r(qt);r(jt);r(zt);r(Zt);r(Yt);r(Jt);const Ll=r(Xt),Tl=r(Qt);r(es);r(ts);r(ss);r(is);r(as);r(ns);r(os);r(bn);r(vn);r(ls);r(rs);r(cs);r(ds);r(us);r(ps);r(gs);r(ms);r(hs);r(bs);r(vs);r(fs);r(ys);r(Ss);r(ws);const Il=r(Cs),na=r(Ps),Ml=r(fn),Al=r(yn),xl=r(Sn);r(Ls);r(Ts);r(Is);r(Ms);r(As);r(xs);r(Rs);r(fe);r(Ds);r(ks);r(Bs);r(Vs);r(Gs);r(Os);r(Es);r(Ns);r(Fs);r(_s);r(Ws);r(Hs);r(Us);r($s);r(Ks);r(qs);r(js);r(zs);r(Zs);r(Ys);r(Js);r(Xs);r(Qs);r(ei);r(ti);r(si);r(ii);const Rl=y(wl,e=>(e==null?void 0:e.statusValue)===4);function K(e){if(typeof e=="number")return e;throw new Error("Status is not number, did API change?")}const Dl=y(na,e=>K(e==null?void 0:e.statusValue)),kl=y(Tl,Ll,xe,(e,t,s)=>{if(s!==M.photo){const l=K(e==null?void 0:e.statusValue),c=Math.floor(l/60)%60;return`${Math.floor(l/60/60).toLocaleString(void 0,{minimumIntegerDigits:2})}:${c.toLocaleString(void 0,{minimumIntegerDigits:2})}`}const i=K(t==null?void 0:t.statusValue);return`${i<=999?i.toLocaleString(void 0,{minimumIntegerDigits:3}):"999+"}`}),Bl=y(Pl,e=>{const t=K(e==null?void 0:e.statusValue),s=Math.floor(t/60),a=t%60;return`${s.toLocaleString(void 0,{minimumIntegerDigits:2})}:${a.toLocaleString(void 0,{minimumIntegerDigits:2})}`}),Vl=y(Cl,e=>K(e==null?void 0:e.statusValue)===1),oa=y(Il,e=>(e==null?void 0:e.statusValue)===1),Gl=y(Al,e=>K(e==null?void 0:e.statusValue)),Ol=y(Ml,e=>K(e==null?void 0:e.statusValue)),El=y(xl,e=>K(e==null?void 0:e.statusValue)),Nl=y(na,e=>e!==void 0),Fl=y(e=>e.goproBluetoothReducer.deviceName,e=>e),_l=y(Nl,Sl,e=>e.goproBluetoothReducer.isGattConnected,(e,t,s)=>e&&t&&s),ot=e=>{const{buttonChoices:t,primaryButtonId:s,isGroupSelected:a}=e,[i,o]=S.exports.useState(!1),l=S.exports.useRef(null),c=t.find(A=>A.id===s),g=()=>{c==null||c.onClick()},h=A=>{var R;(R=t.find(x=>x.id===A))==null||R.onClick(),o(!1)},b=()=>{o(A=>!A)},L=A=>{l.current&&l.current.contains(A.target)||o(!1)};return v(I,{children:[v(Ca,{variant:a?"text":"outlined",ref:l,"aria-label":"split button",children:[n(Z,{onClick:g,children:c==null?void 0:c.icon}),n(Z,{size:"small","aria-controls":i?"split-button-menu":void 0,"aria-expanded":i?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:b,children:n(Pa,{})})]}),n(La,{open:i,anchorEl:l.current,role:void 0,transition:!0,disablePortal:!0,popperOptions:{placement:"top"},children:({TransitionProps:A,placement:R})=>n(Ta,mt(D({},A),{style:{transformOrigin:R==="bottom"?"center top":"center bottom"},children:n(he,{children:n(Ia,{onClickAway:L,children:n(Ma,{id:"split-button-menu",children:t.map(x=>v(De,{selected:x.id===s,onClick:()=>h(x.id),children:[x.icon,x.label]},x.id))})})})}))})]})};function Wl(e){switch(e){case ie.photoSingle:return n(ke,{});case ie.photoBurst:return v(I,{children:[n(ke,{}),"2"]});case ie.photoNight:return v(I,{children:[n(ke,{}),"3"]});default:return n(I,{children:"*"})}}const Hl=()=>{const e=w(xe),t=w(Ol),s=B(),a=e===M.photo,o=Qe(M.photo).map(l=>({icon:Wl(l),label:et(l),onClick:()=>s(tt(l)()),id:l}));return n(ot,{isGroupSelected:a,primaryButtonId:t,buttonChoices:o})};function Ul(e){switch(e){case q.timelapseTimewarp:return n(be,{});case q.timelapseVideo:return v(I,{children:[n(be,{}),"2"]});case q.timelapsePhoto:return v(I,{children:[n(be,{}),"3"]});case q.nightlapse:return v(I,{children:[n(be,{}),"4"]});default:return n(I,{children:"*"})}}const $l=()=>{const e=w(xe),t=w(El),s=B(),a=e===M.timelapse,o=Qe(M.timelapse).map(l=>({icon:Ul(l),label:et(l),onClick:()=>s(tt(l)()),id:l}));return n(ot,{isGroupSelected:a,primaryButtonId:t,buttonChoices:o})};function Kl(e){switch(e){case u.video:return n(ft,{});case u.videoLooping:return v(I,{children:[n(ft,{}),"2"]});default:return n(I,{children:"*"})}}const ql=()=>{const e=w(xe),t=w(Gl),s=B(),a=e===M.video,o=Qe(M.video).map(l=>({icon:Kl(l),label:et(l),onClick:()=>s(tt(l)()),id:l}));return n(ot,{isGroupSelected:a,primaryButtonId:t,buttonChoices:o})};function jl(e,t){return e>80?t?n(Aa,{}):n(xa,{}):e>50?t?n(Ra,{}):n(Da,{}):e>20?t?n(ka,{}):n(Ba,{}):t?n(Va,{}):n(Ga,{})}const zl=e=>{const{batteryPercentage:t,isCharging:s}=e,a=jl(t,s);return v(J,{children:[v(E,{variant:"body1",children:[t,"%"]}),a]})};async function la(e){await At(async()=>{const{characteristics:t}=P;if(!t)throw new Error("no characteristics");const{settingsCharacteristic:s}=t;await s.writeValue(new Uint8Array(e))},la)}function Zl(e){let t=0;for(;e>0;)t++,e/=256;return t}const ra=p("settingsCommands/setSettingValue",async e=>{var a,i;const t=(i=(a=So.find(o=>o.id===e.settingId))==null?void 0:a.length)!=null?i:Zl(e.valueId),s=[];s.push(t+2),s.push(e.settingId),s.push(t);for(let o=0;o<t;o++)s.push(e.valueId>>o*8&255);await la(s)}),Yl=()=>{const[e,t]=S.exports.useReducer((a,i)=>(localStorage.setItem("isTurnOffWiFiEnabled",JSON.stringify(i)),i),localStorage.getItem("isTurnOffWiFiEnabled")==="true");return n(I,{children:n(Oa,{control:n(Ea,{checked:e,onChange:(a,i)=>{t(i)}}),label:"Turn off WiFi hotspot on connect"})})},Jl=()=>{const[e,t]=S.exports.useState(!1);return v(I,{children:[n(Xl,{isOpen:e,onClose:()=>t(!1)}),n(J,{onClick:()=>t(!0),children:n(Na,{})})]})},Xl=e=>{const{isOpen:t,onClose:s}=e,a=w(cl);return n(I,{children:v(yt,{open:t,onClose:s,children:[n(St,{children:"Preferences"}),v(wt,{children:[n(Yl,{}),a.map(i=>n(Ql,{setting:i},i.settingId))]})]})})},Ql=e=>{const t=B(),{setting:s}=e,a=w(o=>o.goproSettingsReducer.settings[s.settingId]),i=o=>{const l=parseInt(o.target.value,10);t(ra({settingId:s.settingId,valueId:l}))};return a?n(I,{children:v(Ct,{variant:"standard",sx:{m:1,minWidth:120},children:[n(Pt,{id:"demo-simple-select-standard-label",children:s.settingLabel}),n(Lt,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",value:a.value.toString(),onChange:i,label:s.settingLabel,children:s.possibleValues.map(o=>n(De,{value:o.id,children:o.label},o.id))})]})}):n("div",{children:"something went wrong... known setting missing"})},er=()=>{const e=w(yl);return n("p",{style:{textAlign:"center",margin:"auto"},children:e.map((t,s)=>v("span",{children:[s>0?"|":null,t]},t))})},ca=ve()({temp:{display:"flex"}}),tr=()=>{const[e,t]=S.exports.useState(!1),s=()=>t(!1),a=()=>t(!0),[i,o]=S.exports.useState(1);return ca(),v(I,{children:[n(sr,{isOpen:e,onClose:s}),n(Y,{maxWidth:"sm",sx:{width:"fit-content",marginBottom:"1rem"},children:n(he,{elevation:i,onMouseOver:()=>o(3),onMouseOut:()=>o(1),onClick:a,sx:{minWidth:"40vw",minHeight:"2em"},children:n(er,{})})})]})},sr=e=>{const{isOpen:t,onClose:s}=e,a=w(rl);return n(I,{children:v(yt,{open:t,onClose:s,children:[n(St,{children:"Change mode settings"}),n(wt,{children:a.map(i=>n(ir,{setting:i},i.settingId))})]})})},ir=e=>{const t=B(),{setting:s}=e,a=w(o=>o.goproSettingsReducer.settings[s.settingId]),i=o=>{const l=parseInt(o.target.value,10);t(ra({settingId:s.settingId,valueId:l}))};return ca(),a?n(I,{children:v(Ct,{variant:"standard",sx:{m:1,minWidth:120},children:[n(Pt,{id:"demo-simple-select-standard-label",children:s.settingLabel}),n(Lt,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",value:a.value.toString(),onChange:i,label:s.settingLabel,children:s.possibleValues.map(o=>n(De,{value:o.id,children:o.label},o.id))})]})}):n("div",{children:"something went wrong... known setting missing"})},ar=ve()({pageWrapper:{display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"space-between",alignItems:"center",marginTop:"1rem",marginBottom:"1rem"},topControls:{width:"100%"},bottomControls:{width:"100%"},bottomCenteredButtons:{width:"100%",alignSelf:"flex-end",display:"flex",justifyContent:"space-evenly",alignItems:"center",flexDirection:"row"},alignLeftToRight:{display:"flex"},button:{margin:"0.5rem"},recordButton:{margin:"0.5rem","& svg":{fontSize:"5rem"}},floatLeft:{flex:1,display:"flex"},floatRight:{flex:1,display:"flex",alignItems:"center"}}),nr=()=>{const{classes:e}=ar(),t=w(Fl),s=w(oa),a=w(Dl),i=w(Rl),o=w(kl),l=w(Vl),c=w(Bl),g=B(),h=()=>{g(kn())},b=()=>{g(s?li():Gn())},L=()=>{g(l?Bn():Vn())};return n(I,{children:n(Y,{maxWidth:"sm",sx:{display:"flex",flexGrow:1},children:v(he,{className:e.pageWrapper,children:[v("div",{className:e.topControls,children:[n("br",{}),v(Y,{sx:{width:"fit-content"},children:[n(he,{sx:{padding:"0.4em"},elevation:2,children:n(E,{variant:"h4",children:t})}),n(J,{onClick:h,children:n(Fa,{})}),n(J,{onClick:b,children:s?n(_a,{}):n(Wa,{})}),v(J,{children:[n(Ha,{}),n(E,{variant:"body1",children:o})]}),n(zl,{batteryPercentage:a,isCharging:i})]})]}),v("div",{className:e.bottomControls,children:[n(tr,{}),v("div",{className:e.bottomCenteredButtons,children:[n($l,{}),n(ql,{}),n(Hl,{})]}),v("div",{className:e.alignLeftToRight,children:[n("div",{className:e.floatLeft,children:n(Jl,{})}),n("div",{className:e.recordButton,children:n(J,{onClick:L,"aria-label":"Record button",color:"error",children:l?n(Ua,{}):n($a,{})})}),n("div",{className:e.floatRight,children:l&&n(E,{variant:"h6",children:c})})]})]})]})})})},or=()=>{const[e,t]=S.exports.useState(!1),[s,a]=S.exports.useState(!1),i=w(oa),o=w(_l),l=B();S.exports.useEffect(()=>{o&&t(!0),a(localStorage.getItem("isTurnOffWiFiEnabled")==="true")},[o]),S.exports.useEffect(()=>{!e||(s&&i&&l(li()),t(!1))},[e,s,i,l])},lr=()=>{or()},rr=ve()({flexContent:{position:"absolute",height:"100%",width:"100%",maxHeight:"-webkit-fill-available",display:"flex",flexDirection:"column"}}),cr=()=>{const e=w(s=>s.goproBluetoothReducer.deviceAvailability),t=w(s=>s.goproBluetoothReducer.isGattConnected);if(window.location.protocol!=="https:")return n(gi,{errorTitle:"Bluetooth requires https",errorDescription:"Web Bluetooth will only work on https pages"});if(!("bluetooth"in navigator))return n(gi,{errorTitle:"Bluetooth not supported",errorDescription:"Your browser does not support bluetooth. https://caniuse.com/web-bluetooth"});switch(e){case k.None:case k.BeingRequested:case k.SavedAndWaitingForAdvertisement:return n(io,{})}return t?n(nr,{}):n(so,{})},dr=()=>{lr();const{classes:e}=rr();return v("div",{className:e.flexContent,children:[n(lo,{}),n(cr,{})]})};const ur=()=>{const e=Tt();return v(Ka,{store:Fe,children:[n(bt.GlobalStyles,{styles:{body:{margin:0,padding:0}}}),v(qa,{theme:e,children:[n(Qa,{}),n(pn,{}),n(ja,{}),n(za,{}),n(dr,{})]})]})};Za.render(n(ur,{}),document.getElementById("root"));
//# sourceMappingURL=index.72a24309.js.map
