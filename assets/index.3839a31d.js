var is=Object.defineProperty;var qe=Object.getOwnPropertySymbols;var ns=Object.prototype.hasOwnProperty,os=Object.prototype.propertyIsEnumerable;var Ue=(t,e,s)=>e in t?is(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,$=(t,e)=>{for(var s in e||(e={}))ns.call(e,s)&&Ue(t,s,e[s]);if(qe)for(var s of qe(e))os.call(e,s)&&Ue(t,s,e[s]);return t};import{t as $e,u as je,j as f,B as Se,a as n,T as x,b as G,r as F,c as j,d as c,e as ze,f as ls,g as rs,h as cs,C as N,A as ds,i as us,I as z,k as Ze,l as gs,m as ps,n as ms,o as P,F as re,P as we,D as hs,p as bs,q as vs,s as fs,S as ys,M as Ss,v as ws,w as Cs,x as Ps,y as Ms,z as As,E as Rs,G as Ls,H as Ts,J as Ds,K as Is,L as xs,N as Gs,R as Bs}from"./vendor.3554e993.js";const Os=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}};Os();const{makeStyles:ce,withStyles:So}=$e.createMakeAndWithStyles({useTheme:je}),Vs=ce()({flexContent:{display:"flex",flexDirection:"row"}}),ks=t=>{const{classes:e}=Vs(),s=()=>{t.updateServiceWorker(!0)};return f(Se,{className:e.flexContent,children:[n(x,{variant:"body1",children:"App was updated, reload to see the changes"}),n(G,{style:{display:"inline"},onClick:s,children:"Reload"})]})},Es="modulepreload",Ye={},_s="/Gopro-Bluetooth-Remote/",Fs=function(e,s){return!s||s.length===0?e():Promise.all(s.map(a=>{if(a=`${_s}${a}`,a in Ye)return;Ye[a]=!0;const i=a.endsWith(".css"),o=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${o}`))return;const l=document.createElement("link");if(l.rel=i?"stylesheet":Es,i||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),i)return new Promise((d,m)=>{l.addEventListener("load",d),l.addEventListener("error",m)})})).then(()=>e())};function Ns(){const[t,e]=F.exports.useState();return F.exports.useEffect(()=>{Fs(()=>import("./react.cb7d2bd0.js"),["assets/react.cb7d2bd0.js","assets/vendor.3554e993.js"]).then(e)},[e]),t}const Ws=60*60*1e3,Hs=()=>{const t=Ns();return t?n(Ks,{pwaRegisterModule:t}):null},Ks=({pwaRegisterModule:t})=>{const{offlineReady:[e],needRefresh:[s],updateServiceWorker:a}=t.useRegisterSW({immediate:!0,onRegistered(i){console.log("SW registered",i),!!i&&setInterval(()=>{i.update()},Ws)},onRegisterError(i){console.log("SW registration error",i)}});return F.exports.useEffect(()=>{e&&j("App was installed and now will work offline")},[e]),F.exports.useEffect(()=>{s&&j(n(ks,{updateServiceWorker:a}),{autoClose:!1})},[s,a]),n("div",{})},y={},Xe=[];async function Je(t,e){let s=Xe.find(a=>a.context===e);s||(s={context:e,promise:Promise.resolve()},Xe.push(s)),s.promise=s.promise.then(()=>t()),await s.promise}const g=[{id:0,label:"False"},{id:1,label:"True"}],qs={id:1,label:"Internal camera present",description:"Is the internal camera present?",type:"boolean",values:g},Qe={id:2,label:"Internal battery level",description:"Rough approximation of internal battery level in bars",type:"integer",values:[{id:0,label:"Zero"},{id:1,label:"One"},{id:2,label:"Two"},{id:3,label:"Three"}]},Us={id:3,label:"External battery present",description:"Is an external battery connected?",type:"boolean",values:g},$s={id:4,label:"External battery level",description:"External battery power level in percent",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},js={id:6,label:"System hot",description:"Is the system currently overheating?",type:"boolean",values:g},et={id:8,label:"System busy",description:"Is the camera busy?",type:"boolean",values:g},zs={id:9,label:"Quick capture active",description:"Is Quick Capture feature enabled?",type:"boolean",values:g},Ce={id:10,label:"Encoding active",description:"Is the system encoding right now?",type:"boolean",values:g},Zs={id:11,label:"Lcd lock active",description:"Is LCD lock active?",type:"boolean",values:g},tt={id:13,label:"Video progress counter",description:"When encoding video, this is the duration (seconds) of the video so far; 0 otherwise",type:"integer",values:[{id:0,label:"0s"},{id:59,label:"59s"}]},Ys={id:17,label:"Enable",description:"Are Wireless Connections enabled?",type:"boolean",values:g},Xs={id:19,label:"State",description:"The pairing state of the camera",type:"integer",values:[{id:0,label:"Success"},{id:1,label:"In Progress"},{id:2,label:"Failed"},{id:3,label:"Stopped"}]},Js={id:20,label:"Type",description:"The last type of pairing that the camera was engaged in",type:"integer",values:[{id:0,label:"Not Pairing"},{id:1,label:"Pairing App"},{id:2,label:"Pairing Remote Control"},{id:3,label:"Pairing Bluetooth Device"}]},Qs={id:21,label:"Pair time",description:"Time (milliseconds) since boot of last successful pairing complete action",type:"integer",values:[]},ea={id:22,label:"State",description:"State of current scan for WiFi Access Points. Appears to only change for CAH-related scans",type:"integer",values:[{id:0,label:"Never started"},{id:1,label:"Started"},{id:2,label:"Aborted"},{id:3,label:"Canceled"},{id:4,label:"Completed"}]},ta={id:23,label:"Scan time msec",description:"The time, in milliseconds since boot that the WiFi Access Point scan completed",type:"integer",values:[]},sa={id:24,label:"Provision status",description:"WiFi AP provisioning state",type:"integer",values:[{id:0,label:"Never started"},{id:1,label:"Started"},{id:2,label:"Aborted"},{id:3,label:"Canceled"},{id:4,label:"Completed"}]},aa={id:26,label:"Remote control version",description:"Wireless remote control version",type:"integer",values:[]},ia={id:27,label:"Remote control connected",description:"Is a wireless remote control connected?",type:"boolean",values:g},na={id:28,label:"Pairing",description:"Wireless Pairing State",type:"integer",values:[]},oa={id:29,label:"Wlan ssid",description:"Provisioned WIFI AP SSID. On BLE connection, value is big-endian byte-encoded int",type:"string",values:[]},la={id:30,label:"Ap ssid",description:"Camera's WIFI SSID. On BLE connection, value is big-endian byte-encoded int",type:"string",values:[]},ra={id:31,label:"App count",description:"The number of wireless devices connected to the camera",type:"integer",values:[]},ca={id:32,label:"Enable",description:"Is Preview Stream enabled?",type:"boolean",values:g},da={id:33,label:"Sd status",description:"Primary Storage Status",type:"integer",values:[{id:-1,label:"Unknown"},{id:0,label:"OK"},{id:1,label:"SD Card Full"},{id:2,label:"SD Card Removed"},{id:3,label:"SD Card Format Error"},{id:4,label:"SD Card Busy"},{id:8,label:"SD Card Swapped"}]},st={id:34,label:"Remaining photos",description:"How many photos can be taken before sdcard is full",type:"integer",values:[]},at={id:35,label:"Remaining video time",description:"How many minutes of video can be captured with current settings before sdcard is full",type:"integer",values:[]},ua={id:36,label:"Num group photos",description:"How many group photos can be taken with current settings before sdcard is full",type:"integer",values:[]},ga={id:37,label:"Num group videos",description:"Total number of group videos on sdcard",type:"integer",values:[]},pa={id:38,label:"Num total photos",description:"Total number of photos on sdcard",type:"integer",values:[]},ma={id:39,label:"Num total videos",description:"Total number of videos on sdcard",type:"integer",values:[]},ha={id:40,label:"Date time",description:"Current date/time (format: %YY%MM%DD%HH%MM%SS, all values in hex)",type:"string",values:[]},ba={id:41,label:"Ota status",description:"The current status of Over The Air (OTA) update",type:"integer",values:[{id:0,label:"Idle"},{id:1,label:"Downloading"},{id:2,label:"Verifying"},{id:3,label:"Download Failed"},{id:4,label:"Verify Failed"},{id:5,label:"Ready"},{id:6,label:"GoPro App: Downloading"},{id:7,label:"GoPro App: Verifying"},{id:8,label:"GoPro App: Download Failed"},{id:9,label:"GoPro App: Verify Failed"},{id:10,label:"GoPro App: Ready"}]},va={id:42,label:"Download cancel request pending",description:"Is there a pending request to cancel a firmware update download?",type:"boolean",values:g},fa={id:45,label:"Camera locate active",description:"Is locate camera feature active?",type:"boolean",values:g},ya={id:49,label:"Multi shot count down",description:"The current timelapse interval countdown value (e.g. 5...4...3...2...1...)",type:"integer",values:[]},Sa={id:54,label:"Remaining space",description:"Remaining space on the sdcard in Kilobytes",type:"integer",values:[]},wa={id:55,label:"Supported",description:"Is preview stream supported in current recording/flatmode/secondary-stream?",type:"boolean",values:g},Ca={id:56,label:"Wifi bars",description:"WiFi signal strength in bars",type:"integer",values:[]},Pa={id:57,label:"Current time msec",description:"System time in milliseconds since system was booted",type:"integer",values:[]},Ma={id:58,label:"Num hilights",description:"The number of hilights in encoding video (set to 0 when encoding stops)",type:"integer",values:[]},Aa={id:59,label:"Last hilight time msec",description:"Time since boot (msec) of most recent hilight in encoding video (set to 0 when encoding stops)",type:"integer",values:[]},Ra={id:60,label:"Next poll msec",description:"The min time between camera status updates (msec). Do not poll for status more often than this",type:"integer",values:[]},La={id:63,label:"In contextual menu",description:"Is the camera currently in a contextual menu (e.g. Preferences)?",type:"boolean",values:g},Ta={id:64,label:"Remaining timelapse time",description:"How many min of Timelapse video can be captured with current settings before sdcard is full",type:"integer",values:[]},Da={id:65,label:"Exposure select type",description:"Liveview Exposure Select Mode",type:"integer",values:[{id:0,label:"Disabled"},{id:1,label:"Auto"},{id:2,label:"ISO Lock"},{id:3,label:"Hemisphere"}]},Ia={id:66,label:"Exposure select x",description:"Liveview Exposure Select: x-coordinate (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},xa={id:67,label:"Exposure select y",description:"Liveview Exposure Select: y-coordinate (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},Ga={id:68,label:"Gps status",description:"Does the camera currently have a GPS lock?",type:"boolean",values:g},it={id:69,label:"Ap state",description:"Is the WiFi radio enabled?",type:"boolean",values:g},nt={id:70,label:"Internal battery percentage",description:"Internal battery level (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},Ba={id:74,label:"Acc mic status",description:"Microphone Accesstory status",type:"integer",values:[{id:0,label:"Microphone mod not connected"},{id:1,label:"Microphone mod connected"},{id:2,label:"Microphone mod connected and microphone plugged into Microphone mod"}]},Oa={id:75,label:"Digital zoom",description:"Digital Zoom level (percent)",type:"percent",values:[{id:0,label:"0%"},{id:100,label:"100%"}]},Va={id:76,label:"Wireless band",description:"Wireless Band",type:"integer",values:[{id:0,label:"2.4 GHz"},{id:1,label:"5 GHz"},{id:2,label:"Max"}]},ka={id:77,label:"Digital zoom active",description:"Is Digital Zoom feature available?",type:"boolean",values:g},Ea={id:78,label:"Mobile friendly video",description:"Are current video settings mobile friendly? (related to video compression and frame rate)",type:"boolean",values:g},_a={id:79,label:"First time use",description:"Is the camera currently in First Time Use (FTU) UI flow?",type:"boolean",values:g},Fa={id:81,label:"Band 5ghz avail",description:"Is 5GHz wireless band available?",type:"boolean",values:g},Pe={id:82,label:"System ready",description:"Is the system ready to accept commands?",type:"boolean",values:g},Na={id:83,label:"Batt okay for ota",description:"Is the internal battery charged sufficiently to start Over The Air (OTA) update?",type:"boolean",values:g},Wa={id:85,label:"Video low temp alert",description:"Is the camera getting too cold to continue recording?",type:"boolean",values:g},Ha={id:86,label:"Actual orientation",description:"The rotational orientation of the camera",type:"integer",values:[{id:0,label:"0 degrees (upright)"},{id:1,label:"180 degrees (upside down)"},{id:2,label:"90 degrees (laying on right side)"},{id:3,label:"270 degrees (laying on left side)"}]},Ka={id:87,label:"Thermal mitigation mode",description:"Can camera use high resolution/fps (based on temperature)? (HERO7 Silver/White only)",type:"boolean",values:g},qa={id:88,label:"Zoom while encoding",description:"Is this camera capable of zooming while encoding (static value based on model, not settings)",type:"boolean",values:g},Ua={id:89,label:"Current mode",description:"Current flatmode ID",type:"integer",values:[]},$a={id:91,label:"Logs ready",description:"Are system logs ready to be downloaded?",type:"boolean",values:g},ja={id:92,label:"Timewarp 1x active",description:"Is Timewarp 1x active?",type:"boolean",values:g},za={id:93,label:"Active video presets",description:"Current Video Preset (ID)",type:"integer",values:[]},Za={id:94,label:"Active photo presets",description:"Current Photo Preset (ID)",type:"integer",values:[]},Ya={id:95,label:"Active timelapse presets",description:"Current Timelapse Preset (ID)",type:"integer",values:[]},Xa={id:96,label:"Active presets group",description:"Current Preset Group (ID)",type:"integer",values:[]},Ja={id:97,label:"Active preset",description:"Current Preset (ID)",type:"integer",values:[]},Qa={id:98,label:"Preset modified",description:"Preset Modified Status, which contains an event ID and a preset (group) ID",type:"integer",values:[]},ei={id:99,label:"Remaining live bursts",description:"How many Live Bursts can be captured before sdcard is full",type:"integer",values:[]},ti={id:100,label:"Num total live bursts",description:"Total number of Live Bursts on sdcard",type:"integer",values:[]},si={id:101,label:"Capture delay active",description:"Is Capture Delay currently active (i.e. counting down)?",type:"boolean",values:g},ai={id:102,label:"Media mod mic status",description:"Media mod State",type:"integer",values:[{id:0,label:"Media mod microphone removed"},{id:2,label:"Media mod microphone only"},{id:3,label:"Media mod microphone with external microphone"}]},ii={id:103,label:"Timewarp speed ramp active",description:"Time Warp Speed",type:"integer",values:[{id:0,label:"15x"},{id:1,label:"30x"},{id:2,label:"60x"},{id:3,label:"150x"},{id:4,label:"300x"},{id:5,label:"900x"},{id:6,label:"1800x"},{id:7,label:"2x"},{id:8,label:"5x"},{id:9,label:"10x"},{id:10,label:"Auto"},{id:11,label:"1x (realtime)"},{id:12,label:"1/2x (slow-motion)"}]},ni={id:104,label:"Linux core active",description:"Is the system's Linux core active?",type:"boolean",values:g},oi={id:105,label:"Camera lens type",description:"Camera lens type (reflects changes to setting 162)",type:"integer",values:[{id:0,label:"Default"},{id:1,label:"Max Lens"}]},li={id:106,label:"Video hindsight capture active",description:"Is Video Hindsight Capture Active?",type:"boolean",values:g},ri={id:107,label:"Scheduled preset",description:"Scheduled Capture Preset ID",type:"integer",values:[]},ci={id:108,label:"Scheduled enabled",description:"Is Scheduled Capture set?",type:"boolean",values:g},di={id:109,label:"Creating preset",description:"Is the camera in the process of creating a custom preset?",type:"boolean",values:g},ui={id:110,label:"Media mod status",description:"Media Mode Status (bitmasked)",type:"integer",values:[{id:0,label:"Display (selfie) mod: 0, HDMI: 0, Media Mod Connected: False"},{id:1,label:"Display (selfie) mod: 0, HDMI: 0, Media Mod Connected: True"},{id:2,label:"Display (selfie) mod: 0, HDMI: 1, Media Mod Connected: False"},{id:3,label:"Display (selfie) mod: 0, HDMI: 1, Media Mod Connected: True"},{id:4,label:"Display (selfie) mod: 1, HDMI: 0, Media Mod Connected: False"},{id:5,label:"Display (selfie) mod: 1, HDMI: 0, Media Mod Connected: True"},{id:6,label:"Display (selfie) mod: 1, HDMI: 1, Media Mod Connected: False"},{id:7,label:"Display (selfie) mod: 1, HDMI: 1, Media Mod Connected: True"}]},gi={id:113,label:"Turbo transfer",description:"Is Turbo Transfer active?",type:"boolean",values:g},pi=[qs,Qe,Us,$s,js,et,zs,Ce,Zs,tt,Ys,Xs,Js,Qs,ea,ta,sa,aa,ia,na,oa,la,ra,ca,da,st,at,ua,ga,pa,ma,ha,ba,va,fa,ya,Sa,wa,Ca,Pa,Ma,Aa,Ra,La,Ta,Da,Ia,xa,Ga,it,nt,Ba,Oa,Va,ka,Ea,_a,Fa,Pe,Na,Wa,Ha,Ka,qa,Ua,$a,ja,za,Za,Ya,Xa,Ja,Qa,ei,ti,si,ai,ii,ni,oi,li,ri,ci,di,ui,gi];function ot(){const{statuses:t}=Le.getState().goproSettingsReducer;return t[Pe.id]}async function mi(){ot()||await new Promise(t=>{const e=Le.subscribe(()=>{ot()&&(e(),t())})})}async function hi(t){const{characteristics:e}=y;if(!e)throw new Error("no characteristics");const{commandCharacteristic:s}=e;await mi(),await Je(async()=>{await Y(s,t)},s)}const u=c("commands/sendCommandAction",async t=>{await hi(t)});c("commands/forceShutdownCommand",async(t,{dispatch:e})=>{await e(u([4]))});c("commands/hiLightTagCommand",async(t,{dispatch:e})=>{await e(u([24]))});c("commands/locateOnCommand",async(t,{dispatch:e})=>{await e(u([22,1,1]))});c("commands/locateOffCommand",async(t,{dispatch:e})=>{await e(u([22,1,0]))});const bi=c("commands/legacyPresetsLoadGroupVideoCommand",async(t,{dispatch:e})=>{await e(u([2,1,0]))}),vi=c("commands/legacyPresetsLoadGroupPhotoCommand",async(t,{dispatch:e})=>{await e(u([2,1,1]))}),fi=c("commands/legacyPresetsLoadGroupMultishotCommand",async(t,{dispatch:e})=>{await e(u([2,1,2]))});c("commands/legacyPresetsLoadPresetVideoCommand",async(t,{dispatch:e})=>{await e(u([3,1,0,1,0]))});c("commands/legacyPresetsLoadPresetTimeLapseVideoCommand",async(t,{dispatch:e})=>{await e(u([3,1,0,1,1]))});c("commands/legacyPresetsLoadPresetLoopingVideoCommand",async(t,{dispatch:e})=>{await e(u([3,1,0,1,3]))});c("commands/legacyPresetsLoadPresetTimewarpCommand",async(t,{dispatch:e})=>{await e(u([3,1,0,1,4]))});c("commands/legacyPresetsLoadPresetPhotoCommand",async(t,{dispatch:e})=>{await e(u([3,1,1,1,1]))});c("commands/legacyPresetsLoadPresetNightPhotoCommand",async(t,{dispatch:e})=>{await e(u([3,1,1,1,2]))});c("commands/legacyPresetsLoadPresetBurstPhotoCommand",async(t,{dispatch:e})=>{await e(u([3,1,2,1,0]))});c("commands/legacyPresetsLoadPresetTimeLapsePhotoCommand",async(t,{dispatch:e})=>{await e(u([3,1,2,1,1]))});c("commands/legacyPresetsLoadPresetNightLapsePhotoCommand",async(t,{dispatch:e})=>{await e(u([3,1,2,1,2]))});const yi=c("commands/sleepCommand",async(t,{dispatch:e})=>{await e(u([5]))}),lt=c("commands/getHardwareInfoCommand",async(t,{dispatch:e})=>{await e(u([60]))}),Si=c("commands/setShutterOffCommand",async(t,{dispatch:e})=>{await e(u([1,1,0]))}),wi=c("commands/setShutterOnCommand",async(t,{dispatch:e})=>{await e(u([1,1,1]))}),Ci=c("commands/apControlWiFiApOffCommand",async(t,{dispatch:e})=>{await e(u([23,1,0]))}),Pi=c("commands/apControlWiFiApOnCommand",async(t,{dispatch:e})=>{await e(u([23,1,1]))});c("commands/presetsLoadGroupVideoCommand",async(t,{dispatch:e})=>{await e(u([62,2,3,232]))});c("commands/presetsLoadGroupPhotoCommand",async(t,{dispatch:e})=>{await e(u([62,2,3,233]))});c("commands/presetsLoadGroupTimelapseCommand",async(t,{dispatch:e})=>{await e(u([62,2,3,234]))});c("commands/presetsLoadStandardCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,0,0,0]))});c("commands/presetsLoadActivityCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,0,0,1]))});c("commands/presetsLoadCinematicCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,0,0,2]))});c("commands/presetsLoadUltraSloMoCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,0,0,4]))});c("commands/presetsLoadBasicCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,0,0,5]))});c("commands/presetsLoadPhotoCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,1,0,0]))});c("commands/presetsLoadLiveBurstCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,1,0,1]))});c("commands/presetsLoadBurstPhotoCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,1,0,2]))});c("commands/presetsLoadNightPhotoCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,1,0,3]))});c("commands/presetsLoadTimeWarpCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,2,0,0]))});c("commands/presetsLoadTimeLapseCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,2,0,1]))});c("commands/presetsLoadNightLapseCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,2,0,2]))});c("commands/presetsLoadStandardEBCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,8,0,0]))});c("commands/presetsLoadActivityEBCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,8,0,1]))});c("commands/presetsLoadCinematicEBCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,8,0,2]))});c("commands/presetsLoadSloMoEBCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,8,0,3]))});c("commands/presetsLoad4KTripodCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,9,0,0]))});c("commands/presetsLoad53KTripodCommand",async(t,{dispatch:e})=>{await e(u([64,4,0,9,0,1]))});c("commands/analyticsSetThirdPartyClientCommand",async(t,{dispatch:e})=>{await e(u([80]))});const rt=c("commands/openGoProGetVersionCommand",async(t,{dispatch:e})=>{await e(u([81]))});function Mi(t){return e=>{const s=Ri(e);Li(t,s)}}function Ai(t){switch(t){case 0:return W.success;case 1:return W.error;case 2:return W.invalidParameter;default:return W.unknown}}var W;(function(t){t[t.unknown=0]="unknown",t[t.success=1]="success",t[t.error=2]="error",t[t.invalidParameter=3]="invalidParameter"})(W||(W={}));function Ri(t){if(t.length<2)throw new Error("command response too short");const e=t[0],s=Ai(t[1]),a=t.slice(2);return{commandId:e,errorCode:s,data:a}}var ct;(function(t){t[t.SetShutter=1]="SetShutter",t[t.Sleep=5]="Sleep",t[t.APControl=23]="APControl",t[t.GetHardwareInfo=60]="GetHardwareInfo",t[t.PresetsLoadGroup=62]="PresetsLoadGroup",t[t.PresetsLoad=64]="PresetsLoad",t[t.Analytics=80]="Analytics",t[t.OpenGoProGetVersion=81]="OpenGoProGetVersion"})(ct||(ct={}));function Li(t,e){switch(e.commandId){case 60:{if(e.errorCode===2){t(lt());break}t(X.actions.getHardwareInfoResponse(Ti(e)));break}case 81:{if(e.errorCode===2){t(rt());break}if(e.errorCode===3){t(X.actions.openGoProGetVersionResponse({majorVersion:0,minorVersion:0}));break}t(X.actions.openGoProGetVersionResponse(Di(e)));break}}}function Ti(t){var h,w,ae,ie,ne,oe,le;const{data:e}=t;let s=0;const a=(h=e[s++])!=null?h:0,i=new Array(a).fill(0).map(()=>{var v;return(v=e[s++])!=null?v:0}),o=(w=e[s++])!=null?w:0,l=new Array(o).fill(0).map(()=>{var v;return String.fromCharCode((v=e[s++])!=null?v:0)}).join(""),d=(ae=e[s++])!=null?ae:0,m=new Array(d).fill(0).map(()=>{var v;return String.fromCharCode((v=e[s++])!=null?v:0)}).join(""),p=(ie=e[s++])!=null?ie:0,b=new Array(p).fill(0).map(()=>{var v;return String.fromCharCode((v=e[s++])!=null?v:0)}).join(""),S=(ne=e[s++])!=null?ne:0,R=new Array(S).fill(0).map(()=>{var v;return String.fromCharCode((v=e[s++])!=null?v:0)}).join(""),T=(oe=e[s++])!=null?oe:0,C=new Array(T).fill(0).map(()=>{var v;return String.fromCharCode((v=e[s++])!=null?v:0)}).join(""),D=(le=e[s++])!=null?le:0,I=new Array(D).fill(0).map(()=>{var v;return String.fromCharCode((v=e[s++])!=null?v:0)}).join("");return{modelNumber:i,modelName:l,boardType:m,firmwareVersion:b,serialNumber:R,apSsid:C,apMacAddress:I}}function Di(t){const{data:e}=t;let s=0;const a=e[s++],i=new Array(a).fill(0).map(()=>{var d;return(d=e[s++])!=null?d:0}).reduce((d,m)=>(d<<8)+m),o=e[s++],l=new Array(o).fill(0).map(()=>{var d;return(d=e[s++])!=null?d:0}).reduce((d,m)=>(d<<8)+m);return{majorVersion:i,minorVersion:l}}const Ii={settings:{},statuses:{},isFetching:!1},_=ze({name:"goproSettings",initialState:Ii,reducers:{settingsReceived:(t,e)=>{t.settings=$($({},t.settings),e.payload)},settingsRequested:t=>{t.isFetching=!0},settingsRequestFailed:t=>{t.isFetching=!1},statusesReceived:(t,e)=>{t.statuses=$($({},t.statuses),e.payload)}}}),xi=_.reducer;c("goproSettings/fetchSettings",async()=>{const{characteristics:t}=y;if(!t)throw new Error("no characteristics");const{queryCharacteristic:e}=t;await e.writeValue(new Uint8Array([1,18]))});function Gi(t){return e=>{const s=Bi(e);Ei(t,s)}}function Bi(t){if(t.length<2)throw new Error("command response too short");const e=t[0],s=ki(t[1]),a=Oi(t.slice(2));return{queryId:e,errorCode:s,statusesOrSettings:a}}function Oi(t){const e=[];let s=0;for(;s<t.length;){const a=Vi(t.slice(s));e.push(a),s+=a.value.length+2}return e}function Vi(t){var i,o;const e=(i=t[0])!=null?i:0,s=(o=t[1])!=null?o:0,a=t.slice(2,s+2);return{id:e,length:s,value:a}}function ki(t){switch(t){case 0:return H.success;case 1:return H.error;case 2:return H.invalidParameter;default:return H.unknown}}var H;(function(t){t[t.unknown=0]="unknown",t[t.success=1]="success",t[t.error=2]="error",t[t.invalidParameter=3]="invalidParameter"})(H||(H={}));var dt;(function(t){t[t.getSettingValue=18]="getSettingValue",t[t.getStatusValue=19]="getStatusValue",t[t.registerForSettingUpdates=82]="registerForSettingUpdates",t[t.registerForStatusUpdates=83]="registerForStatusUpdates",t[t.unregisterForSettingUpdates=114]="unregisterForSettingUpdates",t[t.unregisterForStatusUpdates=115]="unregisterForStatusUpdates",t[t.settingUpdate=146]="settingUpdate",t[t.statusUpdate=147]="statusUpdate"})(dt||(dt={}));const Me=t=>t.reduce((e,s)=>{if(s.value.length===0)return e;const a=s.value.reduce((o,l)=>(o<<8)+l),{length:i}=s;return e[s.id]={value:a,length:i},e},{}),Ae=t=>t.reduce((e,s)=>{const a=s.value.length,i=pi.find(l=>l.id===s.id);if((i==null?void 0:i.type)==="string"||a>4){const l=s.value.map(d=>String.fromCharCode(d)).join("");return e[s.id]=l,e}if(s.value.length===0)return e;const o=s.value.reduce((l,d)=>(l<<8)+d);return e[s.id]=o,e},{});function Ei(t,e){switch(e.queryId){case 18:t(_.actions.settingsReceived(Me(e.statusesOrSettings)));break;case 82:t(_.actions.settingsReceived(Me(e.statusesOrSettings)));break;case 146:t(_.actions.settingsReceived(Me(e.statusesOrSettings)));break;case 19:t(_.actions.statusesReceived(Ae(e.statusesOrSettings)));break;case 83:t(_.actions.statusesReceived(Ae(e.statusesOrSettings)));break;case 147:t(_.actions.statusesReceived(Ae(e.statusesOrSettings)));break}}function _i(t){return e=>{}}function Re(t){let e=[],s=0;return a=>{const i=a.target;async function o(){const{value:l}=i;if(!l)throw new Error("This should not be possible, empty response value");const d=Fi(l);if(d.header.isStart?(s=d.header.messageLength,e=d.data):e.push(...d.data),e.length===s)return e;if(e.length>s)throw new Error("Did response messages get out of sync?")}o().then(l=>{!l||(t(l),console.log("packet dump",l))}).catch(l=>{j(`Error while parsing response message ${l}`)})}}function Fi(t){const e=Ni(t),s=Array.from(new Uint8Array(t.buffer)).slice(e.headerSizeBytes);return{header:e,data:s}}function Ni(t){const e=t.getUint8(0);let s=1;if(!((e&128)>>7==0)){const l=e&127;return{isStart:!1,headerSizeBytes:1,continuationIndex:l}}const i=(e&96)>>5;let o;if(i===0)o=e&31;else if(i===1){s=2;const l=t.getUint8(1);o=(e&31)<<8|l}else if(i===2){s=3;const l=t.getUint8(1),d=t.getUint8(2);o=l<<8|d}else if(i===3)o=0;else throw new Error("IMPOSSIBLE");return{isStart:!0,headerSizeBytes:s,messageLength:o}}const Wi=c("queryCommands/subscribeToSettingsChangesCommand",async t=>{const{characteristics:e}=y;if(!e)throw new Error("no characteristics");const{queryCharacteristic:s}=e;await Y(s,[82,...t])}),ut=c("queryCommands/subscribeToStatusChangesCommand",async t=>{const{characteristics:e}=y;if(!e)throw new Error("no characteristics");const{queryCharacteristic:s}=e;await Y(s,[83,...t])}),Hi=c("queryCommands/getSettingsCommand",async()=>{const{characteristics:t}=y;if(!t)throw new Error("no characteristics");const{queryCharacteristic:e}=t;await Y(e,[18])}),Ki=c("queryCommands/getStatusesCommand",async()=>{const{characteristics:t}=y;if(!t)throw new Error("no characteristics");const{queryCharacteristic:e}=t;await Y(e,[19])}),de=c("bluetoothDevice/requestDevice",async(t,{dispatch:e})=>{var a;const s=await navigator.bluetooth.requestDevice({filters:[{services:["0000fea6-0000-1000-8000-00805f9b34fb"]}],optionalServices:["0000fea6-0000-1000-8000-00805f9b34fb","b5f90001-aa8d-11e3-9046-0002a5d5c51b"]});return s.ongattserverdisconnected=()=>{y.characteristics=void 0,y.gattServer=void 0,e(X.actions.gattDisconnected("Connection lost")),j.error("Gopro disconnected, connection lost")},y.device=s,e(Z()),{deviceName:(a=s.name)!=null?a:s.id}}),Z=c("bluetoothDevice/gattConnect",async(t,{dispatch:e})=>{var I;const{device:s}=y;if(!s)throw new Error("device not found to connect to");if(!(s==null?void 0:s.gatt))throw new Error(`gatt missing for this device ${(I=s.name)!=null?I:s.id}`);const a=await s.gatt.connect(),i=a.getPrimaryService("b5f90001-aa8d-11e3-9046-0002a5d5c51b"),o=i.then(h=>h.getCharacteristic("b5f90002-aa8d-11e3-9046-0002a5d5c51b")),l=i.then(h=>h.getCharacteristic("b5f90003-aa8d-11e3-9046-0002a5d5c51b")),d=i.then(h=>h.getCharacteristic("b5f90004-aa8d-11e3-9046-0002a5d5c51b")),m=i.then(h=>h.getCharacteristic("b5f90005-aa8d-11e3-9046-0002a5d5c51b")),p=a.getPrimaryService("0000fea6-0000-1000-8000-00805f9b34fb"),b=p.then(h=>h.getCharacteristic("b5f90072-aa8d-11e3-9046-0002a5d5c51b")),S=p.then(h=>h.getCharacteristic("b5f90073-aa8d-11e3-9046-0002a5d5c51b")),R=p.then(h=>h.getCharacteristic("b5f90074-aa8d-11e3-9046-0002a5d5c51b")),T=p.then(h=>h.getCharacteristic("b5f90075-aa8d-11e3-9046-0002a5d5c51b")),C=p.then(h=>h.getCharacteristic("b5f90076-aa8d-11e3-9046-0002a5d5c51b")),D=p.then(h=>h.getCharacteristic("b5f90077-aa8d-11e3-9046-0002a5d5c51b"));y.gattServer=a,y.characteristics={wifiApSsidCharacteristic:await o,wifiApPasswordCharacteristic:await l,wifiApPowerCharacteristic:await d,wifiApStateCharacteristic:await m,commandCharacteristic:await b,commandResponseCharacteristic:await S,settingsCharacteristic:await R,settingsResponseCharacteristic:await T,queryCharacteristic:await C,queryResponseCharacteristic:await D},y.characteristics.commandResponseCharacteristic.oncharacteristicvaluechanged=Re(Mi(e)),await y.characteristics.commandResponseCharacteristic.startNotifications(),y.characteristics.queryResponseCharacteristic.oncharacteristicvaluechanged=Re(Gi(e)),await y.characteristics.queryResponseCharacteristic.startNotifications(),y.characteristics.settingsResponseCharacteristic.oncharacteristicvaluechanged=Re(_i()),await y.characteristics.settingsResponseCharacteristic.startNotifications(),await e(ut([Pe.id,Ce.id,et.id])),await e(ut([...new Array(88).keys()])),await e(Wi([...new Array(112).keys()])),await e(rt()),await e(lt())});async function qi(t,e){return t.writeValue(new Uint8Array(e))}function Ui(t,e){if(e>0)return[128+(e&63)];if(t<=31)return[t&31];if(t<=8191)return[32+(t>>8&31),t&255];if(t<=65535)return[64,t>>8&255,t&255];throw j.error("packet too large"),new Error("data length too large")}async function Y(t,e){console.log("writing data, before appending headers",e);const s=[...e];let a=0;for(;s.length>0;){s.unshift(...Ui(e.length,a));const i=s.splice(0,20);await qi(t,i),a++}}const $i={isRequestingDevice:!1,isDeviceSelected:!1,isGattConnected:!1,isGattConnecting:!1,deviceName:"unknown",goproBluetoothDeviceCommandsState:{isCommandInAction:!1}},X=ze({name:"bluetoothDevice",initialState:$i,reducers:{gattDisconnected:(t,e)=>{t.isGattConnected=!1,t.error=e.payload},getHardwareInfoResponse:(t,e)=>{t.goproBluetoothDeviceCommandsState.getHardwareInfo=e.payload,t.deviceName=e.payload.apSsid},openGoProGetVersionResponse:(t,e)=>{t.goproBluetoothDeviceCommandsState.openGoProVersion=e.payload}},extraReducers:t=>{t.addCase(de.pending,e=>{y.device=void 0,e.isRequestingDevice=!0,e.isDeviceSelected=!1,e.error=void 0}),t.addCase(de.fulfilled,(e,s)=>{e.isRequestingDevice=!1,e.isDeviceSelected=!0,e.error=void 0,e.deviceName=s.payload.deviceName}),t.addCase(de.rejected,(e,s)=>{var a;y.device=void 0,e.isRequestingDevice=!1,e.isDeviceSelected=!1,e.error=(a=s.error.message)!=null?a:"unknown error"}),t.addCase(Z.pending,e=>{e.isGattConnecting=!0,e.isGattConnected=!1}),t.addCase(Z.fulfilled,e=>{e.isGattConnecting=!1,e.isGattConnected=!0}),t.addCase(Z.rejected,(e,s)=>{var a;e.isGattConnecting=!1,e.isGattConnected=!1,e.error=(a=s.error.message)!=null?a:"unknown error"})}}),ji=X.reducer,Le=ls({reducer:{goproBluetoothReducer:ji,goproSettingsReducer:xi},devTools:!0}),ue=()=>cs(),M=rs,zi=()=>{const t=M(i=>i.goproBluetoothReducer.isGattConnecting),e=M(i=>i.goproBluetoothReducer.deviceName),s=M(i=>i.goproBluetoothReducer.error),a=ue();return n(N,{maxWidth:"sm",children:f(Se,{sx:{my:4},children:[n(x,{variant:"h4",component:"h1",gutterBottom:!0,children:t?`Connecting to ${e}...`:`Connect to ${e}`}),t?null:n(G,{onClick:()=>a(Z()),children:"Reconnect"}),s?n("div",{children:s}):null]})})},gt=t=>{const{errorTitle:e,errorDescription:s}=t;return f(N,{maxWidth:"sm",children:[n("h1",{children:e}),n("p",{children:s})]})},Zi=()=>{const t=M(a=>a.goproBluetoothReducer.isRequestingDevice),e=M(a=>a.goproBluetoothReducer.error),s=ue();return n(N,{maxWidth:"sm",children:f(Se,{sx:{my:4},children:[n(x,{variant:"h4",component:"h1",gutterBottom:!0,children:t?"Select your GoPro":"Search for GoPro"}),n(G,{onClick:()=>s(de()),children:"Search"}),e?n("div",{children:e}):null]})})},Yi=()=>n(ds,{position:"sticky",children:n(us,{children:n(x,{variant:"h6",children:"GoPro Bluetooth remote"})})}),J={id:2,label:"Resolution",length:1,values:[{id:18,label:"4K (4:3)"},{id:6,label:"2.7K (4:3)"},{id:7,label:"1440 (4:3)"},{id:10,label:"960 (4:3)"},{id:1,label:"4K"},{id:4,label:"2.7K"},{id:9,label:"1080"},{id:12,label:"720"}]},Te={id:3,label:"FPS",length:1,values:[{id:0,label:"240"},{id:1,label:"120"},{id:5,label:"60"},{id:8,label:"30"},{id:10,label:"24"}]},Q={id:4,label:"FOV",length:1,values:[{id:4,label:"Linear"},{id:0,label:"Wide"},{id:3,label:"Super view"}]},pt={id:5,label:"Interval",length:1,values:[{id:0,label:"0.5s"},{id:1,label:"1s"},{id:2,label:"2s"},{id:3,label:"5s"},{id:4,label:"10s"},{id:5,label:"30s"},{id:6,label:"60s"}]},mt={id:6,label:"Interval",length:1,values:[{id:0,label:"MAX"},{id:1,label:"5m"},{id:2,label:"20m"},{id:3,label:"60m"},{id:4,label:"120m"}]},De={id:8,label:"Low light",length:1,values:[{id:0,label:"Off"},{id:1,label:"Auto"}]},B={id:10,label:"Protune",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},O={id:11,label:"White Balance",length:1,values:[{id:0,label:"Auto"},{id:8,label:"2300K"},{id:9,label:"2800K"},{id:10,label:"3200K"},{id:5,label:"4000K"},{id:11,label:"4500K"},{id:12,label:"5000K"},{id:2,label:"5500K"},{id:7,label:"6000K"},{id:3,label:"6500K"},{id:4,label:"Native"}]},V={id:12,label:"Color",length:1,values:[{id:0,label:"GoPro"},{id:1,label:"Flat"}]},K={id:13,label:"ISO max",length:1,values:[{id:0,label:"6400"},{id:3,label:"3200"},{id:1,label:"1600"},{id:4,label:"800"},{id:2,label:"400"},{id:7,label:"200"},{id:8,label:"100"}]},k={id:14,label:"Sharpness",length:1,values:[{id:0,label:"High"},{id:1,label:"Medium"},{id:2,label:"Low"}]},E={id:15,label:"EV comp",length:1,values:[{id:0,label:"+2"},{id:1,label:"+1.5"},{id:2,label:"+1"},{id:3,label:"+0.5"},{id:4,label:"0"},{id:5,label:"-0.5"},{id:6,label:"-1"},{id:7,label:"-1.5"},{id:8,label:"-2"}]},q={id:17,label:"FOV",length:1,values:[{id:0,label:"Wide"},{id:10,label:"Linear"}]},ee={id:19,label:"Shutter",length:1,values:[{id:0,label:"Auto"},{id:6,label:"30s"},{id:5,label:"20s"},{id:4,label:"15s"},{id:3,label:"10s"},{id:2,label:"5s"},{id:1,label:"2s"}]},Ie={id:21,label:B.label,length:B.length,values:B.values},xe={id:22,label:O.label,length:O.length,values:O.values},Ge={id:23,label:V.label,length:V.length,values:V.values},L={id:24,label:K.label,length:1,values:[{id:0,label:"800"},{id:1,label:"400"},{id:2,label:"200"},{id:3,label:"100"},{id:4,label:"1600"},{id:5,label:"3200"}]},Be={id:25,label:k.label,length:k.length,values:k.values},Oe={id:26,label:E.label,length:E.length,values:E.values},ge={id:28,label:q.label,length:q.length,values:q.values},ht={id:29,label:"Burst Rate",length:1,values:[{id:9,label:"Auto"},{id:8,label:"30/6s"},{id:7,label:"30/3s"},{id:6,label:"30/2s"},{id:5,label:"30/1s"},{id:4,label:"10/3s"},{id:3,label:"10/2s"},{id:2,label:"10/1s"},{id:1,label:"5/1s"},{id:0,label:"3/1s"}]},bt={id:30,label:"Interval",length:1,values:[{id:0,label:"0.5s"},{id:1,label:"1s"},{id:2,label:"2s"},{id:5,label:"5s"},{id:10,label:"10s"},{id:30,label:"30s"},{id:60,label:"60s"}]},vt={id:31,label:ee.label,length:ee.length,values:ee.values},ft={id:32,label:"Interval",length:4,values:[{id:(14<<8)+17,label:"Auto"},{id:(0<<8)+4,label:"4s"},{id:(0<<8)+5,label:"5s"},{id:(0<<8)+10,label:"10s"},{id:(0<<8)+20,label:"20s"},{id:(0<<8)+60,label:"1m"},{id:(0<<8)+120,label:"2m"},{id:(1<<8)+44,label:"5m"},{id:(7<<8)+8,label:"30m"},{id:(14<<8)+16,label:"60m"}]},pe={id:34,label:B.label,length:B.length,values:B.values},me={id:35,label:O.label,length:O.length,values:O.values},Ve={id:36,label:V.label,length:V.length,values:V.values},he={id:37,label:K.label,length:L.length,values:L.values},ke={id:38,label:k.label,length:k.length,values:k.values},Ee={id:39,label:E.label,length:E.length,values:E.values},yt={id:51,label:"Touch Display Screen Saver",length:1,values:[{id:1,label:"1min"},{id:2,label:"2min"},{id:3,label:"3min"},{id:0,label:"Never"}]},St={id:54,label:"Quick Capture",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},wt={id:73,label:"Shutter",length:1,values:[{id:0,label:"Auto"},{id:8,label:"1/60"},{id:13,label:"1/120"},{id:18,label:"1/240"},{id:22,label:"1/480"},{id:23,label:"1/960"}]},te={id:75,label:"ISO min",length:L.length,values:L.values},be={id:76,label:te.label,length:L.length,values:L.values},_e={id:78,label:"Stabilization",length:1,values:[{id:0,label:"Off"},{id:1,label:"Auto"}]},Ct={id:80,label:"Microphone",length:1,values:[{id:2,label:"Auto"},{id:1,label:"Wind"},{id:0,label:"Stereo"}]},Pt={id:81,label:"Raw audio",length:1,values:[{id:3,label:"Off"},{id:0,label:"Low"},{id:1,label:"Medium"},{id:2,label:"High"}]},Mt={id:83,label:"Regional GPS",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},At={id:84,label:"Regional Language",length:1,values:[{id:0,label:"English"},{id:6,label:"French"}]},Rt={id:85,label:"Voice Control Language",length:1,values:[{id:0,label:"English (US)"},{id:1,label:"English (UK)"},{id:13,label:"English (India)"}]},Lt={id:86,label:"Voice Control",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},Tt={id:87,label:"Beeps",length:1,values:[{id:0,label:"Mute"},{id:100,label:"High"},{id:70,label:"Medium"},{id:40,label:"Low"}]},Dt={id:88,label:"Touch Display Brightness",length:1,values:[{id:100,label:"100%"},{id:80,label:"80%"},{id:10,label:"10%"}]},ve={id:89,label:"Default Mode",length:1,values:[{id:12,label:"Video"},{id:15,label:"Looping"},{id:17,label:"Photo"},{id:18,label:"Night"},{id:19,label:"Burst"},{id:24,label:"Timewarp Video"},{id:13,label:"Timelapse Video"},{id:20,label:"Timelapse Photo"},{id:21,label:"Nightlapse Photo"}]},It={id:91,label:"LEDs",length:1,values:[{id:0,label:"All Off"},{id:1,label:"Front Off Only"},{id:2,label:"All On"}]},xt={id:92,label:"Current Mode",length:ve.length,values:ve.values},Gt={id:97,label:"Shutter",length:1,values:[{id:0,label:"Auto"},{id:1,label:"1/125"},{id:2,label:"1/250"},{id:3,label:"1/500"},{id:4,label:"1/1000"},{id:5,label:"1/2000"}]},se={id:98,label:"RAW",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},Bt={id:99,label:se.label,length:se.length,values:se.values},Ot={id:102,label:te.label,length:K.length,values:K.values},Vt={id:104,label:"Wake On Voice",length:1,values:[{id:0,label:"Off"},{id:1,label:"On"}]},kt={id:106,label:"Video Compression",length:1,values:[{id:0,label:"H264"},{id:1,label:"HEVC"}]},Et={id:107,label:"Video Timer",length:1,values:[{id:0,label:"Off"},{id:1,label:"15s"},{id:2,label:"30s"}]},_t={id:108,label:"Resolution format",length:1,values:[{id:0,label:"4:3"},{id:1,label:"16:9"}]},Ft={id:109,label:"Super Photo",length:1,values:[{id:0,label:"Off"},{id:1,label:"Auto"},{id:2,label:"HDR On"}]},Nt={id:111,label:"Speed",length:1,values:[{id:0,label:"15x"},{id:1,label:"30x"},{id:7,label:"2x"},{id:8,label:"5x"},{id:9,label:"10x"}]},Wt={id:112,label:"Touch Display Landscape Lock",length:1,values:[{id:0,label:"Off"},{id:1,label:"Up"},{id:2,label:"Down"}]},Xi=[J,Te,Q,De,_e,B,wt,E,O,Ot,K,k,V,Pt,Ct,Et,_t],Ji=[J,Te,Q,mt,De,_e],Qi=[J,Nt,Q],en=[J,Q,pt],tn=[bt,ge,Ee,me,be,he,ke,Ve,pe],sn=[be,he,vt,ft,ge,pe,me,Bt],an=[ee,q,Oe,xe,te,L,Be,Ge,Ie,se],nn=[ht,ge,pe,Ee,me,be,he,ke,Ve],on=[q,Ft,Ie,Gt,Oe,xe,te,L,Be,Ge],ln=[St,Tt,ve,It,kt,Lt,Vt,Rt,Wt,yt,Dt,Mt,At],rn=[...Xi,...Ji,...Qi,...en,...tn,...sn,...an,...nn,...on,...ln];function cn(t){switch(t){case 0:return n(Ze,{});case 1:return n(ms,{});case 2:return n(ps,{});case 3:return n(gs,{});default:return n(Ze,{})}}const dn=t=>{const{batteryPercentage:e,batteryLevelBars:s}=t,a=cn(s);return f(z,{children:[f(x,{variant:"body1",children:[e,"%"]}),a]})};async function Ht(t){await Je(async()=>{const{characteristics:e}=y;if(!e)throw new Error("no characteristics");const{settingsCharacteristic:s}=e;await s.writeValue(new Uint8Array(t))},Ht)}function un(t){let e=0;for(;t>0;)e++,t/=256;return e}const gn=c("settingsCommands/setSettingValue",async t=>{var a,i;const e=(i=(a=rn.find(o=>o.id===t.settingId))==null?void 0:a.length)!=null?i:un(t.valueId),s=[];s.push(e+2),s.push(t.settingId),s.push(e);for(let o=0;o<e;o++)s.push(t.valueId>>o*8&255);await Ht(s)}),r=t=>P(e=>e.goproSettingsReducer.settings[t.id],e=>{const s=e==null?void 0:e.value;if(s===void 0)return;const a=t.values.find(i=>i.id===s);return{settingId:t.id,settingLabel:t.label,value:s,valueLabel:a==null?void 0:a.label,possibleValues:t.values}}),fe=r(J),Kt=r(Te),ye=r(Q),pn=r(pt),mn=r(mt),qt=r(De),hn=r(B),bn=r(O),vn=r(V),fn=r(K),yn=r(k),Sn=r(E),Ut=r(q),wn=r(ee),$t=r(Ie),jt=r(xe),zt=r(Ge),Zt=r(L),Yt=r(Be),Xt=r(Oe),Fe=r(ge),Cn=r(ht),Pn=r(bt),Mn=r(vt),An=r(ft),Ne=r(pe),We=r(me),Jt=r(Ve),He=r(he),Qt=r(ke),es=r(Ee),Rn=r(yt),Ln=r(St),Tn=r(wt),ts=r(te),Ke=r(be),ss=r(_e),Dn=r(Ct),In=r(Pt),xn=r(Mt),Gn=r(At),Bn=r(Rt),On=r(Lt),Vn=r(Tt),kn=r(Dt),En=r(ve),_n=r(It),Fn=r(xt),Nn=r(Gt),Wn=r(se),Hn=r(Bt),Kn=r(Ot),qn=r(Vt),Un=r(kt),$n=r(Et),jn=r(_t),zn=r(Ft),Zn=r(Nt),Yn=r(Wt),Xn=P(fe,Kt,ye,qt,ss,hn,Tn,Sn,bn,Kn,fn,yn,vn,In,Dn,$n,jn,(t,e,s,a,i,o,l,d,m,p,b,S,R,T,C,D,I)=>{const h=[D,I,t,e,s,a,i,o];return(o==null?void 0:o.value)&&h.push(l,d,m,p,b,S,R,T,C),h.filter(w=>w!==void 0).map(w=>w)}),Jn=P(fe,Kt,ye,mn,qt,ss,(t,e,s,a,i,o)=>[t,e,s,a,i,o].filter(d=>d!==void 0).map(d=>d)),Qn=P(fe,ye,Zn,(t,e,s)=>[t,e,s].filter(i=>i!==void 0).map(i=>i)),eo=P(fe,ye,pn,(t,e,s)=>[t,e,s].filter(i=>i!==void 0).map(i=>i)),to=P(Pn,Fe,es,We,Ke,He,Qt,Jt,Ne,(t,e,s,a,i,o,l,d,m)=>{const p=[t,e,m];return(s==null?void 0:s.value)&&p.push(s,a,i,o,l,d),p.filter(b=>b!==void 0).map(b=>b)}),so=P(Fe,Mn,An,Ne,We,He,Ke,Hn,(t,e,s,a,i,o,l,d)=>{const m=[e,s,t,d,a];return(a==null?void 0:a.value)&&m.push(i,l,o),m.filter(p=>p!==void 0).map(p=>p)}),ao=P(Ut,wn,$t,jt,zt,Zt,Yt,Xt,ts,Wn,(t,e,s,a,i,o,l,d,m,p)=>{const b=[e,t,p,s];return(s==null?void 0:s.value)&&b.push(d,a,m,o,l,i),b.filter(S=>S!==void 0).map(S=>S)}),io=P(Fe,Cn,Ne,We,Jt,He,Qt,es,Ke,(t,e,s,a,i,o,l,d,m)=>{const p=[e,t,s];return(s==null?void 0:s.value)&&p.push(d,a,m,o,l,i),p.filter(b=>b!==void 0).map(b=>b)}),no=P(Ut,$t,jt,zt,Zt,Yt,Xt,ts,Nn,zn,(t,e,s,a,i,o,l,d,m,p)=>{const b=[t,p,e];return(e==null?void 0:e.value)&&b.push(m,l,s,d,i,o,a),b.filter(S=>S!==void 0).map(S=>S)}),oo=P(Fn,Xn,Jn,no,io,ao,Qn,eo,to,so,(t,e,s,a,i,o,l,d,m,p)=>{switch(t==null?void 0:t.value){case 12:return e;case 15:return s;case 17:return a;case 18:return o;case 19:return i;case 24:return l;case 13:return d;case 20:return m;case 21:return p;default:return[]}});P(Rn,Ln,xn,Gn,Bn,On,Vn,kn,En,_n,qn,Un,Yn,(t,e,s,a,i,o,l,d,m,p,b,S,R)=>[t,e,s,a,i,o,l,d,m,p,b,S,R].filter(C=>C!==void 0).map(C=>C));const as=ce()({temp:{display:"flex"}}),lo=()=>{const[t,e]=F.exports.useState(!1),s=()=>e(!1),a=()=>e(!0),[i,o]=F.exports.useState(1);return as(),f(re,{children:[n(ro,{isOpen:t,onClose:s}),n(N,{maxWidth:"sm",sx:{width:"fit-content",minWidth:"40vw"},children:n(we,{elevation:i,onMouseOver:()=>o(3),onMouseOut:()=>o(1),onClick:a,children:f("p",{style:{textAlign:"center"},children:["2.7K|60|W",n("br",{}),"PT, ICON, ICON"]})})})]})},ro=t=>{const{isOpen:e,onClose:s}=t,a=M(oo);return n(re,{children:f(hs,{open:e,onClose:s,children:[n(bs,{children:"Change current mode settings"}),a.map(i=>n(co,{setting:i},i.settingId)),n("div",{children:"actual view todo"})]})})},co=t=>{const e=ue(),{setting:s}=t,a=M(o=>o.goproSettingsReducer.settings[s.settingId]),i=o=>{const l=parseInt(o.target.value,10);e(gn({settingId:s.settingId,valueId:l}))};return as(),a?n(re,{children:f(vs,{variant:"standard",sx:{m:1,minWidth:120},children:[n(fs,{id:"demo-simple-select-standard-label",children:s.settingLabel}),n(ys,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",value:a.value.toString(),onChange:i,label:s.settingLabel,children:s.possibleValues.map(o=>n(Ss,{value:o.id,children:o.label},o.id))})]})}):n("div",{children:"something went wrong... known setting missing"})},uo=ce()({pageWrapper:{display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"space-between",alignItems:"center",marginTop:"1rem",marginBottom:"1rem"},topControls:{width:"100%"},bottomControls:{width:"100%"},bottomCenteredButtons:{width:"100%",alignSelf:"flex-end",display:"flex",justifyContent:"space-evenly",alignItems:"center",flexDirection:"row"},alignLeftToRight:{display:"flex"},button:{margin:"0.5rem"},recordButton:{margin:"0.5rem","& svg":{fontSize:"5rem"}},floatLeft:{flex:1},floatRight:{flex:1,display:"flex",alignItems:"center"}});var A;(function(t){t.video="Video",t.photo="Photo",t.timeLapse="Time Lapse"})(A||(A={}));function go(t){if(!t)return A.video;switch(t.value){case 12:case 15:return A.video;case 17:case 18:case 19:return A.photo;case 24:case 13:case 20:case 21:return A.timeLapse;default:return A.video}}const po=()=>{const{classes:t}=uo(),e=M(U=>U.goproSettingsReducer.statuses),s=M(U=>U.goproSettingsReducer.settings[xt.id]),a=go(s),i=M(U=>U.goproBluetoothReducer.deviceName),o=e[it.id]===1,l=e[nt.id],d=e[Qe.id],m=e[at.id],p=e[st.id],b=a!==A.photo,S=Math.floor(m/60)%60,R=Math.floor(m/60/60),T=b?`${R}:${S}`:`${p<=999?p:"999+"}`,C=e[Ce.id]===1,D=e[tt.id],I=Math.floor(D/60),h=D%60,w=ue(),ae=()=>{w(yi())},ie=()=>{w(o?Ci():Pi())},ne=()=>{w(vi())},oe=()=>{w(bi())},le=()=>{w(fi())},v=()=>{w(C?Si():wi())};return n(re,{children:n(N,{maxWidth:"sm",sx:{display:"flex",flexGrow:1},children:f(we,{className:t.pageWrapper,children:[f("div",{className:t.topControls,children:[n("br",{}),f(N,{sx:{width:"fit-content"},children:[n(we,{sx:{padding:"0.4em"},elevation:2,children:n(x,{variant:"h4",children:i})}),n(z,{onClick:ae,children:n(ws,{})}),n(z,{onClick:ie,children:o?n(Cs,{}):n(Ps,{})}),f(z,{children:[n(Ms,{}),n(x,{variant:"body1",children:T})]}),n(dn,{batteryPercentage:l,batteryLevelBars:d}),n(G,{onClick:()=>w(Hi()),children:"settings dump"}),n(G,{onClick:()=>w(Ki()),children:"statuses dump"}),f("p",{children:["Mode: ",a]})]})]}),f("div",{className:t.bottomControls,children:[n(lo,{}),f("div",{className:t.bottomCenteredButtons,children:[n(G,{onClick:le,className:t.button,"aria-label":"Timelapse mode",color:"primary",variant:a===A.timeLapse?"text":"outlined",children:n(As,{})}),n(G,{onClick:oe,className:t.button,"aria-label":"Video mode",color:"primary",variant:a===A.video?"text":"outlined",children:n(Rs,{})}),n(G,{onClick:ne,className:t.button,"aria-label":"Photo mode",color:"primary",variant:a===A.photo?"text":"outlined",children:n(Ls,{})})]}),f("div",{className:t.alignLeftToRight,children:[n("div",{className:t.floatLeft}),n("div",{className:t.recordButton,children:n(z,{onClick:v,"aria-label":"Record button",color:"error",children:C?n(Ts,{}):n(Ds,{})})}),n("div",{className:t.floatRight,children:C&&f(x,{variant:"h6",children:[I.toLocaleString(void 0,{minimumIntegerDigits:2}),":",h.toLocaleString(void 0,{minimumIntegerDigits:2})]})})]})]})]})})})},mo=ce()({flexContent:{position:"absolute",height:"100%",width:"100%",maxHeight:"-webkit-fill-available",display:"flex",flexDirection:"column"}}),ho=()=>{const t=M(s=>s.goproBluetoothReducer.isDeviceSelected),e=M(s=>s.goproBluetoothReducer.isGattConnected);return window.location.protocol!=="https:"?n(gt,{errorTitle:"Bluetooth requires https",errorDescription:"Web Bluetooth will only work on https pages"}):"bluetooth"in navigator?t?e?n(po,{}):n(zi,{}):n(Zi,{}):n(gt,{errorTitle:"Bluetooth not supported",errorDescription:"Your browser does not support bluetooth. https://caniuse.com/web-bluetooth"})},bo=()=>{const{classes:t}=mo();return f("div",{className:t.flexContent,children:[n(Yi,{}),n(ho,{})]})};const vo=()=>{const t=je();return f(Is,{store:Le,children:[n($e.GlobalStyles,{styles:{body:{margin:0,padding:0}}}),f(xs,{theme:t,children:[n(Hs,{}),n(Gs,{}),n(bo,{})]})]})};Bs.render(n(vo,{}),document.getElementById("root"));
//# sourceMappingURL=index.3839a31d.js.map
